!function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=705)}([function(t,e,n){"use strict";function r(t,e,n,r){function i(e,n,r){return new(t.Matrix.storage(n||"default"))(e,r)}var o=r("matrix",{"":function(){return i([])},string:function(t){return i([],t)},"string, string":function(t,e){return i([],t,e)},Array:function(t){return i(t)},Matrix:function(t){return i(t,t.storage())},"Array | Matrix, string":i,"Array | Matrix, string, string":i});return o.toTex={0:"\\begin{bmatrix}\\end{bmatrix}",1:"\\left(${args[0]}\\right)",2:"\\left(${args[0]}\\right)"},o}e.name="matrix",e.factory=r},function(t,e,n){"use strict";t.exports=function t(e,n,r){return e&&"function"==typeof e.map?e.map(function(e){return t(e,n,r)}):n(e)}},function(t,e,n){"use strict";function r(t){for(var e=[],n=0;n<t;n++)e.push(0);return e}e.isNumber=function(t){return"number"==typeof t},e.isInteger=function(t){return!!isFinite(t)&&t==Math.round(t)},e.sign=Math.sign||function(t){return t>0?1:t<0?-1:0},e.format=function(t,n){if("function"==typeof n)return n(t);if(t===1/0)return"Infinity";if(t===-1/0)return"-Infinity";if(isNaN(t))return"NaN";var r="auto",i=void 0;switch(n&&(n.notation&&(r=n.notation),e.isNumber(n)?i=n:n.precision&&(i=n.precision)),r){case"fixed":return e.toFixed(t,i);case"exponential":return e.toExponential(t,i);case"engineering":return e.toEngineering(t,i);case"auto":return e.toPrecision(t,i,n&&n.exponential).replace(/((\.\d*?)(0+))($|e)/,function(){var t=arguments[2],e=arguments[4];return"."!==t?t+e:e});default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", or "fixed".')}},e.splitNumber=function(t){var e=String(t).toLowerCase().match(/^0*?(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!e)throw new SyntaxError("Invalid number "+t);var n=e[1],r=e[2],i=parseFloat(e[4]||"0"),o=r.indexOf(".");i+=-1!==o?o-1:r.length-1;var a=r.replace(".","").replace(/^0*/,function(t){return i-=t.length,""}).replace(/0*$/,"").split("").map(function(t){return parseInt(t)});return 0===a.length&&(a.push(0),i++),{sign:n,coefficients:a,exponent:i}},e.toEngineering=function(t,n){if(isNaN(t)||!isFinite(t))return String(t);var i=e.roundDigits(e.splitNumber(t),n),o=i.exponent,a=i.coefficients,s=o%3==0?o:o<0?o-3-o%3:o-o%3,u=o>=0?o:Math.abs(s);a.length-1<u&&(a=a.concat(r(u-(a.length-1))));for(var c=Math.abs(o-s),f=1;--c>=0;)f++;var l=a.slice(f).join(""),h=l.match(/[1-9]/)?"."+l:"",p=a.slice(0,f).join("")+h+"e"+(o>=0?"+":"")+s.toString();return i.sign+p},e.toFixed=function(t,n){if(isNaN(t)||!isFinite(t))return String(t);var i=e.splitNumber(t),o=e.roundDigits(i,i.exponent+1+(n||0)),a=o.coefficients,s=o.exponent+1,u=s+(n||0);return a.length<u&&(a=a.concat(r(u-a.length))),s<0&&(a=r(1-s).concat(a),s=1),n&&a.splice(s,0,0===s?"0.":"."),o.sign+a.join("")},e.toExponential=function(t,n){if(isNaN(t)||!isFinite(t))return String(t);var i=e.splitNumber(t),o=n?e.roundDigits(i,n):i,a=o.coefficients,s=o.exponent;a.length<n&&(a=a.concat(r(n-a.length)));var u=a.shift();return o.sign+u+(a.length>0?"."+a.join(""):"")+"e"+(s>=0?"+":"")+s},e.toPrecision=function(t,n,i){if(isNaN(t)||!isFinite(t))return String(t);var o=i&&void 0!==i.lower?i.lower:.001,a=i&&void 0!==i.upper?i.upper:1e5,s=e.splitNumber(t),u=Math.abs(Math.pow(10,s.exponent));if(u<o||u>=a)return e.toExponential(t,n);var c=n?e.roundDigits(s,n):s,f=c.coefficients,l=c.exponent;f.length<n&&(f=f.concat(r(n-f.length))),f=f.concat(r(l-f.length+1+(f.length<n?n-f.length:0))),f=r(-l).concat(f);var h=l>0?l:0;return h<f.length-1&&f.splice(h+1,0,"."),c.sign+f.join("")},e.roundDigits=function(t,e){for(var n={sign:t.sign,coefficients:t.coefficients,exponent:t.exponent},r=n.coefficients;e<=0;)r.unshift(0),n.exponent++,e++;if(r.length>e){if(r.splice(e,r.length-e)[0]>=5){var i=e-1;for(r[i]++;10===r[i];)r.pop(),0===i&&(r.unshift(0),n.exponent++,i++),i--,r[i]++}}return n},e.digits=function(t){return t.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length},e.DBL_EPSILON=Number.EPSILON||2.220446049250313e-16,e.nearlyEqual=function(t,n,r){if(null==r)return t==n;if(t==n)return!0;if(isNaN(t)||isNaN(n))return!1;if(isFinite(t)&&isFinite(n)){var i=Math.abs(t-n);return i<e.DBL_EPSILON||i<=Math.max(Math.abs(t),Math.abs(n))*r}return!1}},function(t,e,n){"use strict";function r(t,e,n){var i,o=t.length;if(o!=e[n])throw new f(o,e[n]);if(n<e.length-1){var a=n+1;for(i=0;i<o;i++){var s=t[i];if(!Array.isArray(s))throw new f(e.length-1,e.length,"<");r(t[i],e,a)}}else for(i=0;i<o;i++)if(Array.isArray(t[i]))throw new f(e.length+1,e.length,">")}function i(t,n,r,o){var a,s,u=t.length,c=n[r],f=Math.min(u,c);if(t.length=c,r<n.length-1){var l=r+1;for(a=0;a<f;a++)s=t[a],Array.isArray(s)||(s=[s],t[a]=s),i(s,n,l,o);for(a=f;a<c;a++)s=[],t[a]=s,i(s,n,l,o)}else{for(a=0;a<f;a++)for(;Array.isArray(t[a]);)t[a]=t[a][0];if(o!==e.UNINITIALIZED)for(a=f;a<c;a++)t[a]=o}}function o(t,e){var n,r=[];if(0===e.length){if(0===t.length)throw new f(null,null,"!=");return t.shift()}for(n=0;n<e[0];n+=1)r.push(o(t,e.slice(1)));return r}function a(t,e,n){var r,i;if(n<e){var o=n+1;for(r=0,i=t.length;r<i;r++)t[r]=a(t[r],e,o)}else for(;Array.isArray(t);)t=t[0];return t}function s(t,e,n){var r,i;if(Array.isArray(t)){var o=n+1;for(r=0,i=t.length;r<i;r++)t[r]=s(t[r],e,o)}else for(var a=n;a<e;a++)t=[t];return t}var u=n(2),c=n(12),f=(n(5),n(98),n(10)),l=n(68);e.size=function(t){for(var e=[];Array.isArray(t);)e.push(t.length),t=t[0];return e},e.validate=function(t,e){if(0==e.length){if(Array.isArray(t))throw new f(t.length,0)}else r(t,e,0)},e.validateIndex=function(t,e){if(!u.isNumber(t)||!u.isInteger(t))throw new TypeError("Index must be an integer (value: "+t+")");if(t<0||"number"==typeof e&&t>=e)throw new l(t,e)},e.UNINITIALIZED={},e.resize=function(t,e,n){if(!Array.isArray(t)||!Array.isArray(e))throw new TypeError("Array expected");if(0===e.length)throw new Error("Resizing to scalar is not supported");return e.forEach(function(t){if(!u.isNumber(t)||!u.isInteger(t)||t<0)throw new TypeError("Invalid size, must contain positive integers (size: "+c.format(e)+")")}),i(t,e,0,void 0!==n?n:0),t},e.reshape=function(t,n){var r,i=e.flatten(t),a=function(t){return t.reduce(function(t,e){return t*e})};if(!Array.isArray(t)||!Array.isArray(n))throw new TypeError("Array expected");if(0===n.length)throw new f(0,a(e.size(t)),"!=");try{r=o(i,n)}catch(r){if(r instanceof f)throw new f(a(n),a(e.size(t)),"!=");throw r}if(i.length>0)throw new f(a(n),a(e.size(t)),"!=");return r},e.squeeze=function(t,n){for(var r=n||e.size(t);Array.isArray(t)&&1===t.length;)t=t[0],r.shift();for(var i=r.length;1===r[i-1];)i--;return i<r.length&&(t=a(t,i,0),r.length=i),t},e.unsqueeze=function(t,n,r,i){var o=i||e.size(t);if(r)for(var a=0;a<r;a++)t=[t],o.unshift(1);for(t=s(t,n,0);o.length<n;)o.push(1);return t},e.flatten=function(t){if(!Array.isArray(t))return t;var e=[];return t.forEach(function t(n){Array.isArray(n)?n.forEach(t):e.push(n)}),e},e.map=function(t,e){return Array.prototype.map.call(t,e)},e.forEach=function(t,e){Array.prototype.forEach.call(t,e)},e.join=function(t,e){return Array.prototype.join.call(t,e)},e.isArray=Array.isArray},function(t,e,n){"use strict";e.symbols={Alpha:"A",alpha:"\\alpha",Beta:"B",beta:"\\beta",Gamma:"\\Gamma",gamma:"\\gamma",Delta:"\\Delta",delta:"\\delta",Epsilon:"E",epsilon:"\\epsilon",varepsilon:"\\varepsilon",Zeta:"Z",zeta:"\\zeta",Eta:"H",eta:"\\eta",Theta:"\\Theta",theta:"\\theta",vartheta:"\\vartheta",Iota:"I",iota:"\\iota",Kappa:"K",kappa:"\\kappa",varkappa:"\\varkappa",Lambda:"\\Lambda",lambda:"\\lambda",Mu:"M",mu:"\\mu",Nu:"N",nu:"\\nu",Xi:"\\Xi",xi:"\\xi",Omicron:"O",omicron:"o",Pi:"\\Pi",pi:"\\pi",varpi:"\\varpi",Rho:"P",rho:"\\rho",varrho:"\\varrho",Sigma:"\\Sigma",sigma:"\\sigma",varsigma:"\\varsigma",Tau:"T",tau:"\\tau",Upsilon:"\\Upsilon",upsilon:"\\upsilon",Phi:"\\Phi",phi:"\\phi",varphi:"\\varphi",Chi:"X",chi:"\\chi",Psi:"\\Psi",psi:"\\psi",Omega:"\\Omega",omega:"\\omega",true:"\\mathrm{True}",false:"\\mathrm{False}",i:"i",inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:"\\lim",undefined:"\\mathbf{?}"},e.operators={transpose:"^\\top",factorial:"!",pow:"^",dotPow:".^\\wedge",unaryPlus:"+",unaryMinus:"-",bitNot:"~",not:"\\neg",multiply:"\\cdot",divide:"\\frac",dotMultiply:".\\cdot",dotDivide:".:",mod:"\\mod",add:"+",subtract:"-",to:"\\rightarrow",leftShift:"<<",rightArithShift:">>",rightLogShift:">>>",equal:"=",unequal:"\\neq",smaller:"<",larger:">",smallerEq:"\\leq",largerEq:"\\geq",bitAnd:"\\&",bitXor:"\\underline{|}",bitOr:"|",and:"\\wedge",xor:"\\veebar",or:"\\vee"},e.defaultTemplate="\\mathrm{${name}}\\left(${args}\\right)";var r={deg:"^\\circ"};e.toSymbol=function(t,n){if(n=void 0!==n&&n)return r.hasOwnProperty(t)?r[t]:"\\mathrm{"+t+"}";if(e.symbols.hasOwnProperty(t))return e.symbols[t];if(-1!==t.indexOf("_")){var i=t.indexOf("_");return e.toSymbol(t.substring(0,i))+"_{"+e.toSymbol(t.substring(i+1))+"}"}return t}},function(t,e,n){"use strict";e.clone=function t(n){var r=typeof n;if("number"===r||"string"===r||"boolean"===r||null===n||void 0===n)return n;if("function"==typeof n.clone)return n.clone();if(Array.isArray(n))return n.map(function(e){return t(e)});if(n instanceof Number)return new Number(n.valueOf());if(n instanceof String)return new String(n.valueOf());if(n instanceof Boolean)return new Boolean(n.valueOf());if(n instanceof Date)return new Date(n.valueOf());if(n&&!0===n.isBigNumber)return n;if(n instanceof RegExp)throw new TypeError("Cannot clone "+n);return e.map(n,t)},e.map=function(t,n){var r={};for(var i in t)e.hasOwnProperty(t,i)&&(r[i]=n(t[i]));return r},e.extend=function(t,n){for(var r in n)e.hasOwnProperty(n,r)&&(t[r]=n[r]);return t},e.deepExtend=function t(n,r){if(Array.isArray(r))throw new TypeError("Arrays are not supported by deepExtend");for(var i in r)if(e.hasOwnProperty(r,i))if(r[i]&&r[i].constructor===Object)void 0===n[i]&&(n[i]={}),n[i].constructor===Object?t(n[i],r[i]):n[i]=r[i];else{if(Array.isArray(r[i]))throw new TypeError("Arrays are not supported by deepExtend");n[i]=r[i]}return n},e.deepEqual=function(t,n){var r,i,o;if(Array.isArray(t)){if(!Array.isArray(n))return!1;if(t.length!=n.length)return!1;for(i=0,o=t.length;i<o;i++)if(!e.deepEqual(t[i],n[i]))return!1;return!0}if(t instanceof Object){if(Array.isArray(n)||!(n instanceof Object))return!1;for(r in t)if(!e.deepEqual(t[r],n[r]))return!1;for(r in n)if(!e.deepEqual(t[r],n[r]))return!1;return!0}return typeof t==typeof n&&t==n},e.canDefineProperty=function(){try{if(Object.defineProperty)return Object.defineProperty({},"x",{get:function(){}}),!0}catch(t){}return!1},e.lazy=function(t,n,r){if(e.canDefineProperty()){var i,o=!0;Object.defineProperty(t,n,{get:function(){return o&&(i=r(),o=!1),i},set:function(t){i=t,o=!1},configurable:!0,enumerable:!0})}else t[n]=r()},e.traverse=function(t,e){var n=t;if(e)for(var r=e.split("."),i=0;i<r.length;i++){var o=r[i];o in n||(n[o]={}),n=n[o]}return n},e.hasOwnProperty=function(t,e){return t&&Object.hasOwnProperty.call(t,e)},e.isFactory=function(t){return t&&"function"==typeof t.factory}},function(t,e,n){"use strict";function r(t,e,n,r){var o=t.DenseMatrix,a=function(t,e,n,a){var u,c=t._data,f=t._size,l=t._datatype,h=n;"string"==typeof l&&(u=l,e=r.convert(e,u),h=r.find(n,[u,u]));var p=f.length>0?s(h,0,f,f[0],c,e,a):[];return new o({data:p,size:i(f),datatype:u})},s=function(t,e,n,r,i,o,a){var u=[];if(e===n.length-1)for(var c=0;c<r;c++)u[c]=a?t(o,i[c]):t(i[c],o);else for(var f=0;f<r;f++)u[f]=s(t,e+1,n,n[e+1],i[f],o,a);return u};return a}var i=n(5).clone;e.name="algorithm14",e.factory=r},function(t,e,n){function r(){function t(t,e){if(void 0!==n[t])throw new Error('Cannot register type "'+t+'": already exists');n[t]=e}function e(t,e,r){if(i(n,t.type)){return(0,n[t.type])(t,e,r)}if("function"!=typeof t._compile||i(t,"_compile"))throw new Error('Cannot compile node: unknown type "'+t.type+'"');return t._compile(e,r)}var n={};return{register:t,compile:e}}var i=n(5).hasOwnProperty;e.factory=r},function(t,e,n){var r=n(35),i=n(44),o=n(54),a=n(82),s=n(78),u=function(t,e,n){var c,f,l,h,p=t&u.F,d=t&u.G,m=t&u.S,g=t&u.P,v=t&u.B,y=d?r:m?r[e]||(r[e]={}):(r[e]||{}).prototype,x=d?i:i[e]||(i[e]={}),w=x.prototype||(x.prototype={});d&&(n=e);for(c in n)f=!p&&y&&void 0!==y[c],l=(f?y:n)[c],h=v&&f?s(l,r):g&&"function"==typeof l?s(Function.call,l):l,y&&a(y,c,l,t&u.U),x[c]!=l&&o(x,c,h),g&&w[c]!=l&&(w[c]=l)};r.core=i,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t,e,n){"use strict";function r(t,e,n,r){var i=t.DenseMatrix,a=function(t,e,n){var a=t._data,u=t._size,c=t._datatype,f=e._data,l=e._size,h=e._datatype,p=[];if(u.length!==l.length)throw new o(u.length,l.length);for(var d=0;d<u.length;d++){if(u[d]!==l[d])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+l+")");p[d]=u[d]}var m,g=n;"string"==typeof c&&c===h&&(m=c,e=r.convert(e,m),g=r.find(n,[m,m]));var v=p.length>0?s(g,0,p,p[0],a,f):[];return new i({data:v,size:p,datatype:m})},s=function(t,e,n,r,i,o){var a=[];if(e===n.length-1)for(var u=0;u<r;u++)a[u]=t(i[u],o[u]);else for(var c=0;c<r;c++)a[c]=s(t,e+1,n,n[e+1],i[c],o[c]);return a};return a}var i=n(33),o=n(10),a=i.string;a.isString;e.name="algorithm13",e.factory=r},function(t,e,n){"use strict";function r(t,e,n){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this.actual=t,this.expected=e,this.relation=n,this.message="Dimension mismatch ("+(Array.isArray(t)?"["+t.join(", ")+"]":t)+" "+(this.relation||"!=")+" "+(Array.isArray(e)?"["+e.join(", ")+"]":e)+")",this.stack=(new Error).stack}r.prototype=new RangeError,r.prototype.constructor=RangeError,r.prototype.name="DimensionError",r.prototype.isDimensionError=!0,t.exports=r},function(t,e,n){"use strict";function r(t,e,n,r){var a=r("equalScalar",{"boolean, boolean":function(t,e){return t===e},"number, number":function(t,n){return t===n||i(t,n,e.epsilon)},"BigNumber, BigNumber":function(t,n){return t.eq(n)||o(t,n,e.epsilon)},"Fraction, Fraction":function(t,e){return t.equals(e)},"Complex, Complex":function(t,e){return t.equals(e)},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return a(t.value,e.value)},"string, string":function(t,e){return t===e}});return a}var i=n(2).nearlyEqual,o=n(50);e.factory=r},function(t,e,n){"use strict";function r(t,n){if(Array.isArray(t)){for(var i="[",o=t.length,a=0;a<o;a++)0!=a&&(i+=", "),i+=r(t[a],n);return i+="]"}return e.format(t,n)}var i=n(2).format,o=n(694).format;e.isString=function(t){return"string"==typeof t},e.endsWith=function(t,e){var n=t.length-e.length,r=t.length;return t.substring(n,r)===e},e.format=function(t,n){if("number"==typeof t)return i(t,n);if(t&&!0===t.isBigNumber)return o(t,n);if(t&&!0===t.isFraction)return n&&"decimal"===n.fraction?t.toString():t.s*t.n+"/"+t.d;if(Array.isArray(t))return r(t,n);if(e.isString(t))return'"'+t+'"';if("function"==typeof t)return t.syntax?String(t.syntax):"function";if(t&&"object"==typeof t){if("function"==typeof t.format)return t.format(n);if(t&&t.toString()!=={}.toString())return t.toString();var a=[];for(var s in t)t.hasOwnProperty(s)&&a.push('"'+s+'": '+e.format(t[s],n));return"{"+a.join(", ")+"}"}return String(t)},e.stringify=function(t){for(var e=String(t),n="",r=0;r<e.length;){var i=e.charAt(r);"\\"===i?(n+=i,r++,i=e.charAt(r),""!==i&&-1!=='"\\/bfnrtu'.indexOf(i)||(n+="\\"),n+=i):n+='"'===i?'\\"':i,r++}return'"'+n+'"'}},function(t,e,n){"use strict";function r(t,e,r,a){var s=n(4),u=r(n(0)),c=r(n(22)),f=r(n(25)),l=r(n(11)),h=r(n(16)),p=r(n(6)),d=t.DenseMatrix,m=t.SparseMatrix,g=a("multiply",i({"Array, Array":function(t,e){v(o.size(t),o.size(e));var n=g(u(t),u(e));return n&&!0===n.isMatrix?n.valueOf():n},"Matrix, Matrix":function(t,e){var n=t.size(),r=e.size();return v(n,r),1===n.length?1===r.length?y(t,e,n[0]):x(t,e):1===r.length?b(t,e):_(t,e)},"Matrix, Array":function(t,e){return g(t,u(e))},"Array, Matrix":function(t,e){return g(u(t,e.storage()),e)},"Matrix, any":function(t,e){var n;switch(t.storage()){case"sparse":n=h(t,e,f,!1);break;case"dense":n=p(t,e,f,!1)}return n},"any, Matrix":function(t,e){var n;switch(e.storage()){case"sparse":n=h(e,t,f,!0);break;case"dense":n=p(e,t,f,!0)}return n},"Array, any":function(t,e){return p(u(t),e,f,!1).valueOf()},"any, Array":function(t,e){return p(u(e),t,f,!0).valueOf()},"any, any":f,"any, any, ...any":function(t,e,n){for(var r=g(t,e),i=0;i<n.length;i++)r=g(r,n[i]);return r}},f.signatures)),v=function(t,e){switch(t.length){case 1:switch(e.length){case 1:if(t[0]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(t[0]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+t[0]+") must match Matrix rows ("+e[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+e.length+" dimensions)")}break;case 2:switch(e.length){case 1:if(t[1]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+t[1]+") must match Vector length ("+e[0]+")");break;case 2:if(t[1]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+t[1]+") must match Matrix B rows ("+e[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+e.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+t.length+" dimensions)")}},y=function(t,e,n){if(0===n)throw new Error("Cannot multiply two empty vectors");var r,i=t._data,o=t._datatype,s=e._data,u=e._datatype,l=c,h=f;o&&u&&o===u&&"string"==typeof o&&(r=o,l=a.find(c,[r,r]),h=a.find(f,[r,r]));for(var p=h(i[0],s[0]),d=1;d<n;d++)p=l(p,h(i[d],s[d]));return p},x=function(t,e){switch(e.storage()){case"dense":return w(t,e)}throw new Error("Not implemented")},w=function(t,e){var n,r=t._data,i=t._size,o=t._datatype,s=e._data,u=e._size,l=e._datatype,h=i[0],p=u[1],m=c,g=f;o&&l&&o===l&&"string"==typeof o&&(n=o,m=a.find(c,[n,n]),g=a.find(f,[n,n]));for(var v=[],y=0;y<p;y++){for(var x=g(r[0],s[0][y]),w=1;w<h;w++)x=m(x,g(r[w],s[w][y]));v[y]=x}return new d({data:v,size:[p],datatype:n})},b=function(t,e){switch(t.storage()){case"dense":return N(t,e);case"sparse":return S(t,e)}},_=function(t,e){switch(t.storage()){case"dense":switch(e.storage()){case"dense":return E(t,e);case"sparse":return M(t,e)}break;case"sparse":switch(e.storage()){case"dense":return A(t,e);case"sparse":return O(t,e)}}},N=function(t,e){var n,r=t._data,i=t._size,o=t._datatype,s=e._data,u=e._datatype,l=i[0],h=i[1],p=c,m=f;o&&u&&o===u&&"string"==typeof o&&(n=o,p=a.find(c,[n,n]),m=a.find(f,[n,n]));for(var g=[],v=0;v<l;v++){for(var y=r[v],x=m(y[0],s[0]),w=1;w<h;w++)x=p(x,m(y[w],s[w]));g[v]=x}return new d({data:g,size:[l],datatype:n})},E=function(t,e){var n,r=t._data,i=t._size,o=t._datatype,s=e._data,u=e._size,l=e._datatype,h=i[0],p=i[1],m=u[1],g=c,v=f;o&&l&&o===l&&"string"==typeof o&&(n=o,g=a.find(c,[n,n]),v=a.find(f,[n,n]));for(var y=[],x=0;x<h;x++){var w=r[x];y[x]=[];for(var b=0;b<m;b++){for(var _=v(w[0],s[0][b]),N=1;N<p;N++)_=g(_,v(w[N],s[N][b]));y[x][b]=_}}return new d({data:y,size:[h,m],datatype:n})},M=function(t,e){var n=t._data,r=t._size,i=t._datatype,o=e._values,s=e._index,u=e._ptr,h=e._size,p=e._datatype;if(!o)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var d,g=r[0],v=h[1],y=c,x=f,w=l,b=0;i&&p&&i===p&&"string"==typeof i&&(d=i,y=a.find(c,[d,d]),x=a.find(f,[d,d]),w=a.find(l,[d,d]),b=a.convert(0,d));for(var _=[],N=[],E=[],M=new m({values:_,index:N,ptr:E,size:[g,v],datatype:d}),S=0;S<v;S++){E[S]=N.length;var A=u[S],O=u[S+1];if(O>A)for(var C=0,T=0;T<g;T++){for(var P,z=T+1,k=A;k<O;k++){var I=s[k];C!==z?(P=x(n[T][I],o[k]),C=z):P=y(P,x(n[T][I],o[k]))}C!==z||w(P,b)||(N.push(T),_.push(P))}}return E[v]=N.length,M},S=function(t,e){var n=t._values,r=t._index,i=t._ptr,o=t._datatype;if(!n)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var s,u=e._data,h=e._datatype,p=t._size[0],d=e._size[0],g=[],v=[],y=[],x=c,w=f,b=l,_=0;o&&h&&o===h&&"string"==typeof o&&(s=o,x=a.find(c,[s,s]),w=a.find(f,[s,s]),b=a.find(l,[s,s]),_=a.convert(0,s));var N=[],E=[];y[0]=0;for(var M=0;M<d;M++){var S=u[M];if(!b(S,_))for(var A=i[M],O=i[M+1],C=A;C<O;C++){var T=r[C];E[T]?N[T]=x(N[T],w(S,n[C])):(E[T]=!0,v.push(T),N[T]=w(S,n[C]))}}for(var P=v.length,z=0;z<P;z++){var k=v[z];g[z]=N[k]}return y[1]=v.length,new m({values:g,index:v,ptr:y,size:[p,1],datatype:s})},A=function(t,e){var n=t._values,r=t._index,i=t._ptr,o=t._datatype;if(!n)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var s,u=e._data,h=e._datatype,p=t._size[0],d=e._size[0],g=e._size[1],v=c,y=f,x=l,w=0;o&&h&&o===h&&"string"==typeof o&&(s=o,v=a.find(c,[s,s]),y=a.find(f,[s,s]),x=a.find(l,[s,s]),w=a.convert(0,s));for(var b=[],_=[],N=[],E=new m({values:b,index:_,ptr:N,size:[p,g],datatype:s}),M=[],S=[],A=0;A<g;A++){N[A]=_.length;for(var O=A+1,C=0;C<d;C++){var T=u[C][A];if(!x(T,w))for(var P=i[C],z=i[C+1],k=P;k<z;k++){var I=r[k];S[I]!==O?(S[I]=O,_.push(I),M[I]=y(T,n[k])):M[I]=v(M[I],y(T,n[k]))}}for(var B=N[A],j=_.length,R=B;R<j;R++){var L=_[R];b[R]=M[L]}}return N[g]=_.length,E},O=function(t,e){var n,r=t._values,i=t._index,o=t._ptr,s=t._datatype,u=e._values,l=e._index,h=e._ptr,p=e._datatype,d=t._size[0],g=e._size[1],v=r&&u,y=c,x=f;s&&p&&s===p&&"string"==typeof s&&(n=s,y=a.find(c,[n,n]),x=a.find(f,[n,n]));for(var w,b,_,N,E,M,S,A,O=v?[]:void 0,C=[],T=[],P=new m({values:O,index:C,ptr:T,size:[d,g],datatype:n}),z=v?[]:void 0,k=[],I=0;I<g;I++){T[I]=C.length;var B=I+1;for(E=h[I],M=h[I+1],N=E;N<M;N++)if(A=l[N],v)for(b=o[A],_=o[A+1],w=b;w<_;w++)S=i[w],k[S]!==B?(k[S]=B,C.push(S),z[S]=x(u[N],r[w])):z[S]=y(z[S],x(u[N],r[w]));else for(b=o[A],_=o[A+1],w=b;w<_;w++)S=i[w],k[S]!==B&&(k[S]=B,C.push(S));if(v)for(var j=T[I],R=C.length,L=j;L<R;L++){var F=C[L];O[L]=z[F]}}return T[g]=C.length,P};return g.toTex={2:"\\left(${args[0]}"+s.operators.multiply+"${args[1]}\\right)"},g}var i=n(5).extend,o=n(3);e.name="multiply",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,s,u){function c(){if(!(this instanceof c))throw new SyntaxError("Constructor must be called with the new operator")}function f(t){for(var e in t)if(a(t,e)&&e in i)throw new Error('Scope contains an illegal symbol, "'+e+'" is a reserved keyword')}var l=r(n(7)).compile;return c.prototype.eval=function(t){return this.compile().eval(t)},c.prototype.type="Node",c.prototype.isNode=!0,c.prototype.comment="",c.prototype.compile=function(){if(arguments.length>0)throw new Error("Calling compile(math) is deprecated. Call the function as compile() instead.");var t={math:u.expression.mathWithTransform,args:{},_validateScope:f},e={},n=l(this,t,e),r=Object.keys(t).map(function(t){return"    var "+t+' = defs["'+t+'"];'}),i=r.join(" ")+'return {  "eval": function (scope) {    if (scope) _validateScope(scope);    scope = scope || {};    return '+n+";  }};";return new Function("defs",i)(t)},c.prototype.forEach=function(t){throw new Error("Cannot run forEach on a Node interface")},c.prototype.map=function(t){throw new Error("Cannot run map on a Node interface")},c.prototype._ifNode=function(t){if(!t||!t.isNode)throw new TypeError("Callback function must return a Node");return t},c.prototype.traverse=function(t){function e(t,n){t.forEach(function(t,r,i){n(t,r,i),e(t,n)})}t(this,null,null),e(this,t)},c.prototype.transform=function(t){function e(t,n){return t.map(function(t,r,i){return e(n(t,r,i),n)})}return e(t(this,null,null),t)},c.prototype.filter=function(t){var e=[];return this.traverse(function(n,r,i){t(n,r,i)&&e.push(n)}),e},c.prototype.find=function(){throw new Error("Function Node.find is deprecated. Use Node.filter instead.")},c.prototype.match=function(){throw new Error("Function Node.match is deprecated. See functions Node.filter, Node.transform, Node.traverse.")},c.prototype.clone=function(){throw new Error("Cannot clone a Node interface")},c.prototype.cloneDeep=function(){return this.map(function(t){return t.cloneDeep()})},c.prototype.equals=function(t){return!!t&&o(this,t)},c.prototype.toString=function(t){var e;if(t&&"object"==typeof t)switch(typeof t.handler){case"object":case"undefined":break;case"function":e=t.handler(this,t);break;default:throw new TypeError("Object or function expected as callback")}return void 0!==e?e:this._toString(t)},c.prototype._toString=function(){throw new Error("_toString not implemented for "+this.type)},c.prototype.toTex=function(t){var e;if(t&&"object"==typeof t)switch(typeof t.handler){case"object":case"undefined":break;case"function":e=t.handler(this,t);break;default:throw new TypeError("Object or function expected as callback")}return void 0!==e?e:this._toTex(t)},c.prototype._toTex=function(t){throw new Error("_toTex not implemented for "+this.type)},c.prototype.getIdentifier=function(){return this.type},c.prototype.getContent=function(){return this},c}var i=n(115),o=n(5).deepEqual,a=n(5).hasOwnProperty;e.name="Node",e.path="expression.node",e.math=!0,e.factory=r},function(t,e,n){"use strict";function r(t,e,n,r){var o=t.DenseMatrix;return function(t,e,n,a){var s=t._data,u=t._size,c=t._datatype,f=e._values,l=e._index,h=e._ptr,p=e._size,d=e._datatype;if(u.length!==p.length)throw new i(u.length,p.length);if(u[0]!==p[0]||u[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+p+")");if(!f)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var m,g=u[0],v=u[1],y=0,x=n;"string"==typeof c&&c===d&&(m=c,y=r.convert(0,m),x=r.find(n,[m,m]));for(var w=[],b=0;b<g;b++)w[b]=[];for(var _=[],N=[],E=0;E<v;E++){for(var M=E+1,S=h[E],A=h[E+1],O=S;O<A;O++){var C=l[O];_[C]=a?x(f[O],s[C][E]):x(s[C][E],f[O]),N[C]=M}for(var T=0;T<g;T++)N[T]===M?w[T][E]=_[T]:w[T][E]=a?x(y,s[T][E]):x(s[T][E],y)}return new o({data:w,size:[g,v],datatype:m})}}var i=n(10);e.name="algorithm03",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,i){var o=r(n(11)),a=t.SparseMatrix;return function(t,e,n,r){var s=t._values,u=t._index,c=t._ptr,f=t._size,l=t._datatype;if(!s)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var h,p=f[0],d=f[1],m=o,g=0,v=n;"string"==typeof l&&(h=l,m=i.find(o,[h,h]),g=i.convert(0,h),e=i.convert(e,h),v=i.find(n,[h,h]));for(var y=[],x=[],w=[],b=new a({values:y,index:x,ptr:w,size:[p,d],datatype:h}),_=0;_<d;_++){w[_]=x.length;for(var N=c[_],E=c[_+1],M=N;M<E;M++){var S=u[M],A=r?v(e,s[M]):v(s[M],e);m(A,g)||(x.push(S),y.push(A))}}return w[d]=x.length,b}}e.name="algorithm11",e.factory=r},function(t,e,n){"use strict";function r(t,e,n,r){var i=t.DenseMatrix;return function(t,e,n,o){var a=t._values,s=t._index,u=t._ptr,c=t._size,f=t._datatype;if(!a)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var l,h=c[0],p=c[1],d=n;"string"==typeof f&&(l=f,e=r.convert(e,l),d=r.find(n,[l,l]));for(var m=[],g=new i({data:m,size:[h,p],datatype:l}),v=[],y=[],x=0;x<p;x++){for(var w=x+1,b=u[x],_=u[x+1],N=b;N<_;N++){var E=s[N];v[E]=a[N],y[E]=w}for(var M=0;M<h;M++)0===x&&(m[M]=[]),y[M]===w?m[M][x]=o?d(e,v[M]):d(v[M],e):m[M][x]=o?d(e,0):d(0,e)}return g}}e.name="algorithm12",e.factory=r},function(t,e,n){"use strict";function r(t,e){if(u(t)){if(c(t,e))return t[e];if(!(e in t))return}if("function"==typeof t[e]&&s(t,e))throw new Error('Cannot access method "'+e+'" as a property');throw new Error('No access to property "'+e+'"')}function i(t,e,n){if(u(t)){if(!(e in t))return t[e]=n;if(c(t,e))return t[e]=n}throw new Error('No access to property "'+e+'"')}function o(t){return!(t in{})}function a(t,e){if(!s(t,e))throw new Error('No access to method "'+e+'"')}function s(t,e){return"constructor"!==e&&(!(!c(t,e)||!u(t))||c(f,e))}function u(t){return"object"==typeof t&&t&&t.constructor===Object}var c=n(5).hasOwnProperty,f={abs:!0,absoluteValue:!0,acos:!0,acosh:!0,acot:!0,acoth:!0,acsc:!0,acsch:!0,add:!0,and:!0,arg:!0,asec:!0,asech:!0,asin:!0,asinh:!0,atan:!0,atan2:!0,atanh:!0,bellNumbers:!0,bignumber:!0,bitAnd:!0,bitNot:!0,bitOr:!0,bitXor:!0,boolean:!0,catalan:!0,cbrt:!0,ceil:!0,chain:!0,clone:!0,cloneDeep:!0,cmp:!0,combinations:!0,compare:!0,comparedTo:!0,compile:!0,complex:!0,composition:!0,concat:!0,config:!0,conj:!0,conjugate:!0,cos:!0,cosh:!0,cosine:!0,cot:!0,coth:!0,create:!0,createUnit:!0,cross:!0,csc:!0,csch:!0,cube:!0,cubeRoot:!0,decimalPlaces:!0,deepEqual:!0,derivative:!0,det:!0,diag:!0,diagonal:!0,distance:!0,div:!0,divToInt:!0,divide:!0,dividedBy:!0,dividedToIntegerBy:!0,done:!0,dot:!0,dotDivide:!0,dotMultiply:!0,dotPow:!0,dp:!0,emit:!0,eq:!0,equal:!0,equalBase:!0,equals:!0,erf:!0,eval:!0,exp:!0,eye:!0,factorial:!0,filter:!0,fix:!0,flatten:!0,floor:!0,forEach:!0,format:!0,formatUnits:!0,fraction:!0,gamma:!0,gcd:!0,greaterThan:!0,greaterThanOrEqualTo:!0,gt:!0,gte:!0,hasBase:!0,help:!0,hyperbolicCosine:!0,hyperbolicSine:!0,hyperbolicTangent:!0,hypot:!0,im:!0,import:!0,index:!0,intersect:!0,inv:!0,inverse:!0,inverseCosine:!0,inverseHyperbolicCosine:!0,inverseHyperbolicSine:!0,inverseHyperbolicTangent:!0,inverseSine:!0,inverseTangent:!0,isFinite:!0,isInt:!0,isInteger:!0,isNaN:!0,isNeg:!0,isNegative:!0,isNumeric:!0,isPos:!0,isPositive:!0,isPrime:!0,isZero:!0,kldivergence:!0,kron:!0,larger:!0,largerEq:!0,lcm:!0,leftShift:!0,lessThan:!0,lessThanOrEqualTo:!0,ln:!0,log:!0,log10:!0,log2:!0,logarithm:!0,lsolve:!0,lt:!0,lte:!0,lup:!0,lusolve:!0,mad:!0,map:!0,matrix:!0,max:!0,mean:!0,median:!0,min:!0,minus:!0,mod:!0,mode:!0,modulo:!0,mul:!0,multinomial:!0,multiply:!0,naturalExponential:!0,naturalLogarithm:!0,neg:!0,negated:!0,noConflict:!0,norm:!0,not:!0,nthRoot:!0,number:!0,off:!0,on:!0,once:!0,ones:!0,or:!0,parse:!0,parser:!0,partitionSelect:!0,permutations:!0,pickRandom:!0,plus:!0,pow:!0,precision:!0,print:!0,prod:!0,quantileSeq:!0,random:!0,randomInt:!0,range:!0,re:!0,reshape:!0,resize:!0,rightArithShift:!0,rightLogShift:!0,round:!0,sd:!0,sec:!0,sech:!0,set:!0,sign:!0,simplify:!0,sin:!0,sine:!0,sinh:!0,size:!0,slu:!0,smaller:!0,smallerEq:!0,sort:!0,sparse:!0,splitUnit:!0,sqrt:!0,square:!0,squareRoot:!0,squeeze:!0,std:!0,stirlingS2:!0,string:!0,sub:!0,subset:!0,subtract:!0,sum:!0,swapRows:!0,tan:!0,tangent:!0,tanh:!0,times:!0,to:!0,toArray:!0,toBinary:!0,toContinued:!0,toDP:!0,toDecimalPlaces:!0,toExponential:!0,toFixed:!0,toFraction:!0,toHex:!0,toHexadecimal:!0,toJSON:!0,toLatex:!0,toNearest:!0,toNumber:!0,toNumeric:!0,toOctal:!0,toPower:!0,toPrecision:!0,toSD:!0,toSignificantDigits:!0,toString:!0,toTex:!0,toVector:!0,trace:!0,transform:!0,transpose:!0,traverse:!0,trunc:!0,truncated:!0,typed:!0,typeof:!0,unaryMinus:!0,unaryPlus:!0,unequal:!0,unit:!0,usolve:!0,valueOf:!0,var:!0,xgcd:!0,xor:!0,zeros:!0};e.getSafeProperty=r,e.setSafeProperty=i,e.isSafeProperty=o,e.validateSafeMethod=a,e.isSafeMethod=s},function(t,e,n){"use strict";function r(t,e,r,o){var a=r(n(0)),s=r(n(22)),u=n(4),c=r(n(42)),f=r(n(127)),l=r(n(49)),h=r(n(9)),p=r(n(6)),d=o("add",i({"Matrix, Matrix":function(t,e){var n;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":n=f(t,e,s);break;default:n=c(e,t,s,!0)}break;default:switch(e.storage()){case"sparse":n=c(t,e,s,!1);break;default:n=h(t,e,s)}}return n},"Array, Array":function(t,e){return d(a(t),a(e)).valueOf()},"Array, Matrix":function(t,e){return d(a(t),e)},"Matrix, Array":function(t,e){return d(t,a(e))},"Matrix, any":function(t,e){var n;switch(t.storage()){case"sparse":n=l(t,e,s,!1);break;default:n=p(t,e,s,!1)}return n},"any, Matrix":function(t,e){var n;switch(e.storage()){case"sparse":n=l(e,t,s,!0);break;default:n=p(e,t,s,!0)}return n},"Array, any":function(t,e){return p(a(t),e,s,!1).valueOf()},"any, Array":function(t,e){return p(a(e),t,s,!0).valueOf()},"any, any":s,"any, any, ...any":function(t,e,n){for(var r=d(t,e),i=0;i<n.length;i++)r=d(r,n[i]);return r}},s.signatures));return d.toTex={2:"\\left(${args[0]}"+u.operators.add+"${args[1]}\\right)"},d}var i=n(5).extend;e.name="add",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,i){var o=r(n(25)),a=i("divide",{"number, number":function(t,e){return t/e},"Complex, Complex":function(t,e){return t.div(e)},"BigNumber, BigNumber":function(t,e){return t.div(e)},"Fraction, Fraction":function(t,e){return t.div(e)},"Unit, number | Fraction | BigNumber":function(t,e){var n=t.clone();return n.value=a(null===n.value?n._normalize(1):n.value,e),n},"number | Fraction | BigNumber, Unit":function(t,e){var n=e.pow(-1);return n.value=o(null===n.value?n._normalize(1):n.value,t),n},"Unit, Unit":function(t,e){return t.divide(e)}});return a}e.factory=r},function(t,e,n){var r=n(109)("wks"),i=n(66),o=n(35).Symbol,a="function"==typeof o;(t.exports=function(t){return r[t]||(r[t]=a&&o[t]||(a?o:i)("Symbol."+t))}).store=r},function(t,e,n){"use strict";function r(t,e,n,r){var i=r("add",{"number, number":function(t,e){return t+e},"Complex, Complex":function(t,e){return t.add(e)},"BigNumber, BigNumber":function(t,e){return t.plus(e)},"Fraction, Fraction":function(t,e){return t.add(e)},"Unit, Unit":function(t,e){if(null==t.value)throw new Error("Parameter x contains a unit with undefined value");if(null==e.value)throw new Error("Parameter y contains a unit with undefined value");if(!t.equalBase(e))throw new Error("Units do not match");var n=t.clone();return n.value=i(n.value,e.value),n.fixPrefix=!1,n}});return i}e.factory=r},function(t,e,n){"use strict";function r(t,e,r,o){var a=n(4),s=r(n(0)),u=r(n(22)),c=r(n(47)),f=r(n(42)),l=r(n(15)),h=r(n(94)),p=r(n(49)),d=r(n(9)),m=r(n(6)),g=o("subtract",{"number, number":function(t,e){return t-e},"Complex, Complex":function(t,e){return t.sub(e)},"BigNumber, BigNumber":function(t,e){return t.minus(e)},"Fraction, Fraction":function(t,e){return t.sub(e)},"Unit, Unit":function(t,e){if(null==t.value)throw new Error("Parameter x contains a unit with undefined value");if(null==e.value)throw new Error("Parameter y contains a unit with undefined value");if(!t.equalBase(e))throw new Error("Units do not match");var n=t.clone();return n.value=g(n.value,e.value),n.fixPrefix=!1,n},"Matrix, Matrix":function(t,e){var n=t.size(),r=e.size();if(n.length!==r.length)throw new i(n.length,r.length);var o;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":o=h(t,e,g);break;default:o=l(e,t,g,!0)}break;default:switch(e.storage()){case"sparse":o=f(t,e,g,!1);break;default:o=d(t,e,g)}}return o},"Array, Array":function(t,e){return g(s(t),s(e)).valueOf()},"Array, Matrix":function(t,e){return g(s(t),e)},"Matrix, Array":function(t,e){return g(t,s(e))},"Matrix, any":function(t,e){var n;switch(t.storage()){case"sparse":n=p(t,c(e),u);break;default:n=m(t,e,g)}return n},"any, Matrix":function(t,e){var n;switch(e.storage()){case"sparse":n=p(e,t,g,!0);break;default:n=m(e,t,g,!0)}return n},"Array, any":function(t,e){return m(s(t),e,g,!1).valueOf()},"any, Array":function(t,e){return m(s(e),t,g,!0).valueOf()}});return g.toTex={2:"\\left(${args[0]}"+a.operators.subtract+"${args[1]}\\right)"},g}var i=n(10);e.name="subtract",e.factory=r},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){"use strict";function r(t,e,n,r){var i=r("multiplyScalar",{"number, number":function(t,e){return t*e},"Complex, Complex":function(t,e){return t.mul(e)},"BigNumber, BigNumber":function(t,e){return t.times(e)},"Fraction, Fraction":function(t,e){return t.mul(e)},"number | Fraction | BigNumber | Complex, Unit":function(t,e){var n=e.clone();return n.value=null===n.value?n._normalize(t):i(n.value,t),n},"Unit, number | Fraction | BigNumber | Complex":function(t,e){var n=t.clone();return n.value=null===n.value?n._normalize(e):i(n.value,e),n},"Unit, Unit":function(t,e){return t.multiply(e)}});return i}e.factory=r},function(t,e,n){var r=n(28);t.exports=function(t,e){return!!t&&r(function(){e?t.call(null,function(){},1):t.call(null)})}},function(t,e,n){"use strict";function r(t,e,r,o){var a=r(n(11)),s=t.SparseMatrix;return function(t,e,n,r){var u=t._data,c=t._size,f=t._datatype,l=e._values,h=e._index,p=e._ptr,d=e._size,m=e._datatype;if(c.length!==d.length)throw new i(c.length,d.length);if(c[0]!==d[0]||c[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+d+")");if(!l)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var g,v=c[0],y=c[1],x=a,w=0,b=n;"string"==typeof f&&f===m&&(g=f,x=o.find(a,[g,g]),w=o.convert(0,g),b=o.find(n,[g,g]));for(var _=[],N=[],E=[],M=0;M<y;M++){E[M]=N.length;for(var S=p[M],A=p[M+1],O=S;O<A;O++){var C=h[O],T=r?b(l[O],u[C][M]):b(u[C][M],l[O]);x(T,w)||(N.push(C),_.push(T))}}return E[y]=N.length,new s({values:_,index:N,ptr:E,size:[v,y],datatype:g})}}var i=n(10);e.name="algorithm02",e.factory=r},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var r=n(8),i=n(44),o=n(28);t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],a={};a[t]=e(n),r(r.S+r.F*o(function(){n(1)}),"Object",a)}},function(t,e,n){var r=n(64),i=n(100);t.exports=function(t){return r(i(t))}},function(t,e,n){var r=n(100);t.exports=function(t){return Object(r(t))}},function(t,e,n){"use strict";function r(t,e,n,r){var o=t.DenseMatrix,a=function(t,e,n){var a=t._size,u=t._datatype,c=e._size,f=e._datatype;if(a.length!==c.length)throw new i(a.length,c.length);if(a[0]!==c[0]||a[1]!==c[1])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+c+")");var l,h=a[0],p=a[1],d=0,m=n;"string"==typeof u&&u===f&&(l=u,d=r.convert(0,l),m=r.find(n,[l,l]));var g,v,y=[];for(g=0;g<h;g++)y[g]=[];var x=new o({data:y,size:[h,p],datatype:l}),w=[],b=[],_=[],N=[];for(v=0;v<p;v++){var E=v+1;for(s(t,v,_,w,E),s(e,v,N,b,E),g=0;g<h;g++){var M=_[g]===E?w[g]:d,S=N[g]===E?b[g]:d;y[g][v]=m(M,S)}}return x},s=function(t,e,n,r,i){for(var o=t._values,a=t._index,s=t._ptr,u=s[e],c=s[e+1];u<c;u++){var f=a[u];n[f]=i,r[f]=o[u]}};return a}var i=n(10);e.name="algorithm07",e.factory=r},function(t,e,n){"use strict";e.array=n(3),e.boolean=n(697),e.function=n(52),e.number=n(2),e.object=n(5),e.string=n(12),e.types=n(98),e.emitter=n(215)},function(t,e,n){t.exports=!n(28)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){var r=n(53),i=n(140),o=n(110),a=Object.defineProperty;e.f=n(34)?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){"use strict";function r(t,e,n,r){var o=r("abs",{number:Math.abs,Complex:function(t){return t.abs()},BigNumber:function(t){return t.abs()},Fraction:function(t){return t.abs()},"Array | Matrix":function(t){return i(t,o,!0)},Unit:function(t){return t.abs()}});return o.toTex={1:"\\left|${args[0]}\\right|"},o}var i=n(1);e.name="abs",e.factory=r},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(84),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e,n){"use strict";function r(t,e,r,u,c){function f(t){if(!(this instanceof f))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof t)throw new TypeError('String expected for parameter "name"');this.name=t}function l(t,e,n){if(!(t instanceof f))throw new TypeError("No valid SymbolNode");e.undef=h,e.Unit=m,e.getSafeProperty=s,e.hasOwnProperty=a;var r=o(t.name);return a(n,t.name)?n[t.name]:t.name in e.math?"("+r+" in scope ? getSafeProperty(scope, "+r+") : getSafeProperty(math, "+r+"))":"("+r+" in scope ? getSafeProperty(scope, "+r+") : "+(m.isValuelessUnit(t.name)?"new Unit(null, "+r+")":"undef("+r+")")+")"}function h(t){throw new Error("Undefined symbol "+t)}var p=r(n(7)).register,d=(r(n(7)).compile,r(n(14))),m=r(n(213));return f.prototype=new d,f.prototype.type="SymbolNode",f.prototype.isSymbolNode=!0,p(f.prototype.type,l),f.prototype.forEach=function(t){},f.prototype.map=function(t){return this.clone()},f.prototype.clone=function(){return new f(this.name)},f.prototype._toString=function(t){return this.name},f.prototype._toTex=function(t){var e=!1;void 0===c[this.name]&&m.isValuelessUnit(this.name)&&(e=!0);var n=i.toSymbol(this.name,e);return"\\"===n[0]?n:" "+n},f}var i=n(4),o=n(12).stringify,a=n(5).hasOwnProperty,s=n(18).getSafeProperty;e.name="SymbolNode",e.path="expression.node",e.math=!0,e.factory=r},function(t,e,n){"use strict";function r(t,e,r,a){var s=r(n(0)),u=r(n(15)),c=r(n(32)),f=r(n(17)),l=r(n(9)),h=r(n(6)),p=n(4),d=a("larger",{"boolean, boolean":function(t,e){return t>e},"number, number":function(t,n){return t>n&&!i(t,n,e.epsilon)},"BigNumber, BigNumber":function(t,n){return t.gt(n)&&!o(t,n,e.epsilon)},"Fraction, Fraction":function(t,e){return 1===t.compare(e)},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return d(t.value,e.value)},"string, string":function(t,e){return t>e},"Matrix, Matrix":function(t,e){var n;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":n=c(t,e,d);break;default:n=u(e,t,d,!0)}break;default:switch(e.storage()){case"sparse":n=u(t,e,d,!1);break;default:n=l(t,e,d)}}return n},"Array, Array":function(t,e){return d(s(t),s(e)).valueOf()},"Array, Matrix":function(t,e){return d(s(t),e)},"Matrix, Array":function(t,e){return d(t,s(e))},"Matrix, any":function(t,e){var n;switch(t.storage()){case"sparse":n=f(t,e,d,!1);break;default:n=h(t,e,d,!1)}return n},"any, Matrix":function(t,e){var n;switch(e.storage()){case"sparse":n=f(e,t,d,!0);break;default:n=h(e,t,d,!0)}return n},"Array, any":function(t,e){return h(s(t),e,d,!1).valueOf()},"any, Array":function(t,e){return h(s(e),t,d,!0).valueOf()}});return d.toTex={2:"\\left(${args[0]}"+p.operators.larger+"${args[1]}\\right)"},d}var i=n(2).nearlyEqual,o=n(50);e.name="larger",e.factory=r},function(t,e,n){"use strict";function r(t,e,n,r){var o=t.DenseMatrix;return function(t,e,n,a){var s=t._data,u=t._size,c=t._datatype,f=e._values,l=e._index,h=e._ptr,p=e._size,d=e._datatype;if(u.length!==p.length)throw new i(u.length,p.length);if(u[0]!==p[0]||u[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+p+")");if(!f)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var m,g,v=u[0],y=u[1],x="string"==typeof c&&c===d?c:void 0,w=x?r.find(n,[x,x]):n,b=[];for(m=0;m<v;m++)b[m]=[];var _=[],N=[];for(g=0;g<y;g++){for(var E=g+1,M=h[g],S=h[g+1],A=M;A<S;A++)m=l[A],_[m]=a?w(f[A],s[m][g]):w(s[m][g],f[A]),N[m]=E;for(m=0;m<v;m++)N[m]===E?b[m][g]=_[m]:b[m][g]=s[m][g]}return new o({data:b,size:[v,y],datatype:x})}}var i=n(10);e.name="algorithm01",e.factory=r},function(t,e,n){var r=n(78),i=n(64),o=n(31),a=n(39),s=n(229);t.exports=function(t,e){var n=1==t,u=2==t,c=3==t,f=4==t,l=6==t,h=5==t||l,p=e||s;return function(e,s,d){for(var m,g,v=o(e),y=i(v),x=r(s,d,3),w=a(y.length),b=0,_=n?p(e,w):u?p(e,0):void 0;w>b;b++)if((h||b in y)&&(m=y[b],g=x(m,b,v),t))if(n)_[b]=g;else if(g)switch(t){case 3:return!0;case 5:return m;case 6:return b;case 2:_.push(m)}else if(f)return!1;return l?-1:c||f?f:_}}},function(t,e){var n=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},function(t,e,n){"use strict";function r(t,e,r,a){function s(e,n){if(1!=arguments.length&&2!=arguments.length)throw new i("parse",arguments.length,1,2);if(pt=n&&n.nodes?n.nodes:{},"string"==typeof e)return dt=e,v();if(Array.isArray(e)||e instanceof t.Matrix)return o(e,function(t){if("string"!=typeof t)throw new TypeError("String expected");return dt=t,v()});throw new TypeError("String or matrix expected")}function u(){gt=0,vt=dt.charAt(0),wt=0,bt=null}function c(){gt++,vt=dt.charAt(gt)}function f(){return dt.charAt(gt-1)}function l(){return dt.charAt(gt+1)}function h(){return dt.charAt(gt+2)}function p(){for(xt=ft.NULL,yt="",mt="";s.isWhitespace(vt,wt);)c();if("#"==vt)for(;"\n"!=vt&&""!=vt;)mt+=vt,c();if(""==vt)return void(xt=ft.DELIMITER);if("\n"==vt&&!wt)return xt=ft.DELIMITER,yt=vt,void c();var t=vt+l(),e=t+h();if(3==e.length&&lt[e])return xt=ft.DELIMITER,yt=e,c(),c(),void c();if(2==t.length&&lt[t])return xt=ft.DELIMITER,yt=t,c(),void c();if(lt[vt])return xt=ft.DELIMITER,yt=vt,void c();if(!s.isDigitDot(vt)){if(s.isAlpha(vt,f(),l())){for(;s.isAlpha(vt,f(),l())||s.isDigit(vt);)yt+=vt,c();return void(xt=ht.hasOwnProperty(yt)?ft.DELIMITER:ft.SYMBOL)}for(xt=ft.UNKNOWN;""!=vt;)yt+=vt,c();throw W('Syntax error in part "'+yt+'"')}if(xt=ft.NUMBER,"."==vt)yt+=vt,c(),s.isDigit(vt)||(xt=ft.DELIMITER);else{for(;s.isDigit(vt);)yt+=vt,c();s.isDecimalMark(vt,l())&&(yt+=vt,c())}for(;s.isDigit(vt);)yt+=vt,c();if(t=l(),"E"==vt||"e"==vt)if(s.isDigit(t)||"-"==t||"+"==t){if(yt+=vt,c(),"+"!=vt&&"-"!=vt||(yt+=vt,c()),!s.isDigit(vt))throw W('Digit expected, got "'+vt+'"');for(;s.isDigit(vt);)yt+=vt,c();if(s.isDecimalMark(vt,l()))throw W('Digit expected, got "'+vt+'"')}else if("."==t)throw c(),W('Digit expected, got "'+vt+'"')}function d(){do{p()}while("\n"==yt)}function m(){wt++}function g(){wt--}function v(){u(),p();var t=y();if(""!=yt)throw xt==ft.DELIMITER?Y("Unexpected operator "+yt):W('Unexpected part "'+yt+'"');return t}function y(){var t,e,n=[];for(""!=yt&&"\n"!=yt&&";"!=yt&&(t=x(),t.comment=mt);"\n"==yt||";"==yt;)0==n.length&&t&&(e=";"!=yt,n.push({node:t,visible:e})),p(),"\n"!=yt&&";"!=yt&&""!=yt&&(t=x(),t.comment=mt,e=";"!=yt,n.push({node:t,visible:e}));return n.length>0?new K(n):(t||(t=new et("undefined","undefined"),t.comment=mt),t)}function x(){var t,e,n,r,i=w();if("="==yt){if(i&&i.isSymbolNode)return t=i.name,d(),n=x(),new Q(new ct(t),n);if(i&&i.isAccessorNode)return d(),n=x(),new Q(i.object,i.index,n);if(i&&i.isFunctionNode&&(r=!0,e=[],t=i.name,i.args.forEach(function(t,n){t&&t.isSymbolNode?e[n]=t.name:r=!1}),r))return d(),n=x(),new nt(t,e,n);throw W("Invalid left hand side of assignment operator =")}return i}function w(){for(var t=b();"?"==yt;){var e=bt;bt=wt,d();var n=t,r=x();if(":"!=yt)throw W("False part of conditional expression expected");bt=null,d();var i=x();t=new tt(n,r,i),bt=e}return t}function b(){for(var t=_();"or"==yt;)d(),t=new ot("or","or",[t,_()]);return t}function _(){for(var t=N();"xor"==yt;)d(),t=new ot("xor","xor",[t,N()]);return t}function N(){for(var t=E();"and"==yt;)d(),t=new ot("and","and",[t,E()]);return t}function E(){for(var t=M();"|"==yt;)d(),t=new ot("|","bitOr",[t,M()]);return t}function M(){for(var t=S();"^|"==yt;)d(),t=new ot("^|","bitXor",[t,S()]);return t}function S(){for(var t=A();"&"==yt;)d(),t=new ot("&","bitAnd",[t,A()]);return t}function A(){var t,e,n,r,i;for(t=O(),e={"==":"equal","!=":"unequal","<":"smaller",">":"larger","<=":"smallerEq",">=":"largerEq"};e.hasOwnProperty(yt);)n=yt,r=e[n],d(),i=[t,O()],t=new ot(n,r,i);return t}function O(){var t,e,n,r,i;for(t=C(),e={"<<":"leftShift",">>":"rightArithShift",">>>":"rightLogShift"};e.hasOwnProperty(yt);)n=yt,r=e[n],d(),i=[t,C()],t=new ot(n,r,i);return t}function C(){var t,e,n,r,i;for(t=T(),e={to:"to",in:"to"};e.hasOwnProperty(yt);)n=yt,r=e[n],d(),"in"===n&&""===yt?t=new ot("*","multiply",[t,new ct("in")],!0):(i=[t,T()],t=new ot(n,r,i));return t}function T(){var t,e=[];if(t=":"==yt?new et("1","number"):P(),":"==yt&&bt!==wt){for(e.push(t);":"==yt&&e.length<3;)d(),")"==yt||"]"==yt||","==yt||""==yt?e.push(new ct("end")):e.push(P());t=3==e.length?new ut(e[0],e[2],e[1]):new ut(e[0],e[1])}return t}function P(){var t,e,n,r,i;for(t=z(),e={"+":"add","-":"subtract"};e.hasOwnProperty(yt);)n=yt,r=e[n],d(),i=[t,z()],t=new ot(n,r,i);return t}function z(){var t,e,n,r,i;for(t=k(),e=t,n={"*":"multiply",".*":"dotMultiply","/":"divide","./":"dotDivide","%":"mod",mod:"mod"};;)if(n.hasOwnProperty(yt))r=yt,i=n[r],d(),e=k(),t=new ot(r,i,[t,e]);else{if(!(xt==ft.SYMBOL||"in"==yt&&t&&t.isConstantNode)&&(xt!=ft.NUMBER||e.isConstantNode||e.isOperatorNode&&"!"!==e.op)&&"("!=yt)break;e=k(),t=new ot("*","multiply",[t,e],!0)}return t}function k(){var t,e,n,r={"-":"unaryMinus","+":"unaryPlus","~":"bitNot",not:"not"};return r.hasOwnProperty(yt)?(n=r[yt],t=yt,d(),e=[k()],new ot(t,n,e)):I()}function I(){var t,e,n,r;return t=B(),"^"!=yt&&".^"!=yt||(e=yt,n="^"==e?"pow":"dotPow",d(),r=[t,k()],t=new ot(e,n,r)),t}function B(){var t,e,n,r,i;for(t=j(),e={"!":"factorial","'":"transpose"};e.hasOwnProperty(yt);)n=yt,r=e[n],p(),i=[t],t=new ot(n,r,i),t=L(t);return t}function j(){var t=[];if(xt==ft.SYMBOL&&pt.hasOwnProperty(yt)){var e=pt[yt];if(p(),"("==yt){if(t=[],m(),p(),")"!=yt)for(t.push(x());","==yt;)p(),t.push(x());if(")"!=yt)throw W("Parenthesis ) expected");g(),p()}return new e(t)}return R()}function R(){var t,e;return xt==ft.SYMBOL||xt==ft.DELIMITER&&yt in ht?(e=yt,p(),t=new ct(e),t=L(t)):F()}function L(t,e){for(var n;!("("!=yt&&"["!=yt&&"."!=yt||e&&-1===e.indexOf(yt));)if(n=[],"("==yt){if(!(t.isSymbolNode||t.isAccessorNode||t.isFunctionNode))return t;if(m(),p(),")"!=yt)for(n.push(x());","==yt;)p(),n.push(x());if(")"!=yt)throw W("Parenthesis ) expected");g(),p(),t=new st(t,n)}else if("["==yt){if(m(),p(),"]"!=yt)for(n.push(x());","==yt;)p(),n.push(x());if("]"!=yt)throw W("Parenthesis ] expected");g(),p(),t=new J(t,new rt(n))}else{if(p(),xt!=ft.SYMBOL)throw W("Property name expected after dot");n.push(new et(yt)),p();t=new J(t,new rt(n,!0))}return t}function F(){var t,e;return'"'==yt?(e=q(),t=new et(e,"string"),t=L(t)):U()}function q(){for(var t="";""!=vt&&'"'!=vt;)"\\"==vt&&(t+=vt,c()),t+=vt,c();if(p(),'"'!=yt)throw W('End of string " expected');return p(),t}function U(){var t,e,n,r;if("["==yt){if(m(),p(),"]"!=yt){var i=D();if(";"==yt){for(n=1,e=[i];";"==yt;)p(),e[n]=D(),n++;if("]"!=yt)throw W("End of matrix ] expected");g(),p(),r=e[0].items.length;for(var o=1;o<n;o++)if(e[o].items.length!=r)throw Y("Column dimensions mismatch ("+e[o].items.length+" != "+r+")");t=new X(e)}else{if("]"!=yt)throw W("End of matrix ] expected");g(),p(),t=i}}else g(),p(),t=new X([]);return L(t)}return V()}function D(){for(var t=[x()],e=1;","==yt;)p(),t[e]=x(),e++;return new X(t)}function V(){if("{"==yt){var t,e={};do{if(p(),"}"!=yt){if('"'==yt)t=q();else{if(xt!=ft.SYMBOL)throw W("Symbol or string expected as object key");t=yt,p()}if(":"!=yt)throw W("Colon : expected after object key");p(),e[t]=x()}}while(","==yt);if("}"!=yt)throw W("Comma , or bracket } expected after object value");p();var n=new it(e);return n=L(n)}return H()}function H(){var t;return xt==ft.NUMBER?(t=yt,p(),new et(t,"number")):$()}function $(){var t;if("("==yt){if(m(),p(),t=x(),")"!=yt)throw W("Parenthesis ) expected");return g(),p(),t=new at(t),t=L(t)}return G()}function G(){throw W(""==yt?"Unexpected end of expression":"Value expected")}function Z(){return gt-yt.length+1}function W(t){var e=Z(),n=new SyntaxError(t+" (char "+e+")");return n.char=e,n}function Y(t){var e=Z(),n=new SyntaxError(t+" (char "+e+")");return n.char=e,n}var J=r(n(162)),X=r(n(116)),Q=r(n(163)),K=r(n(164)),tt=r(n(165)),et=r(n(69)),nt=r(n(166)),rt=r(n(117)),it=r(n(167)),ot=r(n(87)),at=r(n(88)),st=r(n(70)),ut=r(n(118)),ct=r(n(40)),ft={NULL:0,DELIMITER:1,NUMBER:2,SYMBOL:3,UNKNOWN:4},lt={",":!0,"(":!0,")":!0,"[":!0,"]":!0,"{":!0,"}":!0,'"':!0,";":!0,"+":!0,"-":!0,"*":!0,".*":!0,"/":!0,"./":!0,"%":!0,"^":!0,".^":!0,"~":!0,"!":!0,"&":!0,"|":!0,"^|":!0,"'":!0,"=":!0,":":!0,"?":!0,"==":!0,"!=":!0,"<":!0,">":!0,"<=":!0,">=":!0,"<<":!0,">>":!0,">>>":!0},ht={mod:!0,to:!0,in:!0,and:!0,xor:!0,or:!0,not:!0},pt={},dt="",mt="",gt=0,vt="",yt="",xt=ft.NULL,wt=0,bt=null;return s.isAlpha=function(t,e,n){return s.isValidLatinOrGreek(t)||s.isValidMathSymbol(t,n)||s.isValidMathSymbol(e,t)},s.isValidLatinOrGreek=function(t){return/^[a-zA-Z_\u00C0-\u02AF\u0370-\u03FF\u2100-\u214F]$/.test(t)},s.isValidMathSymbol=function(t,e){return/^[\uD835]$/.test(t)&&/^[\uDC00-\uDFFF]$/.test(e)&&/^[^\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]$/.test(e)},s.isWhitespace=function(t,e){return" "==t||"\t"==t||"\n"==t&&e>0},s.isDecimalMark=function(t,e){return"."==t&&"/"!==e&&"*"!==e&&"^"!==e},s.isDigitDot=function(t){return t>="0"&&t<="9"||"."==t},s.isDigit=function(t){return t>="0"&&t<="9"},s}var i=n(67),o=n(1);e.name="parse",e.path="expression",e.factory=r},function(t,e,n){var r=n(68);e.transform=function(t){return t&&t.isIndexError?new r(t.index+1,t.min+1,void 0!==t.max?t.max+1:void 0):t}},function(t,e,n){"use strict";function r(t,e,r,o){var a=n(4),s=o("unaryMinus",{number:function(t){return-t},Complex:function(t){return t.neg()},BigNumber:function(t){return t.neg()},Fraction:function(t){return t.neg()},Unit:function(t){var e=t.clone();return e.value=s(t.value),e},"Array | Matrix":function(t){return i(t,s,!0)}});return s.toTex={1:a.operators.unaryMinus+"\\left(${args[0]}\\right)"},s}var i=n(1);e.name="unaryMinus",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,a){function s(e,n){var r=u(e),i=r?new t.BigNumber(0):0;if(c(e),n){var a=f(n);return e.length>0?a.resize(e,i):a}var s=[];return e.length>0?o(s,e,i):s}function u(t){var e=!1;return t.forEach(function(t,n,r){t&&!0===t.isBigNumber&&(e=!0,r[n]=t.toNumber())}),e}function c(t){t.forEach(function(t){if("number"!=typeof t||!i(t)||t<0)throw new Error("Parameters in function zeros must be positive integers")})}var f=r(n(0)),l=a("zeros",{"":function(){return"Array"===e.matrix?s([]):s([],"default")},"...number | BigNumber | string":function(t){if("string"==typeof t[t.length-1])return s(t,t.pop());return"Array"===e.matrix?s(t):s(t,"default")},Array:s,Matrix:function(t){var e=t.storage();return s(t.valueOf(),e)},"Array | Matrix, string":function(t,e){return s(t.valueOf(),e)}});return l.toTex=void 0,l}var i=n(2).isInteger,o=n(3).resize;e.name="zeros",e.factory=r},function(t,e,n){"use strict";function r(t,e,n,r){var i=t.DenseMatrix;return function(t,e,n,o){var a=t._values,s=t._index,u=t._ptr,c=t._size,f=t._datatype;if(!a)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var l,h=c[0],p=c[1],d=n;"string"==typeof f&&(l=f,e=r.convert(e,l),d=r.find(n,[l,l]));for(var m=[],g=new i({data:m,size:[h,p],datatype:l}),v=[],y=[],x=0;x<p;x++){for(var w=x+1,b=u[x],_=u[x+1],N=b;N<_;N++){var E=s[N];v[E]=a[N],y[E]=w}for(var M=0;M<h;M++)0===x&&(m[M]=[]),y[M]===w?m[M][x]=o?d(e,v[M]):d(v[M],e):m[M][x]=e}return g}}e.name="algorithm10",e.factory=r},function(t,e,n){"use strict";t.exports=function(t,e,n){if(null==n)return t.eq(e);if(t.eq(e))return!0;if(t.isNaN()||e.isNaN())return!1;if(t.isFinite()&&e.isFinite()){var r=t.minus(e).abs();if(r.isZero())return!0;var i=t.constructor.max(t.abs(),e.abs());return r.lte(i.times(n))}return!1}},function(t,e,n){"use strict";t.exports=function t(e,n){e&&!0===e.isMatrix&&(e=e.valueOf());for(var r=0,i=e.length;r<i;r++){var o=e[r];Array.isArray(o)?t(o,n):n(o)}}},function(t,e){e.memoize=function(t,e){return function n(){"object"!=typeof n.cache&&(n.cache={});for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=e?e(r):JSON.stringify(r);return o in n.cache?n.cache[o]:n.cache[o]=t.apply(t,r)}},e.maxArgumentCount=function(t){return Object.keys(t.signatures||{}).reduce(function(t,e){var n=(e.match(/,/g)||[]).length+1;return Math.max(t,n)},-1)}},function(t,e,n){var r=n(24);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){var r=n(36),i=n(65);t.exports=n(34)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(146),i=n(101);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e){function n(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}t.exports=n},function(t,e,n){"use strict";function r(t,e,r,o){var a=r(n(20)),s=r(n(13)),u=r(n(190)),c=r(n(0)),f=r(n(16)),l=r(n(6)),h=o("divide",i({"Array | Matrix, Array | Matrix":function(t,e){return s(t,u(e))},"Matrix, any":function(t,e){var n;switch(t.storage()){case"sparse":n=f(t,e,a,!1);break;case"dense":n=l(t,e,a,!1)}return n},"Array, any":function(t,e){return l(c(t),e,a,!1).valueOf()},"any, Array | Matrix":function(t,e){return s(t,u(e))}},a.signatures));return h.toTex={2:"\\frac{${args[0]}}{${args[1]}}"},h}var i=n(5).extend;e.name="divide",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,a){function s(n,r){if(e.predictable&&!i(r)&&n<0)try{var o=d(r),a=m(o);if((r===a||Math.abs((r-a)/r)<1e-14)&&o.d%2==1)return(o.n%2==0?1:-1)*Math.pow(-n,r)}catch(t){}return n*n<1&&r===1/0||n*n>1&&r===-1/0?0:e.predictable&&(n<-1&&r===1/0||n>-1&&n<0&&r===-1/0)?NaN:i(r)||n>=0||e.predictable?Math.pow(n,r):new t.Complex(n,0).pow(r,0)}function u(t,e){if(!i(e)||e<0)throw new TypeError("For A^b, b must be a positive integer (value is "+e+")");var n=o(t);if(2!=n.length)throw new Error("For A^b, A must be 2 dimensional (A has "+n.length+" dimensions)");if(n[0]!=n[1])throw new Error("For A^b, A must be square (size is "+n[0]+"x"+n[1]+")");for(var r=l(n[0]).valueOf(),a=t;e>=1;)1==(1&e)&&(r=h(a,r)),e>>=1,a=h(a,a);return r}function c(t,e){return p(u(t.valueOf(),e))}var f=n(4),l=r(n(89)),h=r(n(13)),p=r(n(0)),d=r(n(208)),m=r(n(129)),g=a("pow",{"number, number":s,"Complex, Complex":function(t,e){return t.pow(e)},"BigNumber, BigNumber":function(n,r){return r.isInteger()||n>=0||e.predictable?n.pow(r):new t.Complex(n.toNumber(),0).pow(r.toNumber(),0)},"Fraction, Fraction":function(t,n){if(1!==n.d){if(e.predictable)throw new Error("Function pow does not support non-integer exponents for fractions.");return s(t.valueOf(),n.valueOf())}return t.pow(n)},"Array, number":u,"Array, BigNumber":function(t,e){return u(t,e.toNumber())},"Matrix, number":c,"Matrix, BigNumber":function(t,e){return c(t,e.toNumber())},"Unit, number":function(t,e){return t.pow(e)}});return g.toTex={2:"\\left(${args[0]}\\right)"+f.operators.pow+"{${args[1]}}"},g}var i=n(2).isInteger,o=n(3).size;e.name="pow",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,a){var s=r(n(0)),u=r(n(15)),c=r(n(32)),f=r(n(17)),l=r(n(9)),h=r(n(6)),p=n(4),d=a("smaller",{"boolean, boolean":function(t,e){return t<e},"number, number":function(t,n){return t<n&&!i(t,n,e.epsilon)},"BigNumber, BigNumber":function(t,n){return t.lt(n)&&!o(t,n,e.epsilon)},"Fraction, Fraction":function(t,e){return-1===t.compare(e)},"Complex, Complex":function(t,e){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return d(t.value,e.value)},"string, string":function(t,e){return t<e},"Matrix, Matrix":function(t,e){var n;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":n=c(t,e,d);break;default:n=u(e,t,d,!0)}break;default:switch(e.storage()){case"sparse":n=u(t,e,d,!1);break;default:n=l(t,e,d)}}return n},"Array, Array":function(t,e){return d(s(t),s(e)).valueOf()},"Array, Matrix":function(t,e){return d(s(t),e)},"Matrix, Array":function(t,e){return d(t,s(e))},"Matrix, any":function(t,e){var n;switch(t.storage()){case"sparse":n=f(t,e,d,!1);break;default:n=h(t,e,d,!1)}return n},"any, Matrix":function(t,e){var n;switch(e.storage()){case"sparse":n=f(e,t,d,!0);break;default:n=h(e,t,d,!0)}return n},"Array, any":function(t,e){return h(s(t),e,d,!1).valueOf()},"any, Array":function(t,e){return h(s(e),t,d,!0).valueOf()}});return d.toTex={2:"\\left(${args[0]}"+p.operators.smaller+"${args[1]}\\right)"},d}var i=n(2).nearlyEqual,o=n(50);e.name="smaller",e.factory=r},function(t,e,n){"use strict";function r(t,e,n,r){var a=r("isInteger",{number:o.isInteger,BigNumber:function(t){return t.isInt()},Fraction:function(t){return 1===t.d&&isFinite(t.n)},"Array | Matrix":function(t){return i(t,a)}});return a}var i=n(1),o=n(2);e.name="isInteger",e.factory=r},function(t,e,n){"use strict";t.exports=function(t){return Array.isArray(t)||t&&!0===t.isMatrix}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){return function(e,n){if("function"!=typeof e)throw"creature must be a function";for(var r=t.content;n;){var i=e({position:a()});r.push(i),n-=1}}}function o(t){var e=t.position,n=t.x,r=t.y;return e||new y.Point(n,r)}function a(){var t=x.default.view.size,e=t.width,n=t.height;return new y.Point((0,v.default)(0,e),(0,v.default)(0,n))}function s(t,e,n){b.default.round(t.time,1)%e==0&&n()}function u(t,e){return t.length>e?t.normalize(e):t}function c(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return(t-e)*((arguments.length>4&&void 0!==arguments[4]?arguments[4]:1)-r)/(n-e)+r}function f(t,e){(0,m.default)(e,function(e,n){l(e)||(e={value:e}),Object.defineProperty(t,n,e)})}function l(t){if((0,p.default)(t))for(var e=Object.keys(t),n=e.length,r=0;r<n;){if(-1!==_.indexOf(e[r]))return!0;r+=1}return!1}Object.defineProperty(e,"__esModule",{value:!0}),e.define=e.mapRange=e.limit=e.eachTime=e.randomPosition=e.getPosition=e.populator=void 0;var h=n(56),p=r(h),d=n(113),m=r(d),g=n(323),v=r(g),y=n(76),x=r(y),w=n(328),b=r(w);e.populator=i,e.getPosition=o,e.randomPosition=a,e.eachTime=s,e.limit=u,e.mapRange=c,e.define=f;var _=["set","get","enumerable","writable","configurable"]},function(t,e,n){var r=n(21)("unscopables"),i=Array.prototype;void 0==i[r]&&n(54)(i,r,{}),t.exports=function(t){i[r][t]=!0}},function(t,e,n){var r=n(77);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e,n){"use strict";function r(t,e,n,i){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this.fn=t,this.count=e,this.min=n,this.max=i,this.message="Wrong number of arguments in function "+t+" ("+e+" provided, "+n+(void 0!=i?"-"+i:"")+" expected)",this.stack=(new Error).stack}r.prototype=new Error,r.prototype.constructor=Error,r.prototype.name="ArgumentsError",r.prototype.isArgumentsError=!0,t.exports=r},function(t,e,n){"use strict";function r(t,e,n){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this.index=t,arguments.length<3?(this.min=0,this.max=e):(this.min=e,this.max=n),void 0!==this.min&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":void 0!==this.max&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=(new Error).stack}r.prototype=new RangeError,r.prototype.constructor=RangeError,r.prototype.name="IndexError",r.prototype.isIndexError=!0,t.exports=r},function(t,e,n){"use strict";function r(t,e,r,a){function s(t,e){if(!(this instanceof s))throw new SyntaxError("Constructor must be called with the new operator");if(e){if("string"!=typeof e)throw new TypeError('String expected for parameter "valueType"');if("string"!=typeof t)throw new TypeError('String expected for parameter "value"');this.value=t,this.valueType=e}else this.value=t+"",this.valueType=i(t);if(!h[this.valueType])throw new TypeError('Unsupported type of value "'+this.valueType+'"')}function u(t,n,r){if(!(t instanceof s))throw new TypeError("No valid ConstantNode");switch(t.valueType){case"number":return"BigNumber"===e.number?"math.bignumber("+o(t.value)+")":"Fraction"===e.number?"math.fraction("+o(t.value)+")":(c(t.value),t.value.replace(/^(0*)[0-9]/,function(t,e){return t.substring(e.length)}));case"string":return o(t.value);case"boolean":return"true"===String(t.value)?"true":"false";case"undefined":return"undefined";case"null":return"null";default:throw new TypeError('Unsupported type of constant "'+t.valueType+'"')}}function c(t){if("string"!=typeof t||!/^[\-+]?((\d+\.?\d*)|(\d*\.?\d+))([eE][+\-]?\d+)?$/.test(t))throw new Error('Invalid numeric value "'+t+'"')}var f=r(n(7)).register,l=(r(n(7)).compile,r(n(14))),h={number:!0,string:!0,boolean:!0,undefined:!0,null:!0};return s.prototype=new l,s.prototype.type="ConstantNode",s.prototype.isConstantNode=!0,f(s.prototype.type,u),s.prototype.forEach=function(t){},s.prototype.map=function(t){return this.clone()},s.prototype.clone=function(){return new s(this.value,this.valueType)},s.prototype._toString=function(t){switch(this.valueType){case"string":return o(this.value);default:return this.value}},s.prototype._toTex=function(t){var e,n=this.value;switch(this.valueType){case"string":return"\\mathtt{"+o(n)+"}";case"number":return e=n.toLowerCase().indexOf("e"),-1!==e?n.substring(0,e)+"\\cdot10^{"+n.substring(e+1)+"}":n;default:return n}},s}var i=n(98).type,o=n(12).stringify;e.name="ConstantNode",e.path="expression.node",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,h,p){function d(t,e){if(!(this instanceof d))throw new SyntaxError("Constructor must be called with the new operator");if("string"==typeof t&&(t=new b(t)),!t||!t.isNode)throw new TypeError('Node expected as parameter "fn"');if(!Array.isArray(e)||!e.every(function(t){return t&&t.isNode}))throw new TypeError('Array containing Nodes expected for parameter "args"');this.fn=t,this.args=e||[],Object.defineProperty(this,"name",{get:function(){return this.fn.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}});var n=function(){throw new Error("Property `FunctionNode.object` is deprecated, use `FunctionNode.fn` instead")};Object.defineProperty(this,"object",{get:n,set:n})}function m(t,e,n){if(!(t instanceof d))throw new TypeError("No valid FunctionNode");var r,i=x(t.fn,e,n),a=u(t.args,function(t){return x(t,e,n)}),h=g(e,n);if(t.fn.isSymbolNode){var p=t.fn.name,m=s(e.math,p)?e.math[p]:void 0;return"function"==typeof m&&1==m.rawArgs?(r=l(e),e[r]=t.args,i+"("+r+", math, "+h+")"):i+"("+c(a,", ")+")"}if(t.fn.isAccessorNode&&t.fn.index.isObjectProperty()){r=l(e),e[r]=t.args,e.validateSafeMethod=f;var v=x(t.fn.object,e,n),y=o(t.fn.index.getObjectProperty());return"(function () {var object = "+v+";validateSafeMethod(object, "+y+");return (object["+y+"] && object["+y+"].rawArgs)  ? object["+y+"]("+r+", math, "+h+") : object["+y+"]("+c(a,", ")+")})()"}return r=l(e),e[r]=t.args,"(function () {var fn = "+i+";return (fn && fn.rawArgs)  ? fn("+r+", math, "+h+") : fn("+c(a,", ")+")})()"}function g(t,e){var n=Object.keys(e);if(0===n.length)return"scope";t.extend=a;var r=u(n,function(t){return o(t)+": "+e[t]});return"extend(extend({}, scope), {"+c(r,", ")+"})"}function v(t,e,n){for(var r,i="",o=new RegExp("\\$(?:\\{([a-z_][a-z_0-9]*)(?:\\[([0-9]+)\\])?\\}|\\$)","ig"),a=0;null!==(r=o.exec(t));)if(i+=t.substring(a,r.index),a=r.index,"$$"===r[0])i+="$",a++;else{a+=r[0].length;var s=e[r[1]];if(!s)throw new ReferenceError("Template: Property "+r[1]+" does not exist.");if(void 0===r[2])switch(typeof s){case"string":i+=s;break;case"object":if(s.isNode)i+=s.toTex(n);else{if(!Array.isArray(s))throw new TypeError("Template: "+r[1]+" has to be a Node, String or array of Nodes");i+=s.map(function(t,e){if(t&&t.isNode)return t.toTex(n);throw new TypeError("Template: "+r[1]+"["+e+"] is not a Node.")}).join(",")}break;default:throw new TypeError("Template: "+r[1]+" has to be a Node, String or array of Nodes")}else{if(!s[r[2]]||!s[r[2]].isNode)throw new TypeError("Template: "+r[1]+"["+r[2]+"] is not a Node.");i+=s[r[2]].toTex(n)}}return i+=t.slice(a)}var y=r(n(7)).register,x=r(n(7)).compile,w=r(n(14)),b=r(n(40));d.prototype=new w,d.prototype.type="FunctionNode",d.prototype.isFunctionNode=!0,y(d.prototype.type,m),d.prototype.forEach=function(t){for(var e=0;e<this.args.length;e++)t(this.args[e],"args["+e+"]",this)},d.prototype.map=function(t){for(var e=this.fn.map(t),n=[],r=0;r<this.args.length;r++)n[r]=this._ifNode(t(this.args[r],"args["+r+"]",this));return new d(e,n)},d.prototype.clone=function(){return new d(this.fn,this.args.slice(0))};var _=d.prototype.toString;d.prototype.toString=function(t){var e,n=this.fn.toString(t);return t&&"object"==typeof t.handler&&s(t.handler,n)&&(e=t.handler[n](this,t)),void 0!==e?e:_.call(this,t)},d.prototype._toString=function(t){var e=this.args.map(function(e){return e.toString(t)});return this.fn.toString(t)+"("+e.join(", ")+")"};var N=d.prototype.toTex;return d.prototype.toTex=function(t){var e;return t&&"object"==typeof t.handler&&s(t.handler,this.name)&&(e=t.handler[this.name](this,t)),void 0!==e?e:N.call(this,t)},d.prototype._toTex=function(t){var e,n=this.args.map(function(e){return e.toTex(t)});!p[this.name]||"function"!=typeof p[this.name].toTex&&"object"!=typeof p[this.name].toTex&&"string"!=typeof p[this.name].toTex||(e=p[this.name].toTex);var r;switch(typeof e){case"function":r=e(this,t);break;case"string":r=v(e,this,t);break;case"object":switch(typeof e[n.length]){case"function":r=e[n.length](this,t);break;case"string":r=v(e[n.length],this,t)}}return void 0!==r?r:v(i.defaultTemplate,this,t)},d.prototype.getIdentifier=function(){return this.type+":"+this.name},d}var i=n(4),o=n(12).stringify,a=n(5).extend,s=n(5).hasOwnProperty,u=n(3).map,c=n(3).join,f=n(18).validateSafeMethod,l=n(169);e.name="FunctionNode",e.path="expression.node",e.math=!0,e.factory=r},function(t,e,n){"use strict";function r(t,e){var n=t;"keep"!==e&&(n=t.getContent());for(var r=n.getIdentifier(),i=0;i<a.length;i++)if(r in a[i])return i;return null}function i(t,e){var n=t;"keep"!==e&&(n=t.getContent());var i=n.getIdentifier(),o=r(n,e);if(null===o)return null;var s=a[o][i];if(s.hasOwnProperty("associativity")){if("left"===s.associativity)return"left";if("right"===s.associativity)return"right";throw Error("'"+i+"' has the invalid associativity '"+s.associativity+"'.")}return null}function o(t,e,n){var i=t,o=e;if("keep"!==n)var i=t.getContent(),o=e.getContent();var s=i.getIdentifier(),u=o.getIdentifier(),c=r(i,n);if(null===c)return null;var f=a[c][s];if(f.hasOwnProperty("associativeWith")&&f.associativeWith instanceof Array){for(var l=0;l<f.associativeWith.length;l++)if(f.associativeWith[l]===u)return!0;return!1}return null}var a=[{AssignmentNode:{},FunctionAssignmentNode:{}},{ConditionalNode:{latexLeftParens:!1,latexRightParens:!1,latexParens:!1}},{"OperatorNode:or":{associativity:"left",associativeWith:[]}},{"OperatorNode:xor":{associativity:"left",associativeWith:[]}},{"OperatorNode:and":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitOr":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitXor":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitAnd":{associativity:"left",associativeWith:[]}},{"OperatorNode:equal":{associativity:"left",associativeWith:[]},"OperatorNode:unequal":{associativity:"left",associativeWith:[]},"OperatorNode:smaller":{associativity:"left",associativeWith:[]},"OperatorNode:larger":{associativity:"left",associativeWith:[]},"OperatorNode:smallerEq":{associativity:"left",associativeWith:[]},"OperatorNode:largerEq":{associativity:"left",associativeWith:[]}},{"OperatorNode:leftShift":{associativity:"left",associativeWith:[]},"OperatorNode:rightArithShift":{associativity:"left",associativeWith:[]},"OperatorNode:rightLogShift":{associativity:"left",associativeWith:[]}},{"OperatorNode:to":{associativity:"left",associativeWith:[]}},{RangeNode:{}},{"OperatorNode:add":{associativity:"left",associativeWith:["OperatorNode:add","OperatorNode:subtract"]},"OperatorNode:subtract":{associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]},"OperatorNode:divide":{associativity:"left",associativeWith:[],latexLeftParens:!1,latexRightParens:!1,latexParens:!1},"OperatorNode:dotMultiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","OperatorNode:dotMultiply","OperatorNode:doDivide"]},"OperatorNode:dotDivide":{associativity:"left",associativeWith:[]},"OperatorNode:mod":{associativity:"left",associativeWith:[]}},{"OperatorNode:unaryPlus":{associativity:"right"},"OperatorNode:unaryMinus":{associativity:"right"},"OperatorNode:bitNot":{associativity:"right"},"OperatorNode:not":{associativity:"right"}},{"OperatorNode:pow":{associativity:"right",associativeWith:[],latexRightParens:!1},"OperatorNode:dotPow":{associativity:"right",associativeWith:[]}},{"OperatorNode:factorial":{associativity:"left"}},{"OperatorNode:transpose":{associativity:"left"}}];t.exports.properties=a,t.exports.getPrecedence=r,t.exports.getAssociativity=i,t.exports.isAssociativeWith=o},function(t,e,n){"use strict";function r(t,e,n,r){function o(n){return n>=0||e.predictable?Math.sqrt(n):new t.Complex(n,0).sqrt()}var a=r("sqrt",{number:o,Complex:function(t){return t.sqrt()},BigNumber:function(t){return!t.isNegative()||e.predictable?t.sqrt():o(t.toNumber())},"Array | Matrix":function(t){return i(t,a,!0)},Unit:function(t){return t.pow(.5)}});return a.toTex={1:"\\sqrt{${args[0]}}"},a}var i=n(1);e.name="sqrt",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,a){var s=r(n(0)),u=r(n(15)),c=r(n(94)),f=r(n(17)),l=r(n(9)),h=r(n(6)),p=a("compare",{"boolean, boolean":function(t,e){return t===e?0:t>e?1:-1},"number, number":function(t,n){return t===n||i(t,n,e.epsilon)?0:t>n?1:-1},"BigNumber, BigNumber":function(n,r){return n.eq(r)||o(n,r,e.epsilon)?new t.BigNumber(0):new t.BigNumber(n.cmp(r))},"Fraction, Fraction":function(e,n){return new t.Fraction(e.compare(n))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return p(t.value,e.value)},"string, string":function(t,e){return t===e?0:t>e?1:-1},"Matrix, Matrix":function(t,e){var n;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":n=c(t,e,p);break;default:n=u(e,t,p,!0)}break;default:switch(e.storage()){case"sparse":n=u(t,e,p,!1);break;default:n=l(t,e,p)}}return n},"Array, Array":function(t,e){return p(s(t),s(e)).valueOf()},"Array, Matrix":function(t,e){return p(s(t),e)},"Matrix, Array":function(t,e){return p(t,s(e))},"Matrix, any":function(t,e){var n;switch(t.storage()){case"sparse":n=f(t,e,p,!1);break;default:n=h(t,e,p,!1)}return n},"any, Matrix":function(t,e){var n;switch(e.storage()){case"sparse":n=f(e,t,p,!0);break;default:n=h(e,t,p,!0)}return n},"Array, any":function(t,e){return h(s(t),e,p,!1).valueOf()},"any, Array":function(t,e){return h(s(e),t,p,!0).valueOf()}});return p.toTex=void 0,p}var i=n(2).nearlyEqual,o=n(50);e.name="compare",e.factory=r},function(t,e,n){"use strict";function r(t,e,n,r){var o=r("isNegative",{number:function(t){return t<0},BigNumber:function(t){return t.isNeg()&&!t.isZero()&&!t.isNaN()},Fraction:function(t){return t.s<0},Unit:function(t){return o(t.value)},"Array | Matrix":function(t){return i(t,o)}});return o}var i=n(1);n(2);e.name="isNegative",e.factory=r},function(t,e,n){"use strict";function r(t,e,n,r){var o=r("isPositive",{number:function(t){return t>0},BigNumber:function(t){return!t.isNeg()&&!t.isZero()&&!t.isNaN()},Fraction:function(t){return t.s>0&&t.n>0},Unit:function(t){return o(t.value)},"Array | Matrix":function(t){return i(t,o)}});return o}var i=n(1);n(2);e.name="isPositive",e.factory=r},function(t,e,n){var r,i,o=function(a,s){a=a||n(704);var u=a.window,c=a.document,f=new function(){function t(t,r,i,o,s){function c(n,c){"string"==typeof(c=c||(c=a(r,n))&&(c.get?c:c.value))&&"#"===c[0]&&(c=t[c.substring(1)]||c);var l,h="function"==typeof c,p=c,d=s||h&&!c.base?c&&c.get?n in t:t[n]:null;s&&d||(h&&d&&(c.base=d),h&&!1!==o&&(l=n.match(/^([gs]et|is)(([A-Z])(.*))$/))&&(f[l[3].toLowerCase()+l[4]]=l[2]),p&&!h&&p.get&&"function"==typeof p.get&&e.isPlainObject(p)||(p={value:p,writable:!0}),(a(t,n)||{configurable:!0}).configurable&&(p.configurable=!0,p.enumerable=null!=i?i:!l),u(t,n,p))}var f={};if(r){for(var l in r)r.hasOwnProperty(l)&&!n.test(l)&&c(l);for(var l in f){var h=f[l],p=t["set"+h],d=t["get"+h]||p&&t["is"+h];!d||!0!==o&&0!==d.length||c(l,{get:d,set:p})}}return t}function e(){for(var t=0,e=arguments.length;t<e;t++){var n=arguments[t];n&&l(this,n)}return this}var n=/^(statics|enumerable|beans|preserve)$/,r=[],i=r.slice,o=Object.create,a=Object.getOwnPropertyDescriptor,u=Object.defineProperty,c=r.forEach||function(t,e){for(var n=0,r=this.length;n<r;n++)t.call(e,this[n],n,this)},f=function(t,e){for(var n in this)this.hasOwnProperty(n)&&t.call(e,this[n],n,this)},l=Object.assign||function(t){for(var e=1,n=arguments.length;e<n;e++){var r=arguments[e];for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i])}return t},h=function(t,e,n){if(t){var r=a(t,"length");(r&&"number"==typeof r.value?c:f).call(t,e,n=n||t)}return n};return t(e,{inject:function(e){if(e){var n=!0===e.statics?e:e.statics,r=e.beans,i=e.preserve;n!==e&&t(this.prototype,e,e.enumerable,r,i),t(this,n,null,r,i)}for(var o=1,a=arguments.length;o<a;o++)this.inject(arguments[o]);return this},extend:function(){for(var e,n,r,i=this,a=0,s=arguments.length;a<s&&(!e||!n);a++)r=arguments[a],e=e||r.initialize,n=n||r.prototype;return e=e||function(){i.apply(this,arguments)},n=e.prototype=n||o(this.prototype),u(n,"constructor",{value:e,writable:!0,configurable:!0}),t(e,this),arguments.length&&this.inject.apply(e,arguments),e.base=i,e}}).inject({enumerable:!1,initialize:e,set:e,inject:function(){for(var e=0,n=arguments.length;e<n;e++){var r=arguments[e];r&&t(this,r,r.enumerable,r.beans,r.preserve)}return this},extend:function(){var t=o(this);return t.inject.apply(t,arguments)},each:function(t,e){return h(this,t,e)},clone:function(){return new this.constructor(this)},statics:{set:l,each:h,create:o,define:u,describe:a,clone:function(t){return l(new t.constructor,t)},isPlainObject:function(t){var n=null!=t&&t.constructor;return n&&(n===Object||n===e||"Object"===n.name)},pick:function(t,e){return t!==s?t:e},slice:function(t,e,n){return i.call(t,e,n)}}})};t.exports=f,f.inject({enumerable:!1,toString:function(){return null!=this._id?(this._class||"Object")+(this._name?" '"+this._name+"'":" @"+this._id):"{ "+f.each(this,function(t,e){if(!/^_/.test(e)){var n=typeof t;this.push(e+": "+("number"===n?d.instance.number(t):"string"===n?"'"+t+"'":t))}},[]).join(", ")+" }"},getClassName:function(){return this._class||""},importJSON:function(t){return f.importJSON(t,this)},exportJSON:function(t){return f.exportJSON(this,t)},toJSON:function(){return f.serialize(this)},set:function(t,e){return t&&f.filter(this,t,e,this._prioritize),this}},{beans:!1,statics:{exports:{},extend:function t(){var e=t.base.apply(this,arguments),n=e.prototype._class;return n&&!f.exports[n]&&(f.exports[n]=e),e},equals:function(t,e){if(t===e)return!0;if(t&&t.equals)return t.equals(e);if(e&&e.equals)return e.equals(t);if(t&&e&&"object"==typeof t&&"object"==typeof e){if(Array.isArray(t)&&Array.isArray(e)){var n=t.length;if(n!==e.length)return!1;for(;n--;)if(!f.equals(t[n],e[n]))return!1}else{var r=Object.keys(t),n=r.length;if(n!==Object.keys(e).length)return!1;for(;n--;){var i=r[n];if(!e.hasOwnProperty(i)||!f.equals(t[i],e[i]))return!1}}return!0}return!1},read:function(t,e,n,r){if(this===f){var i=this.peek(t,e);return t.__index++,i}var o=this.prototype,a=o._readIndex,u=e||a&&t.__index||0,c=t.length,l=t[u];if(r=r||c-u,l instanceof this||n&&n.readNull&&null==l&&r<=1)return a&&(t.__index=u+1),l&&n&&n.clone?l.clone():l;if(l=f.create(o),a&&(l.__read=!0),l=l.initialize.apply(l,u>0||u+r<c?f.slice(t,u,u+r):t)||l,a){t.__index=u+l.__read;var h=l.__filtered;h&&(t.__filtered=h,l.__filtered=s),l.__read=s}return l},peek:function(t,e){return t[t.__index=e||t.__index||0]},remain:function(t){return t.length-(t.__index||0)},readList:function(t,e,n,r){for(var i,o=[],a=e||0,s=r?a+r:t.length,u=a;u<s;u++)o.push(Array.isArray(i=t[u])?this.read(i,0,n):this.read(t,u,n,1));return o},readNamed:function(t,e,n,r,i){var o=this.getNamed(t,e),a=o!==s;if(a){var u=t.__filtered;u||(u=t.__filtered=f.create(t[0]),u.__unfiltered=t[0]),u[e]=s}var c=a?[o]:t;return this.read(c,n,r,i)},getNamed:function(t,e){var n=t[0];if(t._hasObject===s&&(t._hasObject=1===t.length&&f.isPlainObject(n)),t._hasObject)return e?n[e]:t.__filtered||n},hasNamed:function(t,e){return!!this.getNamed(t,e)},filter:function(t,e,n,r){function i(r){if(!(n&&r in n||o&&r in o)){var i=e[r];i!==s&&(t[r]=i)}}var o;if(r){for(var a,u={},c=0,f=r.length;c<f;c++)(a=r[c])in e&&(i(a),u[a]=!0);o=u}return Object.keys(e.__unfiltered||e).forEach(i),t},isPlainValue:function(t,e){return f.isPlainObject(t)||Array.isArray(t)||e&&"string"==typeof t},serialize:function(t,e,n,r){e=e||{};var i,o=!r;if(o&&(e.formatter=new d(e.precision),r={length:0,definitions:{},references:{},add:function(t,e){var n="#"+t._id,r=this.references[n];if(!r){this.length++;var i=e.call(t),o=t._class;o&&i[0]!==o&&i.unshift(o),this.definitions[n]=i,r=this.references[n]=[n]}return r}}),t&&t._serialize){i=t._serialize(e,r);var a=t._class;!a||t._compactSerialize||!o&&n||i[0]===a||i.unshift(a)}else if(Array.isArray(t)){i=[];for(var s=0,u=t.length;s<u;s++)i[s]=f.serialize(t[s],e,n,r)}else if(f.isPlainObject(t)){i={};for(var c=Object.keys(t),s=0,u=c.length;s<u;s++){var l=c[s];i[l]=f.serialize(t[l],e,n,r)}}else i="number"==typeof t?e.formatter.number(t,e.precision):t;return o&&r.length>0?[["dictionary",r.definitions],i]:i},deserialize:function(t,e,n,r,i){var o=t,a=!n,s=a&&t&&t.length&&"dictionary"===t[0][0];if(n=n||{},Array.isArray(t)){var u=t[0],c="dictionary"===u;if(1==t.length&&/^#/.test(u))return n.dictionary[u];u=f.exports[u],o=[];for(var l=u?1:0,h=t.length;l<h;l++)o.push(f.deserialize(t[l],e,n,c,s));if(u){var p=o;e?o=e(u,p,a||i):(o=f.create(u.prototype),u.apply(o,p))}}else if(f.isPlainObject(t)){o={},r&&(n.dictionary=o);for(var d in t)o[d]=f.deserialize(t[d],e,n)}return s?o[1]:o},exportJSON:function(t,e){var n=f.serialize(t,e);return e&&0==e.asString?n:JSON.stringify(n)},importJSON:function(t,e){return f.deserialize("string"==typeof t?JSON.parse(t):t,function(t,n,r){var i=r&&e&&e.constructor===t,o=i?e:f.create(t.prototype);if(1===n.length&&o instanceof S&&(i||!(o instanceof O))){var a=n[0];f.isPlainObject(a)&&(a.insert=!1)}return(i?o.set:t).apply(o,n),i&&(e=null),o})},splice:function(t,e,n,r){var i=e&&e.length,o=n===s;(n=o?t.length:n)>t.length&&(n=t.length);for(var a=0;a<i;a++)e[a]._index=n+a;if(o)return t.push.apply(t,e),[];var u=[n,r];e&&u.push.apply(u,e);for(var c=t.splice.apply(t,u),a=0,f=c.length;a<f;a++)c[a]._index=s;for(var a=n+i,f=t.length;a<f;a++)t[a]._index=a;return c},capitalize:function(t){return t.replace(/\b[a-z]/g,function(t){return t.toUpperCase()})},camelize:function(t){return t.replace(/-(.)/g,function(t,e){return e.toUpperCase()})},hyphenate:function(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}});var l={on:function(t,e){if("string"!=typeof t)f.each(t,function(t,e){this.on(e,t)},this);else{var n=this._eventTypes,r=n&&n[t],i=this._callbacks=this._callbacks||{};i=i[t]=i[t]||[],-1===i.indexOf(e)&&(i.push(e),r&&r.install&&1===i.length&&r.install.call(this,t))}return this},off:function(t,e){if("string"!=typeof t)return void f.each(t,function(t,e){this.off(e,t)},this);var n,r=this._eventTypes,i=r&&r[t],o=this._callbacks&&this._callbacks[t];return o&&(!e||-1!==(n=o.indexOf(e))&&1===o.length?(i&&i.uninstall&&i.uninstall.call(this,t),delete this._callbacks[t]):-1!==n&&o.splice(n,1)),this},once:function(t,e){return this.on(t,function(){e.apply(this,arguments),this.off(t,e)})},emit:function(t,e){var n=this._callbacks&&this._callbacks[t];if(!n)return!1;var r=f.slice(arguments,1),i=e&&e.target&&!e.currentTarget;n=n.slice(),i&&(e.currentTarget=this);for(var o=0,a=n.length;o<a;o++)if(0==n[o].apply(this,r)){e&&e.stop&&e.stop();break}return i&&delete e.currentTarget,!0},responds:function(t){return!(!this._callbacks||!this._callbacks[t])},attach:"#on",detach:"#off",fire:"#emit",_installEvents:function(t){var e=this._eventTypes,n=this._callbacks,r=t?"install":"uninstall";if(e)for(var i in n)if(n[i].length>0){var o=e[i],a=o&&o[r];a&&a.call(this,i)}},statics:{inject:function t(e){var n=e._events;if(n){var r={};f.each(n,function(t,n){var i="string"==typeof t,o=i?t:n,a=f.capitalize(o),s=o.substring(2).toLowerCase();r[s]=i?{}:t,o="_"+o,e["get"+a]=function(){return this[o]},e["set"+a]=function(t){var e=this[o];e&&this.off(s,e),t&&this.on(s,t),this[o]=t}}),e._eventTypes=r}return t.base.apply(this,arguments)}}},h=f.extend({_class:"PaperScope",initialize:function t(){o=this,this.settings=new f({applyMatrix:!0,insertItems:!0,handleSize:4,hitTolerance:0}),this.project=null,this.projects=[],this.tools=[],this._id=t._id++,t._scopes[this._id]=this;var e=t.prototype;if(!this.support){var n=ot.getContext(1,1)||{};e.support={nativeDash:"setLineDash"in n||"mozDash"in n,nativeBlendModes:at.nativeModes},ot.release(n)}if(!this.agent){var r=a.navigator.userAgent.toLowerCase(),i=(/(darwin|win|mac|linux|freebsd|sunos)/.exec(r)||[])[0],s="darwin"===i?"mac":i,u=e.agent=e.browser={platform:s};s&&(u[s]=!0),r.replace(/(opera|chrome|safari|webkit|firefox|msie|trident|atom|node)\/?\s*([.\d]+)(?:.*version\/([.\d]+))?(?:.*rv\:v?([.\d]+))?/g,function(t,e,n,r,i){if(!u.chrome){var o="opera"===e?r:/^(node|trident)$/.test(e)?i:n;u.version=o,u.versionNumber=parseFloat(o),e="trident"===e?"msie":e,u.name=e,u[e]=!0}}),u.chrome&&delete u.webkit,u.atom&&delete u.chrome}},version:"0.11.3",getView:function(){var t=this.project;return t&&t._view},getPaper:function(){return this},execute:function(t,e){o.PaperScript.execute(t,this,e),X.updateFocus()},install:function(t){var e=this;f.each(["project","view","tool"],function(n){f.define(t,n,{configurable:!0,get:function(){return e[n]}})});for(var n in this)!/^_/.test(n)&&this[n]&&(t[n]=this[n])},setup:function(t){return o=this,this.project=new M(t),this},createCanvas:function(t,e){return ot.getCanvas(t,e)},activate:function(){o=this},clear:function(){for(var t=this.projects,e=this.tools,n=t.length-1;n>=0;n--)t[n].remove();for(var n=e.length-1;n>=0;n--)e[n].remove()},remove:function(){this.clear(),delete h._scopes[this._id]},statics:new function(){function t(t){return t+="Attribute",function(e,n){return e[t](n)||e[t]("data-paper-"+n)}}return{_scopes:{},_id:0,get:function(t){return this._scopes[t]||null},getAttribute:t("get"),hasAttribute:t("has")}}}),p=f.extend(l,{initialize:function(t){this._scope=o,this._index=this._scope[this._list].push(this)-1,!t&&this._scope[this._reference]||this.activate()},activate:function(){if(!this._scope)return!1;var t=this._scope[this._reference];return t&&t!==this&&t.emit("deactivate"),this._scope[this._reference]=this,this.emit("activate",t),!0},isActive:function(){return this._scope[this._reference]===this},remove:function(){return null!=this._index&&(f.splice(this._scope[this._list],null,this._index,1),this._scope[this._reference]==this&&(this._scope[this._reference]=null),this._scope=null,!0)},getView:function(){return this._scope.getView()}}),d=f.extend({initialize:function(t){this.precision=f.pick(t,5),this.multiplier=Math.pow(10,this.precision)},number:function(t){return this.precision<16?Math.round(t*this.multiplier)/this.multiplier:t},pair:function(t,e,n){return this.number(t)+(n||",")+this.number(e)},point:function(t,e){return this.number(t.x)+(e||",")+this.number(t.y)},size:function(t,e){return this.number(t.width)+(e||",")+this.number(t.height)},rectangle:function(t,e){return this.point(t,e)+(e||",")+this.size(t,e)}});d.instance=new d;var m=new function(){function t(t,e,n){return t<e?e:t>n?n:t}function e(t,e,n){function r(t){var e=134217729*t,n=t-e,r=n+e;return[r,t-r]}var i=e*e-t*n,a=e*e+t*n;if(3*o(i)<a){var s=r(t),u=r(e),c=r(n),f=e*e,l=u[0]*u[0]-f+2*u[0]*u[1]+u[1]*u[1],h=t*n;i=f-h+(l-(s[0]*c[0]-h+s[0]*c[1]+s[1]*c[0]+s[1]*c[1]))}return i}function n(){var t=Math.max.apply(Math,arguments);return t&&(t<1e-8||t>1e8)?s(2,-Math.round(u(t))):0}var r=[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],i=[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]],o=Math.abs,a=Math.sqrt,s=Math.pow,u=Math.log2||function(t){return Math.log(t)*Math.LOG2E};return{EPSILON:1e-12,MACHINE_EPSILON:1.12e-16,CURVETIME_EPSILON:1e-8,GEOMETRIC_EPSILON:1e-7,TRIGONOMETRIC_EPSILON:1e-8,KAPPA:4*(a(2)-1)/3,isZero:function(t){return t>=-1e-12&&t<=1e-12},clamp:t,integrate:function(t,e,n,o){for(var a=r[o-2],s=i[o-2],u=.5*(n-e),c=u+e,f=0,l=o+1>>1,h=1&o?s[f++]*t(c):0;f<l;){var p=u*a[f];h+=s[f++]*(t(c+p)+t(c-p))}return u*h},findRoot:function(e,n,r,i,a,s,u){for(var c=0;c<s;c++){var f=e(r),l=f/n(r),h=r-l;if(o(l)<u){r=h;break}f>0?(a=r,r=h<=i?.5*(i+a):h):(i=r,r=h>=a?.5*(i+a):h)}return t(r,i,a)},solveQuadratic:function(r,i,s,u,c,f){var l,h=1/0;if(o(r)<1e-12){if(o(i)<1e-12)return o(s)<1e-12?-1:0;l=-s/i}else{i*=-.5;var p=e(r,i,s);if(p&&o(p)<1.12e-16){var d=n(o(r),o(i),o(s));d&&(r*=d,i*=d,s*=d,p=e(r,i,s))}if(p>=-1.12e-16){var m=p<0?0:a(p),g=i+(i<0?-m:m);0===g?(l=s/r,h=-l):(l=g/r,h=s/g)}}var v=0,y=null==c,x=c-1e-12,w=f+1e-12;return isFinite(l)&&(y||l>x&&l<w)&&(u[v++]=y?l:t(l,c,f)),h!==l&&isFinite(h)&&(y||h>x&&h<w)&&(u[v++]=y?h:t(h,c,f)),v},solveCubic:function(e,r,i,u,c,f,l){function h(t){p=t;var n=e*p;d=n+r,g=d*p+i,v=(n+d)*p+g,y=g*p+u}var p,d,g,v,y,x=n(o(e),o(r),o(i),o(u));if(x&&(e*=x,r*=x,i*=x,u*=x),o(e)<1e-12)e=r,d=i,g=u,p=1/0;else if(o(u)<1e-12)d=r,g=i,p=0;else{h(-r/e/3);var w=y/e,b=s(o(w),1/3),_=w<0?-1:1,N=-v/e,E=N>0?1.324717957244746*Math.max(b,a(N)):b,M=p-_*E;if(M!==p){do{h(M),M=0===v?p:p-y/v/(1+1.12e-16)}while(_*M>_*p);o(e)*p*p>o(u/p)&&(g=-u/p,d=(g-i)/p)}}var S=m.solveQuadratic(e,d,g,c,f,l),A=null==f;return isFinite(p)&&(0===S||S>0&&p!==c[0]&&p!==c[1])&&(A||p>f-1e-12&&p<l+1e-12)&&(c[S++]=A?p:t(p,f,l)),S}}},g={_id:1,_pools:{},get:function(t){if(t){var e=this._pools[t];return e||(e=this._pools[t]={_id:1}),e._id++}return this._id++}},v=f.extend({_class:"Point",_readIndex:!0,initialize:function(t,e){var n=typeof t,r=this.__read,i=0;if("number"===n){var o="number"==typeof e;this._set(t,o?e:t),r&&(i=o?2:1)}else if("undefined"===n||null===t)this._set(0,0),r&&(i=null===t?1:0);else{var a="string"===n?t.split(/[\s,]+/)||[]:t;i=1,Array.isArray(a)?this._set(+a[0],+(a.length>1?a[1]:a[0])):"x"in a?this._set(a.x||0,a.y||0):"width"in a?this._set(a.width||0,a.height||0):"angle"in a?(this._set(a.length||0,0),this.setAngle(a.angle||0)):(this._set(0,0),i=0)}return r&&(this.__read=i),this},set:"#initialize",_set:function(t,e){return this.x=t,this.y=e,this},equals:function(t){return this===t||t&&(this.x===t.x&&this.y===t.y||Array.isArray(t)&&this.x===t[0]&&this.y===t[1])||!1},clone:function(){return new v(this.x,this.y)},toString:function(){var t=d.instance;return"{ x: "+t.number(this.x)+", y: "+t.number(this.y)+" }"},_serialize:function(t){var e=t.formatter;return[e.number(this.x),e.number(this.y)]},getLength:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},setLength:function(t){if(this.isZero()){var e=this._angle||0;this._set(Math.cos(e)*t,Math.sin(e)*t)}else{var n=t/this.getLength();m.isZero(n)&&this.getAngle(),this._set(this.x*n,this.y*n)}},getAngle:function(){return 180*this.getAngleInRadians.apply(this,arguments)/Math.PI},setAngle:function(t){this.setAngleInRadians.call(this,t*Math.PI/180)},getAngleInDegrees:"#getAngle",setAngleInDegrees:"#setAngle",getAngleInRadians:function(){if(arguments.length){var t=v.read(arguments),e=this.getLength()*t.getLength();if(m.isZero(e))return NaN;var n=this.dot(t)/e;return Math.acos(n<-1?-1:n>1?1:n)}return this.isZero()?this._angle||0:this._angle=Math.atan2(this.y,this.x)},setAngleInRadians:function(t){if(this._angle=t,!this.isZero()){var e=this.getLength();this._set(Math.cos(t)*e,Math.sin(t)*e)}},getQuadrant:function(){return this.x>=0?this.y>=0?1:4:this.y>=0?2:3}},{beans:!1,getDirectedAngle:function(){var t=v.read(arguments);return 180*Math.atan2(this.cross(t),this.dot(t))/Math.PI},getDistance:function(){var t=v.read(arguments),e=t.x-this.x,n=t.y-this.y,r=e*e+n*n;return f.read(arguments)?r:Math.sqrt(r)},normalize:function(t){t===s&&(t=1);var e=this.getLength(),n=0!==e?t/e:0,r=new v(this.x*n,this.y*n);return n>=0&&(r._angle=this._angle),r},rotate:function(t,e){if(0===t)return this.clone();t=t*Math.PI/180;var n=e?this.subtract(e):this,r=Math.sin(t),i=Math.cos(t);return n=new v(n.x*i-n.y*r,n.x*r+n.y*i),e?n.add(e):n},transform:function(t){return t?t._transformPoint(this):this},add:function(){var t=v.read(arguments);return new v(this.x+t.x,this.y+t.y)},subtract:function(){var t=v.read(arguments);return new v(this.x-t.x,this.y-t.y)},multiply:function(){var t=v.read(arguments);return new v(this.x*t.x,this.y*t.y)},divide:function(){var t=v.read(arguments);return new v(this.x/t.x,this.y/t.y)},modulo:function(){var t=v.read(arguments);return new v(this.x%t.x,this.y%t.y)},negate:function(){return new v(-this.x,-this.y)},isInside:function(){return b.read(arguments).contains(this)},isClose:function(){var t=v.read(arguments),e=f.read(arguments);return this.getDistance(t)<=e},isCollinear:function(){var t=v.read(arguments);return v.isCollinear(this.x,this.y,t.x,t.y)},isColinear:"#isCollinear",isOrthogonal:function(){var t=v.read(arguments);return v.isOrthogonal(this.x,this.y,t.x,t.y)},isZero:function(){var t=m.isZero;return t(this.x)&&t(this.y)},isNaN:function(){return isNaN(this.x)||isNaN(this.y)},isInQuadrant:function(t){return this.x*(t>1&&t<4?-1:1)>=0&&this.y*(t>2?-1:1)>=0},dot:function(){var t=v.read(arguments);return this.x*t.x+this.y*t.y},cross:function(){var t=v.read(arguments);return this.x*t.y-this.y*t.x},project:function(){var t=v.read(arguments),e=t.isZero()?0:this.dot(t)/t.dot(t);return new v(t.x*e,t.y*e)},statics:{min:function(){var t=v.read(arguments),e=v.read(arguments);return new v(Math.min(t.x,e.x),Math.min(t.y,e.y))},max:function(){var t=v.read(arguments),e=v.read(arguments);return new v(Math.max(t.x,e.x),Math.max(t.y,e.y))},random:function(){return new v(Math.random(),Math.random())},isCollinear:function(t,e,n,r){return Math.abs(t*r-e*n)<=1e-8*Math.sqrt((t*t+e*e)*(n*n+r*r))},isOrthogonal:function(t,e,n,r){return Math.abs(t*n+e*r)<=1e-8*Math.sqrt((t*t+e*e)*(n*n+r*r))}}},f.each(["round","ceil","floor","abs"],function(t){var e=Math[t];this[t]=function(){return new v(e(this.x),e(this.y))}},{})),y=v.extend({initialize:function(t,e,n,r){this._x=t,this._y=e,this._owner=n,this._setter=r},_set:function(t,e,n){return this._x=t,this._y=e,n||this._owner[this._setter](this),this},getX:function(){return this._x},setX:function(t){this._x=t,this._owner[this._setter](this)},getY:function(){return this._y},setY:function(t){this._y=t,this._owner[this._setter](this)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(t){this._owner.changeSelection(this._getSelection(),t)},_getSelection:function(){return"setPosition"===this._setter?4:0}}),x=f.extend({_class:"Size",_readIndex:!0,initialize:function(t,e){var n=typeof t,r=this.__read,i=0;if("number"===n){var o="number"==typeof e;this._set(t,o?e:t),r&&(i=o?2:1)}else if("undefined"===n||null===t)this._set(0,0),r&&(i=null===t?1:0);else{var a="string"===n?t.split(/[\s,]+/)||[]:t;i=1,Array.isArray(a)?this._set(+a[0],+(a.length>1?a[1]:a[0])):"width"in a?this._set(a.width||0,a.height||0):"x"in a?this._set(a.x||0,a.y||0):(this._set(0,0),i=0)}return r&&(this.__read=i),this},set:"#initialize",_set:function(t,e){return this.width=t,this.height=e,this},equals:function(t){return t===this||t&&(this.width===t.width&&this.height===t.height||Array.isArray(t)&&this.width===t[0]&&this.height===t[1])||!1},clone:function(){return new x(this.width,this.height)},toString:function(){var t=d.instance;return"{ width: "+t.number(this.width)+", height: "+t.number(this.height)+" }"},_serialize:function(t){var e=t.formatter;return[e.number(this.width),e.number(this.height)]},add:function(){var t=x.read(arguments);return new x(this.width+t.width,this.height+t.height)},subtract:function(){var t=x.read(arguments);return new x(this.width-t.width,this.height-t.height)},multiply:function(){var t=x.read(arguments);return new x(this.width*t.width,this.height*t.height)},divide:function(){var t=x.read(arguments);return new x(this.width/t.width,this.height/t.height)},modulo:function(){var t=x.read(arguments);return new x(this.width%t.width,this.height%t.height)},negate:function(){return new x(-this.width,-this.height)},isZero:function(){var t=m.isZero;return t(this.width)&&t(this.height)},isNaN:function(){return isNaN(this.width)||isNaN(this.height)},statics:{min:function(t,e){return new x(Math.min(t.width,e.width),Math.min(t.height,e.height))},max:function(t,e){return new x(Math.max(t.width,e.width),Math.max(t.height,e.height))},random:function(){return new x(Math.random(),Math.random())}}},f.each(["round","ceil","floor","abs"],function(t){var e=Math[t];this[t]=function(){return new x(e(this.width),e(this.height))}},{})),w=x.extend({initialize:function(t,e,n,r){this._width=t,this._height=e,this._owner=n,this._setter=r},_set:function(t,e,n){return this._width=t,this._height=e,n||this._owner[this._setter](this),this},getWidth:function(){return this._width},setWidth:function(t){this._width=t,this._owner[this._setter](this)},getHeight:function(){return this._height},setHeight:function(t){this._height=t,this._owner[this._setter](this)}}),b=f.extend({_class:"Rectangle",_readIndex:!0,beans:!0,initialize:function(t,e,n,r){var i,o=typeof t;if("number"===o?(this._set(t,e,n,r),i=4):"undefined"===o||null===t?(this._set(0,0,0,0),i=null===t?1:0):1===arguments.length&&(Array.isArray(t)?(this._set.apply(this,t),i=1):t.x!==s||t.width!==s?(this._set(t.x||0,t.y||0,t.width||0,t.height||0),i=1):t.from===s&&t.to===s&&(this._set(0,0,0,0),f.filter(this,t),i=1)),i===s){var a,u,c=v.readNamed(arguments,"from"),l=f.peek(arguments),h=c.x,p=c.y;if(l&&l.x!==s||f.hasNamed(arguments,"to")){var d=v.readNamed(arguments,"to");a=d.x-h,u=d.y-p,a<0&&(h=d.x,a=-a),u<0&&(p=d.y,u=-u)}else{var m=x.read(arguments);a=m.width,u=m.height}this._set(h,p,a,u),i=arguments.__index;var g=arguments.__filtered;g&&(this.__filtered=g)}return this.__read&&(this.__read=i),this},set:"#initialize",_set:function(t,e,n,r){return this.x=t,this.y=e,this.width=n,this.height=r,this},clone:function(){return new b(this.x,this.y,this.width,this.height)},equals:function(t){var e=f.isPlainValue(t)?b.read(arguments):t;return e===this||e&&this.x===e.x&&this.y===e.y&&this.width===e.width&&this.height===e.height||!1},toString:function(){var t=d.instance;return"{ x: "+t.number(this.x)+", y: "+t.number(this.y)+", width: "+t.number(this.width)+", height: "+t.number(this.height)+" }"},_serialize:function(t){var e=t.formatter;return[e.number(this.x),e.number(this.y),e.number(this.width),e.number(this.height)]},getPoint:function(t){return new(t?v:y)(this.x,this.y,this,"setPoint")},setPoint:function(){var t=v.read(arguments);this.x=t.x,this.y=t.y},getSize:function(t){return new(t?x:w)(this.width,this.height,this,"setSize")},_fw:1,_fh:1,setSize:function(){var t=x.read(arguments),e=this._sx,n=this._sy,r=t.width,i=t.height;e&&(this.x+=(this.width-r)*e),n&&(this.y+=(this.height-i)*n),this.width=r,this.height=i,this._fw=this._fh=1},getLeft:function(){return this.x},setLeft:function(t){if(!this._fw){var e=t-this.x;this.width-=.5===this._sx?2*e:e}this.x=t,this._sx=this._fw=0},getTop:function(){return this.y},setTop:function(t){if(!this._fh){var e=t-this.y;this.height-=.5===this._sy?2*e:e}this.y=t,this._sy=this._fh=0},getRight:function(){return this.x+this.width},setRight:function(t){if(!this._fw){var e=t-this.x;this.width=.5===this._sx?2*e:e}this.x=t-this.width,this._sx=1,this._fw=0},getBottom:function(){return this.y+this.height},setBottom:function(t){if(!this._fh){var e=t-this.y;this.height=.5===this._sy?2*e:e}this.y=t-this.height,this._sy=1,this._fh=0},getCenterX:function(){return this.x+this.width/2},setCenterX:function(t){this._fw||.5===this._sx?this.x=t-this.width/2:(this._sx&&(this.x+=2*(t-this.x)*this._sx),this.width=2*(t-this.x)),this._sx=.5,this._fw=0},getCenterY:function(){return this.y+this.height/2},setCenterY:function(t){this._fh||.5===this._sy?this.y=t-this.height/2:(this._sy&&(this.y+=2*(t-this.y)*this._sy),this.height=2*(t-this.y)),this._sy=.5,this._fh=0},getCenter:function(t){return new(t?v:y)(this.getCenterX(),this.getCenterY(),this,"setCenter")},setCenter:function(){var t=v.read(arguments);return this.setCenterX(t.x),this.setCenterY(t.y),this},getArea:function(){return this.width*this.height},isEmpty:function(){return 0===this.width||0===this.height},contains:function(t){return t&&t.width!==s||4===(Array.isArray(t)?t:arguments).length?this._containsRectangle(b.read(arguments)):this._containsPoint(v.read(arguments))},_containsPoint:function(t){var e=t.x,n=t.y;return e>=this.x&&n>=this.y&&e<=this.x+this.width&&n<=this.y+this.height},_containsRectangle:function(t){var e=t.x,n=t.y;return e>=this.x&&n>=this.y&&e+t.width<=this.x+this.width&&n+t.height<=this.y+this.height},intersects:function(){var t=b.read(arguments),e=f.read(arguments)||0;return t.x+t.width>this.x-e&&t.y+t.height>this.y-e&&t.x<this.x+this.width+e&&t.y<this.y+this.height+e},intersect:function(){var t=b.read(arguments),e=Math.max(this.x,t.x),n=Math.max(this.y,t.y),r=Math.min(this.x+this.width,t.x+t.width),i=Math.min(this.y+this.height,t.y+t.height);return new b(e,n,r-e,i-n)},unite:function(){var t=b.read(arguments),e=Math.min(this.x,t.x),n=Math.min(this.y,t.y),r=Math.max(this.x+this.width,t.x+t.width),i=Math.max(this.y+this.height,t.y+t.height);return new b(e,n,r-e,i-n)},include:function(){var t=v.read(arguments),e=Math.min(this.x,t.x),n=Math.min(this.y,t.y),r=Math.max(this.x+this.width,t.x),i=Math.max(this.y+this.height,t.y);return new b(e,n,r-e,i-n)},expand:function(){var t=x.read(arguments),e=t.width,n=t.height;return new b(this.x-e/2,this.y-n/2,this.width+e,this.height+n)},scale:function(t,e){return this.expand(this.width*t-this.width,this.height*(e===s?t:e)-this.height)}},f.each([["Top","Left"],["Top","Right"],["Bottom","Left"],["Bottom","Right"],["Left","Center"],["Top","Center"],["Right","Center"],["Bottom","Center"]],function(t,e){var n=t.join(""),r=/^[RL]/.test(n);e>=4&&(t[1]+=r?"Y":"X");var i=t[r?0:1],o=t[r?1:0],a="get"+i,s="get"+o,u="set"+i,c="set"+o,f="get"+n,l="set"+n;this[f]=function(t){return new(t?v:y)(this[a](),this[s](),this,l)},this[l]=function(){var t=v.read(arguments);this[u](t.x),this[c](t.y)}},{beans:!0})),_=b.extend({initialize:function(t,e,n,r,i,o){this._set(t,e,n,r,!0),this._owner=i,this._setter=o},_set:function(t,e,n,r,i){return this._x=t,this._y=e,this._width=n,this._height=r,i||this._owner[this._setter](this),this}},new function(){var t=b.prototype;return f.each(["x","y","width","height"],function(t){var e=f.capitalize(t),n="_"+t;this["get"+e]=function(){return this[n]},this["set"+e]=function(t){this[n]=t,this._dontNotify||this._owner[this._setter](this)}},f.each(["Point","Size","Center","Left","Top","Right","Bottom","CenterX","CenterY","TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],function(e){var n="set"+e;this[n]=function(){this._dontNotify=!0,t[n].apply(this,arguments),this._dontNotify=!1,this._owner[this._setter](this)}},{isSelected:function(){return!!(2&this._owner._selection)},setSelected:function(t){var e=this._owner;e.changeSelection&&e.changeSelection(2,t)}}))}),N=f.extend({_class:"Matrix",initialize:function t(e,n){var r=arguments.length,i=!0;if(r>=6?this._set.apply(this,arguments):1===r||2===r?e instanceof t?this._set(e._a,e._b,e._c,e._d,e._tx,e._ty,n):Array.isArray(e)?this._set.apply(this,n?e.concat([n]):e):i=!1:r?i=!1:this.reset(),!i)throw new Error("Unsupported matrix parameters");return this},set:"#initialize",_set:function(t,e,n,r,i,o,a){return this._a=t,this._b=e,this._c=n,this._d=r,this._tx=i,this._ty=o,a||this._changed(),this},_serialize:function(t,e){return f.serialize(this.getValues(),t,!0,e)},_changed:function(){var t=this._owner;t&&(t._applyMatrix?t.transform(null,!0):t._changed(9))},clone:function(){return new N(this._a,this._b,this._c,this._d,this._tx,this._ty)},equals:function(t){return t===this||t&&this._a===t._a&&this._b===t._b&&this._c===t._c&&this._d===t._d&&this._tx===t._tx&&this._ty===t._ty},toString:function(){var t=d.instance;return"[["+[t.number(this._a),t.number(this._c),t.number(this._tx)].join(", ")+"], ["+[t.number(this._b),t.number(this._d),t.number(this._ty)].join(", ")+"]]"},reset:function(t){return this._a=this._d=1,this._b=this._c=this._tx=this._ty=0,t||this._changed(),this},apply:function(t,e){var n=this._owner;return!!n&&(n.transform(null,!0,f.pick(t,!0),e),this.isIdentity())},translate:function(){var t=v.read(arguments),e=t.x,n=t.y;return this._tx+=e*this._a+n*this._c,this._ty+=e*this._b+n*this._d,this._changed(),this},scale:function(){var t=v.read(arguments),e=v.read(arguments,0,{readNull:!0});return e&&this.translate(e),this._a*=t.x,this._b*=t.x,this._c*=t.y,this._d*=t.y,e&&this.translate(e.negate()),this._changed(),this},rotate:function(t){t*=Math.PI/180;var e=v.read(arguments,1),n=e.x,r=e.y,i=Math.cos(t),o=Math.sin(t),a=n-n*i+r*o,s=r-n*o-r*i,u=this._a,c=this._b,f=this._c,l=this._d;return this._a=i*u+o*f,this._b=i*c+o*l,this._c=-o*u+i*f,this._d=-o*c+i*l,this._tx+=a*u+s*f,this._ty+=a*c+s*l,this._changed(),this},shear:function(){var t=v.read(arguments),e=v.read(arguments,0,{readNull:!0});e&&this.translate(e);var n=this._a,r=this._b;return this._a+=t.y*this._c,this._b+=t.y*this._d,this._c+=t.x*n,this._d+=t.x*r,e&&this.translate(e.negate()),this._changed(),this},skew:function(){var t=v.read(arguments),e=v.read(arguments,0,{readNull:!0}),n=Math.PI/180,r=new v(Math.tan(t.x*n),Math.tan(t.y*n));return this.shear(r,e)},append:function(t,e){if(t){var n=this._a,r=this._b,i=this._c,o=this._d,a=t._a,s=t._c,u=t._b,c=t._d,f=t._tx,l=t._ty;this._a=a*n+u*i,this._c=s*n+c*i,this._b=a*r+u*o,this._d=s*r+c*o,this._tx+=f*n+l*i,this._ty+=f*r+l*o,e||this._changed()}return this},prepend:function(t,e){if(t){var n=this._a,r=this._b,i=this._c,o=this._d,a=this._tx,s=this._ty,u=t._a,c=t._c,f=t._b,l=t._d,h=t._tx,p=t._ty;this._a=u*n+c*r,this._c=u*i+c*o,this._b=f*n+l*r,this._d=f*i+l*o,this._tx=u*a+c*s+h,this._ty=f*a+l*s+p,e||this._changed()}return this},appended:function(t){return this.clone().append(t)},prepended:function(t){return this.clone().prepend(t)},invert:function(){var t=this._a,e=this._b,n=this._c,r=this._d,i=this._tx,o=this._ty,a=t*r-e*n,s=null;return a&&!isNaN(a)&&isFinite(i)&&isFinite(o)&&(this._a=r/a,this._b=-e/a,this._c=-n/a,this._d=t/a,this._tx=(n*o-r*i)/a,this._ty=(e*i-t*o)/a,s=this),s},inverted:function(){return this.clone().invert()},concatenate:"#append",preConcatenate:"#prepend",chain:"#appended",_shiftless:function(){return new N(this._a,this._b,this._c,this._d,0,0)},_orNullIfIdentity:function(){return this.isIdentity()?null:this},isIdentity:function(){return 1===this._a&&0===this._b&&0===this._c&&1===this._d&&0===this._tx&&0===this._ty},isInvertible:function(){var t=this._a*this._d-this._c*this._b;return t&&!isNaN(t)&&isFinite(this._tx)&&isFinite(this._ty)},isSingular:function(){return!this.isInvertible()},transform:function(t,e,n){return arguments.length<3?this._transformPoint(v.read(arguments)):this._transformCoordinates(t,e,n)},_transformPoint:function(t,e,n){var r=t.x,i=t.y;return e||(e=new v),e._set(r*this._a+i*this._c+this._tx,r*this._b+i*this._d+this._ty,n)},_transformCoordinates:function(t,e,n){for(var r=0,i=2*n;r<i;r+=2){var o=t[r],a=t[r+1];e[r]=o*this._a+a*this._c+this._tx,e[r+1]=o*this._b+a*this._d+this._ty}return e},_transformCorners:function(t){var e=t.x,n=t.y,r=e+t.width,i=n+t.height,o=[e,n,r,n,r,i,e,i];return this._transformCoordinates(o,o,4)},_transformBounds:function(t,e,n){for(var r=this._transformCorners(t),i=r.slice(0,2),o=i.slice(),a=2;a<8;a++){var s=r[a],u=1&a;s<i[u]?i[u]=s:s>o[u]&&(o[u]=s)}return e||(e=new b),e._set(i[0],i[1],o[0]-i[0],o[1]-i[1],n)},inverseTransform:function(){return this._inverseTransform(v.read(arguments))},_inverseTransform:function(t,e,n){var r=this._a,i=this._b,o=this._c,a=this._d,s=this._tx,u=this._ty,c=r*a-i*o,f=null;if(c&&!isNaN(c)&&isFinite(s)&&isFinite(u)){var l=t.x-this._tx,h=t.y-this._ty;e||(e=new v),f=e._set((l*a-h*o)/c,(h*r-l*i)/c,n)}return f},decompose:function(){var t,e,n,r=this._a,i=this._b,o=this._c,a=this._d,s=r*a-i*o,u=Math.sqrt,c=Math.atan2,f=180/Math.PI;if(0!==r||0!==i){var l=u(r*r+i*i);t=Math.acos(r/l)*(i>0?1:-1),e=[l,s/l],n=[c(r*o+i*a,l*l),0]}else if(0!==o||0!==a){var h=u(o*o+a*a);t=Math.asin(o/h)*(a>0?1:-1),e=[s/h,h],n=[0,c(r*o+i*a,h*h)]}else t=0,n=e=[0,0];return{translation:this.getTranslation(),rotation:t*f,scaling:new v(e),skewing:new v(n[0]*f,n[1]*f)}},getValues:function(){return[this._a,this._b,this._c,this._d,this._tx,this._ty]},getTranslation:function(){return new v(this._tx,this._ty)},getScaling:function(){return(this.decompose()||{}).scaling},getRotation:function(){return(this.decompose()||{}).rotation},applyToContext:function(t){this.isIdentity()||t.transform(this._a,this._b,this._c,this._d,this._tx,this._ty)}},f.each(["a","b","c","d","tx","ty"],function(t){var e=f.capitalize(t),n="_"+t;this["get"+e]=function(){return this[n]},this["set"+e]=function(t){this[n]=t,this._changed()}},{})),E=f.extend({_class:"Line",initialize:function(t,e,n,r,i){var o=!1;arguments.length>=4?(this._px=t,this._py=e,this._vx=n,this._vy=r,o=i):(this._px=t.x,this._py=t.y,this._vx=e.x,this._vy=e.y,o=n),o||(this._vx-=this._px,this._vy-=this._py)},getPoint:function(){return new v(this._px,this._py)},getVector:function(){return new v(this._vx,this._vy)},getLength:function(){return this.getVector().getLength()},intersect:function(t,e){return E.intersect(this._px,this._py,this._vx,this._vy,t._px,t._py,t._vx,t._vy,!0,e)},getSide:function(t,e){return E.getSide(this._px,this._py,this._vx,this._vy,t.x,t.y,!0,e)},getDistance:function(t){return Math.abs(this.getSignedDistance(t))},getSignedDistance:function(t){return E.getSignedDistance(this._px,this._py,this._vx,this._vy,t.x,t.y,!0)},isCollinear:function(t){return v.isCollinear(this._vx,this._vy,t._vx,t._vy)},isOrthogonal:function(t){return v.isOrthogonal(this._vx,this._vy,t._vx,t._vy)},statics:{intersect:function(t,e,n,r,i,o,a,s,u,c){u||(n-=t,r-=e,a-=i,s-=o);var f=n*s-r*a;if(!m.isZero(f)){var l=t-i,h=e-o,p=(a*h-s*l)/f,d=(n*h-r*l)/f;if(c||-1e-12<p&&p<1+1e-12&&-1e-12<d&&d<1+1e-12)return c||(p=p<=0?0:p>=1?1:p),new v(t+p*n,e+p*r)}},getSide:function(t,e,n,r,i,o,a,s){a||(n-=t,r-=e);var u=i-t,c=o-e,f=u*r-c*n;return!s&&m.isZero(f)&&(f=(u*n+u*n)/(n*n+r*r))>=0&&f<=1&&(f=0),f<0?-1:f>0?1:0},getSignedDistance:function(t,e,n,r,i,o,a){return a||(n-=t,r-=e),0===n?r>0?i-t:t-i:0===r?n<0?o-e:e-o:((i-t)*r-(o-e)*n)/Math.sqrt(n*n+r*r)},getDistance:function(t,e,n,r,i,o,a){return Math.abs(E.getSignedDistance(t,e,n,r,i,o,a))}}}),M=p.extend({_class:"Project",_list:"projects",_reference:"project",_compactSerialize:!0,initialize:function(t){p.call(this,!0),this._children=[],this._namedChildren={},this._activeLayer=null,this._currentStyle=new W(null,null,this),this._view=X.create(this,t||ot.getCanvas(1,1)),this._selectionItems={},this._selectionCount=0,this._updateVersion=0},_serialize:function(t,e){return f.serialize(this._children,t,!0,e)},_changed:function(t,e){if(1&t){var n=this._view;n&&(n._needsUpdate=!0,!n._requested&&n._autoUpdate&&n.requestUpdate())}var r=this._changes;if(r&&e){var i=this._changesById,o=e._id,a=i[o];a?a.flags|=t:r.push(i[o]={item:e,flags:t})}},clear:function(){for(var t=this._children,e=t.length-1;e>=0;e--)t[e].remove()},isEmpty:function(){return!this._children.length},remove:function t(){return!!t.base.call(this)&&(this._view&&this._view.remove(),!0)},getView:function(){return this._view},getCurrentStyle:function(){return this._currentStyle},setCurrentStyle:function(t){this._currentStyle.set(t)},getIndex:function(){return this._index},getOptions:function(){return this._scope.settings},getLayers:function(){return this._children},getActiveLayer:function(){return this._activeLayer||new O({project:this,insert:!0})},getSymbolDefinitions:function(){var t=[],e={};return this.getItems({class:P,match:function(n){var r=n._definition,i=r._id;return e[i]||(e[i]=!0,t.push(r)),!1}}),t},getSymbols:"getSymbolDefinitions",getSelectedItems:function(){var t=this._selectionItems,e=[];for(var n in t){var r=t[n],i=r._selection;1&i&&r.isInserted()?e.push(r):i||this._updateSelection(r)}return e},_updateSelection:function(t){var e=t._id,n=this._selectionItems;t._selection?n[e]!==t&&(this._selectionCount++,n[e]=t):n[e]===t&&(this._selectionCount--,delete n[e])},selectAll:function(){for(var t=this._children,e=0,n=t.length;e<n;e++)t[e].setFullySelected(!0)},deselectAll:function(){var t=this._selectionItems;for(var e in t)t[e].setFullySelected(!1)},addLayer:function(t){return this.insertLayer(s,t)},insertLayer:function(t,e){if(e instanceof O){e._remove(!1,!0),f.splice(this._children,[e],t,0),e._setProject(this,!0);var n=e._name;n&&e.setName(n),this._changes&&e._changed(5),this._activeLayer||(this._activeLayer=e)}else e=null;return e},_insertItem:function(t,e,n){return e=this.insertLayer(t,e)||(this._activeLayer||this._insertItem(s,new O(S.NO_INSERT),!0)).insertChild(t,e),n&&e.activate&&e.activate(),e},getItems:function(t){return S._getItems(this,t)},getItem:function(t){return S._getItems(this,t,null,null,!0)[0]||null},importJSON:function(t){this.activate();var e=this._activeLayer;return f.importJSON(t,e&&e.isEmpty()&&e)},removeOn:function(t){var e=this._removeSets;if(e){"mouseup"===t&&(e.mousedrag=null);var n=e[t];if(n){for(var r in n){var i=n[r];for(var o in e){var a=e[o];a&&a!=n&&delete a[i._id]}i.remove()}e[t]=null}}},draw:function(t,e,n){this._updateVersion++,t.save(),e.applyToContext(t);for(var r=this._children,i=new f({offset:new v(0,0),pixelRatio:n,viewMatrix:e.isIdentity()?null:e,matrices:[new N],updateMatrix:!0}),o=0,a=r.length;o<a;o++)r[o].draw(t,i);if(t.restore(),this._selectionCount>0){t.save(),t.strokeWidth=1;var s=this._selectionItems,u=this._scope.settings.handleSize,c=this._updateVersion;for(var l in s)s[l]._drawSelection(t,e,u,s,c);t.restore()}}}),S=f.extend(l,{statics:{extend:function t(e){return e._serializeFields&&(e._serializeFields=f.set({},this.prototype._serializeFields,e._serializeFields)),t.base.apply(this,arguments)},NO_INSERT:{insert:!1}},_class:"Item",_name:null,_applyMatrix:!0,_canApplyMatrix:!0,_canScaleStroke:!1,_pivot:null,_visible:!0,_blendMode:"normal",_opacity:1,_locked:!1,_guide:!1,_clipMask:!1,_selection:0,_selectBounds:!0,_selectChildren:!1,_serializeFields:{name:null,applyMatrix:null,matrix:new N,pivot:null,visible:!0,blendMode:"normal",opacity:1,locked:!1,guide:!1,clipMask:!1,selected:!1,data:{}},_prioritize:["applyMatrix"]},new function(){var t=["onMouseDown","onMouseUp","onMouseDrag","onClick","onDoubleClick","onMouseMove","onMouseEnter","onMouseLeave"];return f.each(t,function(t){this._events[t]={install:function(t){this.getView()._countItemEvent(t,1)},uninstall:function(t){this.getView()._countItemEvent(t,-1)}}},{_events:{onFrame:{install:function(){this.getView()._animateItem(this,!0)},uninstall:function(){this.getView()._animateItem(this,!1)}},onLoad:{},onError:{}},statics:{_itemHandlers:t}})},{initialize:function(){},_initialize:function(t,e){var n=t&&f.isPlainObject(t),r=n&&!0===t.internal,i=this._matrix=new N,a=n&&t.project||o.project,u=o.settings;return this._id=r?null:g.get(),this._parent=this._index=null,this._applyMatrix=this._canApplyMatrix&&u.applyMatrix,e&&i.translate(e),i._owner=this,this._style=new W(a._currentStyle,this,a),r||n&&0==t.insert||!u.insertItems&&(!n||!0!==t.insert)?this._setProject(a):(n&&t.parent||a)._insertItem(s,this,!0),n&&t!==S.NO_INSERT&&this.set(t,{internal:!0,insert:!0,project:!0,parent:!0}),n},_serialize:function(t,e){function n(n){for(var o in n){var a=i[o];f.equals(a,"leading"===o?1.2*n.fontSize:n[o])||(r[o]=f.serialize(a,t,"data"!==o,e))}}var r={},i=this;return n(this._serializeFields),this instanceof A||n(this._style._defaults),[this._class,r]},_changed:function(t){var e=this._symbol,n=this._parent||e,r=this._project;8&t&&(this._bounds=this._position=this._decomposed=this._globalMatrix=s),n&&40&t&&S._clearBoundsCache(n),2&t&&S._clearBoundsCache(this),r&&r._changed(t,this),e&&e._changed(t)},getId:function(){return this._id},getName:function(){return this._name},setName:function(t){if(this._name&&this._removeNamed(),t===+t+"")throw new Error("Names consisting only of numbers are not supported.");var e=this._getOwner();if(t&&e){var n=e._children,r=e._namedChildren;(r[t]=r[t]||[]).push(this),t in n||(n[t]=this)}this._name=t||s,this._changed(128)},getStyle:function(){return this._style},setStyle:function(t){this.getStyle().set(t)}},f.each(["locked","visible","blendMode","opacity","guide"],function(t){var e=f.capitalize(t),n="_"+t,r={locked:128,visible:137};this["get"+e]=function(){return this[n]},this["set"+e]=function(e){e!=this[n]&&(this[n]=e,this._changed(r[t]||129))}},{}),{beans:!0,getSelection:function(){return this._selection},setSelection:function(t){if(t!==this._selection){this._selection=t;var e=this._project;e&&(e._updateSelection(this),this._changed(129))}},changeSelection:function(t,e){var n=this._selection;this.setSelection(e?n|t:n&~t)},isSelected:function(){if(this._selectChildren)for(var t=this._children,e=0,n=t.length;e<n;e++)if(t[e].isSelected())return!0;return!!(1&this._selection)},setSelected:function(t){if(this._selectChildren)for(var e=this._children,n=0,r=e.length;n<r;n++)e[n].setSelected(t);this.changeSelection(1,t)},isFullySelected:function(){var t=this._children,e=!!(1&this._selection);if(t&&e){for(var n=0,r=t.length;n<r;n++)if(!t[n].isFullySelected())return!1;return!0}return e},setFullySelected:function(t){var e=this._children;if(e)for(var n=0,r=e.length;n<r;n++)e[n].setFullySelected(t);this.changeSelection(1,t)},isClipMask:function(){return this._clipMask},setClipMask:function(t){this._clipMask!=(t=!!t)&&(this._clipMask=t,t&&(this.setFillColor(null),this.setStrokeColor(null)),this._changed(129),this._parent&&this._parent._changed(1024))},getData:function(){return this._data||(this._data={}),this._data},setData:function(t){this._data=t},getPosition:function(t){var e=this._position,n=t?v:y;if(!e){var r=this._pivot;e=this._position=r?this._matrix._transformPoint(r):this.getBounds().getCenter(!0)}return new n(e.x,e.y,this,"setPosition")},setPosition:function(){this.translate(v.read(arguments).subtract(this.getPosition(!0)))},getPivot:function(){var t=this._pivot;return t?new y(t.x,t.y,this,"setPivot"):null},setPivot:function(){this._pivot=v.read(arguments,0,{clone:!0,readNull:!0}),this._position=s}},f.each({getStrokeBounds:{stroke:!0},getHandleBounds:{handle:!0},getInternalBounds:{internal:!0}},function(t,e){this[e]=function(e){return this.getBounds(e,t)}},{beans:!0,getBounds:function(t,e){var n=e||t instanceof N,r=f.set({},n?e:t,this._boundsOptions);r.stroke&&!this.getStrokeScaling()||(r.cacheItem=this);var i=this._getCachedBounds(n&&t,r).rect;return arguments.length?i:new _(i.x,i.y,i.width,i.height,this,"setBounds")},setBounds:function(){var t=b.read(arguments),e=this.getBounds(),n=this._matrix,r=new N,i=t.getCenter();r.translate(i),t.width==e.width&&t.height==e.height||(n.isInvertible()||(n.set(n._backup||(new N).translate(n.getTranslation())),e=this.getBounds()),r.scale(0!==e.width?t.width/e.width:0,0!==e.height?t.height/e.height:0)),i=e.getCenter(),r.translate(-i.x,-i.y),this.transform(r)},_getBounds:function(t,e){var n=this._children;return n&&n.length?(S._updateBoundsCache(this,e.cacheItem),S._getBounds(n,t,e)):new b},_getBoundsCacheKey:function(t,e){return[t.stroke?1:0,t.handle?1:0,e?1:0].join("")},_getCachedBounds:function(t,e,n){t=t&&t._orNullIfIdentity();var r=e.internal&&!n,i=e.cacheItem,o=r?null:this._matrix._orNullIfIdentity(),a=i&&(!t||t.equals(o))&&this._getBoundsCacheKey(e,r),s=this._bounds;if(S._updateBoundsCache(this._parent||this._symbol,i),a&&s&&a in s){var u=s[a];return{rect:u.rect.clone(),nonscaling:u.nonscaling}}var c=this._getBounds(t||o,e),f=c.rect||c,l=this._style,h=c.nonscaling||l.hasStroke()&&!l.getStrokeScaling();if(a){s||(this._bounds=s={});var u=s[a]={rect:f.clone(),nonscaling:h,internal:r}}return{rect:f,nonscaling:h}},_getStrokeMatrix:function(t,e){var n=this.getStrokeScaling()?null:e&&e.internal?this:this._parent||this._symbol&&this._symbol._item,r=n?n.getViewMatrix().invert():t;return r&&r._shiftless()},statics:{_updateBoundsCache:function(t,e){if(t&&e){var n=e._id,r=t._boundsCache=t._boundsCache||{ids:{},list:[]};r.ids[n]||(r.list.push(e),r.ids[n]=e)}},_clearBoundsCache:function(t){var e=t._boundsCache;if(e){t._bounds=t._position=t._boundsCache=s;for(var n=0,r=e.list,i=r.length;n<i;n++){var o=r[n];o!==t&&(o._bounds=o._position=s,o._boundsCache&&S._clearBoundsCache(o))}}},_getBounds:function(t,e,n){var r=1/0,i=-r,o=r,a=i,s=!1;n=n||{};for(var u=0,c=t.length;u<c;u++){var f=t[u];if(f._visible&&!f.isEmpty()){var l=f._getCachedBounds(e&&e.appended(f._matrix),n,!0),h=l.rect;r=Math.min(h.x,r),o=Math.min(h.y,o),i=Math.max(h.x+h.width,i),a=Math.max(h.y+h.height,a),l.nonscaling&&(s=!0)}}return{rect:isFinite(r)?new b(r,o,i-r,a-o):new b,nonscaling:s}}}}),{beans:!0,_decompose:function(){return this._applyMatrix?null:this._decomposed||(this._decomposed=this._matrix.decompose())},getRotation:function(){var t=this._decompose();return t?t.rotation:0},setRotation:function(t){var e=this.getRotation();if(null!=e&&null!=t){var n=this._decomposed;this.rotate(t-e),n&&(n.rotation=t,this._decomposed=n)}},getScaling:function(){var t=this._decompose(),e=t&&t.scaling;return new y(e?e.x:1,e?e.y:1,this,"setScaling")},setScaling:function(){var t=this.getScaling(),e=v.read(arguments,0,{clone:!0,readNull:!0});if(t&&e&&!t.equals(e)){var n=this.getRotation(),r=this._decomposed,i=new N,o=this.getPosition(!0);i.translate(o),n&&i.rotate(n),i.scale(e.x/t.x,e.y/t.y),n&&i.rotate(-n),i.translate(o.negate()),this.transform(i),r&&(r.scaling=e,this._decomposed=r)}},getMatrix:function(){return this._matrix},setMatrix:function(){var t=this._matrix;t.initialize.apply(t,arguments)},getGlobalMatrix:function(t){var e=this._globalMatrix,n=this._project._updateVersion;if(e&&e._updateVersion!==n&&(e=null),!e){e=this._globalMatrix=this._matrix.clone();var r=this._parent;r&&e.prepend(r.getGlobalMatrix(!0)),e._updateVersion=n}return t?e:e.clone()},getViewMatrix:function(){return this.getGlobalMatrix().prepend(this.getView()._matrix)},getApplyMatrix:function(){return this._applyMatrix},setApplyMatrix:function(t){(this._applyMatrix=this._canApplyMatrix&&!!t)&&this.transform(null,!0)},getTransformContent:"#getApplyMatrix",setTransformContent:"#setApplyMatrix"},{getProject:function(){return this._project},_setProject:function(t,e){if(this._project!==t){this._project&&this._installEvents(!1),this._project=t;for(var n=this._children,r=0,i=n&&n.length;r<i;r++)n[r]._setProject(t);e=!0}e&&this._installEvents(!0)},getView:function(){return this._project._view},_installEvents:function t(e){t.base.call(this,e);for(var n=this._children,r=0,i=n&&n.length;r<i;r++)n[r]._installEvents(e)},getLayer:function(){for(var t=this;t=t._parent;)if(t instanceof O)return t;return null},getParent:function(){return this._parent},setParent:function(t){return t.addChild(this)},_getOwner:"#getParent",getChildren:function(){return this._children},setChildren:function(t){this.removeChildren(),this.addChildren(t)},getFirstChild:function(){return this._children&&this._children[0]||null},getLastChild:function(){return this._children&&this._children[this._children.length-1]||null},getNextSibling:function(){var t=this._getOwner();return t&&t._children[this._index+1]||null},getPreviousSibling:function(){var t=this._getOwner();return t&&t._children[this._index-1]||null},getIndex:function(){return this._index},equals:function(t){return t===this||t&&this._class===t._class&&this._style.equals(t._style)&&this._matrix.equals(t._matrix)&&this._locked===t._locked&&this._visible===t._visible&&this._blendMode===t._blendMode&&this._opacity===t._opacity&&this._clipMask===t._clipMask&&this._guide===t._guide&&this._equals(t)||!1},_equals:function(t){return f.equals(this._children,t._children)},clone:function(t){var e=new this.constructor(S.NO_INSERT),n=this._children,r=f.pick(t?t.insert:s,t===s||!0===t),i=f.pick(t?t.deep:s,!0);n&&e.copyAttributes(this),n&&!i||e.copyContent(this),n||e.copyAttributes(this),r&&e.insertAbove(this);var o=this._name,a=this._parent;if(o&&a){for(var n=a._children,u=o,c=1;n[o];)o=u+" "+c++;o!==u&&e.setName(o)}return e},copyContent:function(t){for(var e=t._children,n=0,r=e&&e.length;n<r;n++)this.addChild(e[n].clone(!1),!0)},copyAttributes:function(t,e){this.setStyle(t._style);for(var n=["_locked","_visible","_blendMode","_opacity","_clipMask","_guide"],r=0,i=n.length;r<i;r++){var o=n[r];t.hasOwnProperty(o)&&(this[o]=t[o])}e||this._matrix.set(t._matrix,!0),this.setApplyMatrix(t._applyMatrix),this.setPivot(t._pivot),this.setSelection(t._selection);var a=t._data,s=t._name;this._data=a?f.clone(a):null,s&&this.setName(s)},rasterize:function(t,e){var n=this.getStrokeBounds(),r=(t||this.getView().getResolution())/72,i=n.getTopLeft().floor(),o=n.getBottomRight().ceil(),a=new x(o.subtract(i)),u=new T(S.NO_INSERT);if(!a.isZero()){var c=ot.getCanvas(a.multiply(r)),l=c.getContext("2d"),h=(new N).scale(r).translate(i.negate());l.save(),h.applyToContext(l),this.draw(l,new f({matrices:[h]})),l.restore(),u.setCanvas(c)}return u.transform((new N).translate(i.add(a.divide(2))).scale(1/r)),(e===s||e)&&u.insertAbove(this),u},contains:function(){return!!this._contains(this._matrix._inverseTransform(v.read(arguments)))},_contains:function(t){var e=this._children;if(e){for(var n=e.length-1;n>=0;n--)if(e[n].contains(t))return!0;return!1}return t.isInside(this.getInternalBounds())},isInside:function(){return b.read(arguments).contains(this.getBounds())},_asPathItem:function(){return new F.Rectangle({rectangle:this.getInternalBounds(),matrix:this._matrix,insert:!1})},intersects:function(t,e){return t instanceof S&&this._asPathItem().getIntersections(t._asPathItem(),null,e,!0).length>0}},new function(){function t(){return this._hitTest(v.read(arguments),k.getOptions(arguments))}function e(){var t=v.read(arguments),e=k.getOptions(arguments),n=[];return this._hitTest(t,f.set({all:n},e)),n}function n(t,e,n,r){var i=this._children;if(i)for(var o=i.length-1;o>=0;o--){var a=i[o],s=a!==r&&a._hitTest(t,e,n);if(s&&!e.all)return s}return null}return M.inject({hitTest:t,hitTestAll:e,_hitTest:n}),{hitTest:t,hitTestAll:e,_hitTestChildren:n}},{_hitTest:function(t,e,n){function r(t){return t&&p&&!p(t)&&(t=null),t&&e.all&&e.all.push(t),t}function i(e,n){var r=n?c["get"+n]():d.getPosition();if(t.subtract(r).divide(u).length<=1)return new k(e,d,{name:n?f.hyphenate(n):e,point:r})}if(this._locked||!this._visible||this._guide&&!e.guides||this.isEmpty())return null;var o=this._matrix,a=n?n.appended(o):this.getGlobalMatrix().prepend(this.getView()._matrix),s=Math.max(e.tolerance,1e-12),u=e._tolerancePadding=new x(F._getStrokePadding(s,o._shiftless().invert()));if(!(t=o._inverseTransform(t))||!this._children&&!this.getBounds({internal:!0,stroke:!0,handle:!0}).expand(u.multiply(2))._containsPoint(t))return null;var c,l,h=!(e.guides&&!this._guide||e.selected&&!this.isSelected()||e.type&&e.type!==f.hyphenate(this._class)||e.class&&!(this instanceof e.class)),p=e.match,d=this,m=e.position,g=e.center,v=e.bounds;if(h&&this._parent&&(m||g||v)){if((g||v)&&(c=this.getInternalBounds()),!(l=m&&i("position")||g&&i("center","Center"))&&v)for(var y=["TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],w=0;w<8&&!l;w++)l=i("bounds",y[w]);l=r(l)}return l||(l=this._hitTestChildren(t,e,a)||h&&r(this._hitTestSelf(t,e,a,this.getStrokeScaling()?null:a._shiftless().invert()))||null),l&&l.point&&(l.point=o.transform(l.point)),l},_hitTestSelf:function(t,e){if(e.fill&&this.hasFill()&&this._contains(t))return new k("fill",this)},matches:function(t,e){function n(t,e){for(var r in t)if(t.hasOwnProperty(r)){var i=t[r],o=e[r];if(f.isPlainObject(i)&&f.isPlainObject(o)){if(!n(i,o))return!1}else if(!f.equals(i,o))return!1}return!0}var r=typeof t;if("object"===r){for(var i in t)if(t.hasOwnProperty(i)&&!this.matches(i,t[i]))return!1;return!0}if("function"===r)return t(this);if("match"===t)return e(this);var o=/^(empty|editable)$/.test(t)?this["is"+f.capitalize(t)]():"type"===t?f.hyphenate(this._class):this[t];if("class"===t){if("function"==typeof e)return this instanceof e;o=this._class}if("function"==typeof e)return!!e(o);if(e){if(e.test)return e.test(o);if(f.isPlainObject(e))return n(e,o)}return f.equals(o,e)},getItems:function(t){return S._getItems(this,t,this._matrix)},getItem:function(t){return S._getItems(this,t,this._matrix,null,!0)[0]||null},statics:{_getItems:function t(e,n,r,i,o){if(!i){var a="object"==typeof n&&n,s=a&&a.overlapping,u=a&&a.inside,c=s||u,l=c&&b.read([c]);i={items:[],recursive:a&&!1!==a.recursive,inside:!!u,overlapping:!!s,rect:l,path:s&&new F.Rectangle({rectangle:l,insert:!1})},a&&(n=f.filter({},n,{recursive:!0,inside:!0,overlapping:!0}))}var h=e._children,p=i.items,l=i.rect;r=l&&(r||new N);for(var d=0,m=h&&h.length;d<m;d++){var g=h[d],v=r&&r.appended(g._matrix),y=!0;if(l){var c=g.getBounds(v);if(!l.intersects(c))continue;l.contains(c)||i.overlapping&&(c.contains(l)||i.path.intersects(g,v))||(y=!1)}if(y&&g.matches(n)&&(p.push(g),o))break;if(!1!==i.recursive&&t(g,n,v,i,o),o&&p.length>0)break}return p}}},{importJSON:function(t){var e=f.importJSON(t,this);return e!==this?this.addChild(e):e},addChild:function(t){return this.insertChild(s,t)},insertChild:function(t,e){var n=e?this.insertChildren(t,[e]):null;return n&&n[0]},addChildren:function(t){return this.insertChildren(this._children.length,t)},insertChildren:function(t,e){var n=this._children;if(n&&e&&e.length>0){e=f.slice(e);for(var r={},i=e.length-1;i>=0;i--){var o=e[i],a=o&&o._id;!o||r[a]?e.splice(i,1):(o._remove(!1,!0),r[a]=!0)}f.splice(n,e,t,0);for(var s=this._project,u=s._changes,i=0,c=e.length;i<c;i++){var o=e[i],l=o._name;o._parent=this,o._setProject(s,!0),l&&o.setName(l),u&&o._changed(5)}this._changed(11)}else e=null;return e},_insertItem:"#insertChild",_insertAt:function(t,e){var n=t&&t._getOwner(),r=t!==this&&n?this:null;return r&&(r._remove(!1,!0),n._insertItem(t._index+e,r)),r},insertAbove:function(t){return this._insertAt(t,1)},insertBelow:function(t){return this._insertAt(t,0)},sendToBack:function(){var t=this._getOwner();return t?t._insertItem(0,this):null},bringToFront:function(){var t=this._getOwner();return t?t._insertItem(s,this):null},appendTop:"#addChild",appendBottom:function(t){return this.insertChild(0,t)},moveAbove:"#insertAbove",moveBelow:"#insertBelow",addTo:function(t){return t._insertItem(s,this)},copyTo:function(t){return this.clone(!1).addTo(t)},reduce:function(t){var e=this._children;if(e&&1===e.length){var n=e[0].reduce(t);return this._parent?(n.insertAbove(this),this.remove()):n.remove(),n}return this},_removeNamed:function(){var t=this._getOwner();if(t){var e=t._children,n=t._namedChildren,r=this._name,i=n[r],o=i?i.indexOf(this):-1;-1!==o&&(e[r]==this&&delete e[r],i.splice(o,1),i.length?e[r]=i[0]:delete n[r])}},_remove:function(t,e){var n=this._getOwner(),r=this._project,i=this._index;return!!n&&(this._name&&this._removeNamed(),null!=i&&(r._activeLayer===this&&(r._activeLayer=this.getNextSibling()||this.getPreviousSibling()),f.splice(n._children,null,i,1)),this._installEvents(!1),t&&r._changes&&this._changed(5),e&&n._changed(11,this),this._parent=null,!0)},remove:function(){return this._remove(!0,!0)},replaceWith:function(t){var e=t&&t.insertBelow(this);return e&&this.remove(),e},removeChildren:function(t,e){if(!this._children)return null;t=t||0,e=f.pick(e,this._children.length);for(var n=f.splice(this._children,null,t,e-t),r=n.length-1;r>=0;r--)n[r]._remove(!0,!1);return n.length>0&&this._changed(11),n},clear:"#removeChildren",reverseChildren:function(){if(this._children){this._children.reverse();for(var t=0,e=this._children.length;t<e;t++)this._children[t]._index=t;this._changed(11)}},isEmpty:function(){var t=this._children;return!t||!t.length},isEditable:function(){for(var t=this;t;){if(!t._visible||t._locked)return!1;t=t._parent}return!0},hasFill:function(){return this.getStyle().hasFill()},hasStroke:function(){return this.getStyle().hasStroke()},hasShadow:function(){return this.getStyle().hasShadow()},_getOrder:function(t){function e(t){var e=[];do{e.unshift(t)}while(t=t._parent);return e}for(var n=e(this),r=e(t),i=0,o=Math.min(n.length,r.length);i<o;i++)if(n[i]!=r[i])return n[i]._index<r[i]._index?1:-1;return 0},hasChildren:function(){return this._children&&this._children.length>0},isInserted:function(){return!!this._parent&&this._parent.isInserted()},isAbove:function(t){return-1===this._getOrder(t)},isBelow:function(t){return 1===this._getOrder(t)},isParent:function(t){return this._parent===t},isChild:function(t){return t&&t._parent===this},isDescendant:function(t){for(var e=this;e=e._parent;)if(e===t)return!0;return!1},isAncestor:function(t){return!!t&&t.isDescendant(this)},isSibling:function(t){return this._parent===t._parent},isGroupedWith:function(t){for(var e=this._parent;e;){if(e._parent&&/^(Group|Layer|CompoundPath)$/.test(e._class)&&t.isDescendant(e))return!0;e=e._parent}return!1}},f.each(["rotate","scale","shear","skew"],function(t){var e="rotate"===t;this[t]=function(){var n=(e?f:v).read(arguments),r=v.read(arguments,0,{readNull:!0});return this.transform((new N)[t](n,r||this.getPosition(!0)))}},{translate:function(){var t=new N;return this.transform(t.translate.apply(t,arguments))},transform:function(t,e,n,r){var i=this._matrix,o=t&&!t.isIdentity(),a=(e||this._applyMatrix)&&(!i.isIdentity()||o||e&&n&&this._children);if(!o&&!a)return this;if(o){!t.isInvertible()&&i.isInvertible()&&(i._backup=i.getValues()),i.prepend(t,!0);var s=this._style,u=s.getFillColor(!0),c=s.getStrokeColor(!0);u&&u.transform(t),c&&c.transform(t)}if(a&&(a=this._transformContent(i,n,r))){var f=this._pivot;f&&i._transformPoint(f,f,!0),i.reset(!0),r&&this._canApplyMatrix&&(this._applyMatrix=!0)}var l=this._bounds,h=this._position;(o||a)&&this._changed(9);var p=o&&l&&t.decompose();if(p&&p.skewing.isZero()&&p.rotation%90==0){for(var d in l){var m=l[d];if(m.nonscaling)delete l[d];else if(a||!m.internal){var g=m.rect;t._transformBounds(g,g)}}this._bounds=l;var v=l[this._getBoundsCacheKey(this._boundsOptions||{})];v&&(this._position=v.rect.getCenter(!0))}else o&&h&&this._pivot&&(this._position=t._transformPoint(h,h));return this},_transformContent:function(t,e,n){var r=this._children;if(r){for(var i=0,o=r.length;i<o;i++)r[i].transform(t,!0,e,n);return!0}},globalToLocal:function(){return this.getGlobalMatrix(!0)._inverseTransform(v.read(arguments))},localToGlobal:function(){return this.getGlobalMatrix(!0)._transformPoint(v.read(arguments))},parentToLocal:function(){return this._matrix._inverseTransform(v.read(arguments))},localToParent:function(){return this._matrix._transformPoint(v.read(arguments))},fitBounds:function(t,e){t=b.read(arguments);var n=this.getBounds(),r=n.height/n.width,i=t.height/t.width,o=(e?r>i:r<i)?t.width/n.width:t.height/n.height,a=new b(new v,new x(n.width*o,n.height*o));a.setCenter(t.getCenter()),this.setBounds(a)}}),{_setStyles:function(t,e,n){var r=this._style,i=this._matrix;if(r.hasFill()&&(t.fillStyle=r.getFillColor().toCanvasStyle(t,i)),r.hasStroke()){t.strokeStyle=r.getStrokeColor().toCanvasStyle(t,i),t.lineWidth=r.getStrokeWidth();var a=r.getStrokeJoin(),s=r.getStrokeCap(),u=r.getMiterLimit();if(a&&(t.lineJoin=a),s&&(t.lineCap=s),u&&(t.miterLimit=u),o.support.nativeDash){var c=r.getDashArray(),f=r.getDashOffset();c&&c.length&&("setLineDash"in t?(t.setLineDash(c),t.lineDashOffset=f):(t.mozDash=c,t.mozDashOffset=f))}}if(r.hasShadow()){var l=e.pixelRatio||1,h=n._shiftless().prepend((new N).scale(l,l)),p=h.transform(new v(r.getShadowBlur(),0)),d=h.transform(this.getShadowOffset());t.shadowColor=r.getShadowColor().toCanvasStyle(t),t.shadowBlur=p.getLength(),t.shadowOffsetX=d.x,t.shadowOffsetY=d.y}},draw:function(t,e,n){var r=this._updateVersion=this._project._updateVersion;if(this._visible&&0!==this._opacity){var i=e.matrices,o=e.viewMatrix,a=this._matrix,s=i[i.length-1].appended(a);if(s.isInvertible()){o=o?o.appended(s):s,i.push(s),e.updateMatrix&&(s._updateVersion=r,this._globalMatrix=s);var u,c,f,l=this._blendMode,h=this._opacity,p="normal"===l,d=at.nativeModes[l],m=p&&1===h||e.dontStart||e.clip||(d||p&&h<1)&&this._canComposite(),g=e.pixelRatio||1;if(!m){var v=this.getStrokeBounds(o);if(!v.width||!v.height)return;f=e.offset,c=e.offset=v.getTopLeft().floor(),u=t,t=ot.getContext(v.getSize().ceil().add(1).multiply(g)),1!==g&&t.scale(g,g)}t.save();var y=n?n.appended(a):this._canScaleStroke&&!this.getStrokeScaling(!0)&&o,x=!m&&e.clipItem,w=!y||x;if(m?(t.globalAlpha=h,d&&(t.globalCompositeOperation=l)):w&&t.translate(-c.x,-c.y),w&&(m?a:o).applyToContext(t),x&&e.clipItem.draw(t,e.extend({clip:!0})),y){t.setTransform(g,0,0,g,0,0);var b=e.offset;b&&t.translate(-b.x,-b.y)}this._draw(t,e,o,y),t.restore(),i.pop(),e.clip&&!e.dontFinish&&t.clip(),m||(at.process(l,t,u,h,c.subtract(f).multiply(g)),ot.release(t),e.offset=f)}}},_isUpdated:function(t){var e=this._parent;if(e instanceof q)return e._isUpdated(t);var n=this._updateVersion===t;return!n&&e&&e._visible&&e._isUpdated(t)&&(this._updateVersion=t,n=!0),n},_drawSelection:function(t,e,n,r,i){var o=this._selection,a=1&o,s=2&o||a&&this._selectBounds,u=4&o;if(this._drawSelected||(a=!1),(a||s||u)&&this._isUpdated(i)){var c,f=this.getSelectedColor(!0)||(c=this.getLayer())&&c.getSelectedColor(!0),l=e.appended(this.getGlobalMatrix(!0)),h=n/2;if(t.strokeStyle=t.fillStyle=f?f.toCanvasStyle(t):"#009dec",a&&this._drawSelected(t,l,r),u){var p=this.getPosition(!0),d=p.x,m=p.y;t.beginPath(),t.arc(d,m,h,0,2*Math.PI,!0),t.stroke();for(var g=[[0,-1],[1,0],[0,1],[-1,0]],v=h,y=n+1,x=0;x<4;x++){var w=g[x],b=w[0],_=w[1];t.moveTo(d+b*v,m+_*v),t.lineTo(d+b*y,m+_*y),t.stroke()}}if(s){var N=l._transformCorners(this.getInternalBounds());t.beginPath();for(var x=0;x<8;x++)t[x?"lineTo":"moveTo"](N[x],N[++x]);t.closePath(),t.stroke();for(var x=0;x<8;x++)t.fillRect(N[x]-h,N[++x]-h,n,n)}}},_canComposite:function(){return!1}},f.each(["down","drag","up","move"],function(t){this["removeOn"+f.capitalize(t)]=function(){var e={};return e[t]=!0,this.removeOn(e)}},{removeOn:function(t){for(var e in t)if(t[e]){var n="mouse"+e,r=this._project,i=r._removeSets=r._removeSets||{};i[n]=i[n]||{},i[n][this._id]=this}return this}})),A=S.extend({_class:"Group",_selectBounds:!1,_selectChildren:!0,_serializeFields:{children:[]},initialize:function(t){this._children=[],this._namedChildren={},this._initialize(t)||this.addChildren(Array.isArray(t)?t:arguments)},_changed:function t(e){t.base.call(this,e),1026&e&&(this._clipItem=s)},_getClipItem:function(){var t=this._clipItem;if(t===s){t=null;for(var e=this._children,n=0,r=e.length;n<r;n++)if(e[n]._clipMask){t=e[n];break}this._clipItem=t}return t},isClipped:function(){return!!this._getClipItem()},setClipped:function(t){var e=this.getFirstChild();e&&e.setClipMask(t)},_getBounds:function t(e,n){var r=this._getClipItem();return r?r._getCachedBounds(e&&e.appended(r._matrix),f.set({},n,{stroke:!1})):t.base.call(this,e,n)},_hitTestChildren:function t(e,n,r){var i=this._getClipItem();return(!i||i.contains(e))&&t.base.call(this,e,n,r,i)},_draw:function(t,e){var n=e.clip,r=!n&&this._getClipItem();e=e.extend({clipItem:r,clip:!1}),n?(t.beginPath(),e.dontStart=e.dontFinish=!0):r&&r.draw(t,e.extend({clip:!0}));for(var i=this._children,o=0,a=i.length;o<a;o++){var s=i[o];s!==r&&s.draw(t,e)}}}),O=A.extend({_class:"Layer",initialize:function(){A.apply(this,arguments)},_getOwner:function(){return this._parent||null!=this._index&&this._project},isInserted:function t(){return this._parent?t.base.call(this):null!=this._index},activate:function(){this._project._activeLayer=this},_hitTestSelf:function(){}}),C=S.extend({_class:"Shape",_applyMatrix:!1,_canApplyMatrix:!1,_canScaleStroke:!0,_serializeFields:{type:null,size:null,radius:null},initialize:function(t,e){this._initialize(t,e)},_equals:function(t){return this._type===t._type&&this._size.equals(t._size)&&f.equals(this._radius,t._radius)},copyContent:function(t){this.setType(t._type),this.setSize(t._size),this.setRadius(t._radius)},getType:function(){return this._type},setType:function(t){this._type=t},getShape:"#getType",setShape:"#setType",getSize:function(){var t=this._size;return new w(t.width,t.height,this,"setSize")},setSize:function(){var t=x.read(arguments);if(this._size){if(!this._size.equals(t)){var e=this._type,n=t.width,r=t.height;"rectangle"===e?this._radius.set(x.min(this._radius,t.divide(2))):"circle"===e?(n=r=(n+r)/2,this._radius=n/2):"ellipse"===e&&this._radius._set(n/2,r/2),this._size._set(n,r),this._changed(9)}}else this._size=t.clone()},getRadius:function(){var t=this._radius;return"circle"===this._type?t:new w(t.width,t.height,this,"setRadius")},setRadius:function(t){var e=this._type;if("circle"===e){if(t===this._radius)return;var n=2*t;this._radius=t,this._size._set(n,n)}else if(t=x.read(arguments),this._radius){if(this._radius.equals(t))return;if(this._radius.set(t),"rectangle"===e){var n=x.max(this._size,t.multiply(2));this._size.set(n)}else"ellipse"===e&&this._size._set(2*t.width,2*t.height)}else this._radius=t.clone();this._changed(9)},isEmpty:function(){return!1},toPath:function(t){var e=new(F[f.capitalize(this._type)])({center:new v,size:this._size,radius:this._radius,insert:!1});return e.copyAttributes(this),o.settings.applyMatrix&&e.setApplyMatrix(!0),(t===s||t)&&e.insertAbove(this),e},toShape:"#clone",_asPathItem:function(){return this.toPath(!1)},_draw:function(t,e,n,r){var i=this._style,o=i.hasFill(),a=i.hasStroke(),s=e.dontFinish||e.clip,u=!r;if(o||a||s){var c=this._type,f=this._radius,l="circle"===c;if(e.dontStart||t.beginPath(),u&&l)t.arc(0,0,f,0,2*Math.PI,!0);else{var h=l?f:f.width,p=l?f:f.height,d=this._size,m=d.width,g=d.height;if(u&&"rectangle"===c&&0===h&&0===p)t.rect(-m/2,-g/2,m,g);else{var v=m/2,y=g/2,x=.44771525016920644,w=h*x,b=p*x,_=[-v,-y+p,-v,-y+b,-v+w,-y,-v+h,-y,v-h,-y,v-w,-y,v,-y+b,v,-y+p,v,y-p,v,y-b,v-w,y,v-h,y,-v+h,y,-v+w,y,-v,y-b,-v,y-p];r&&r.transform(_,_,32),t.moveTo(_[0],_[1]),t.bezierCurveTo(_[2],_[3],_[4],_[5],_[6],_[7]),v!==h&&t.lineTo(_[8],_[9]),t.bezierCurveTo(_[10],_[11],_[12],_[13],_[14],_[15]),y!==p&&t.lineTo(_[16],_[17]),t.bezierCurveTo(_[18],_[19],_[20],_[21],_[22],_[23]),v!==h&&t.lineTo(_[24],_[25]),t.bezierCurveTo(_[26],_[27],_[28],_[29],_[30],_[31])}}t.closePath()}s||!o&&!a||(this._setStyles(t,e,n),o&&(t.fill(i.getFillRule()),t.shadowColor="rgba(0,0,0,0)"),a&&t.stroke())},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_getBounds:function(t,e){var n=new b(this._size).setCenter(0,0),r=this._style,i=e.stroke&&r.hasStroke()&&r.getStrokeWidth();return t&&(n=t._transformBounds(n)),i?n.expand(F._getStrokePadding(i,this._getStrokeMatrix(t,e))):n}},new function(){function t(t,e,n){var r=t._radius;if(!r.isZero())for(var i=t._size.divide(2),o=1;o<=4;o++){var a=new v(o>1&&o<4?-1:1,o>2?-1:1),s=a.multiply(i),u=s.subtract(a.multiply(r)),c=new b(n?s.add(a.multiply(n)):s,u);if(c.contains(e))return{point:u,quadrant:o}}}function e(t,e,n,r){var i=t.divide(e);return(!r||i.isInQuadrant(r))&&i.subtract(i.normalize()).multiply(e).divide(n).length<=1}return{_contains:function e(n){if("rectangle"===this._type){var r=t(this,n);return r?n.subtract(r.point).divide(this._radius).getLength()<=1:e.base.call(this,n)}return n.divide(this.size).getLength()<=.5},_hitTestSelf:function n(r,i,o,a){var s=!1,u=this._style,c=i.stroke&&u.hasStroke(),f=i.fill&&u.hasFill();if(c||f){var l=this._type,h=this._radius,p=c?u.getStrokeWidth()/2:0,d=i._tolerancePadding.add(F._getStrokePadding(p,!u.getStrokeScaling()&&a));if("rectangle"===l){var m=d.multiply(2),g=t(this,r,m);if(g)s=e(r.subtract(g.point),h,d,g.quadrant);else{var v=new b(this._size).setCenter(0,0),y=v.expand(m),x=v.expand(m.negate());s=y._containsPoint(r)&&!x._containsPoint(r)}}else s=e(r,h,d)}return s?new k(c?"stroke":"fill",this):n.base.apply(this,arguments)}}},{statics:new function(){function t(t,e,n,r,i){var o=new C(f.getNamed(i),e);return o._type=t,o._size=n,o._radius=r,o}return{Circle:function(){var e=v.readNamed(arguments,"center"),n=f.readNamed(arguments,"radius");return t("circle",e,new x(2*n),n,arguments)},Rectangle:function(){var e=b.readNamed(arguments,"rectangle"),n=x.min(x.readNamed(arguments,"radius"),e.getSize(!0).divide(2));return t("rectangle",e.getCenter(!0),e.getSize(!0),n,arguments)},Ellipse:function(){var e=C._readEllipse(arguments),n=e.radius;return t("ellipse",e.center,n.multiply(2),n,arguments)},_readEllipse:function(t){var e,n;if(f.hasNamed(t,"radius"))e=v.readNamed(t,"center"),n=x.readNamed(t,"radius");else{var r=b.readNamed(t,"rectangle");e=r.getCenter(!0),n=r.getSize(!0).divide(2)}return{center:e,radius:n}}}}}),T=S.extend({_class:"Raster",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!1,handle:!1},_serializeFields:{crossOrigin:null,source:null},_prioritize:["crossOrigin"],initialize:function(t,e){if(!this._initialize(t,e!==s&&v.read(arguments,1))){var n="string"==typeof t?c.getElementById(t):t;n?this.setImage(n):this.setSource(t)}this._size||(this._size=new x,this._loaded=!1)},_equals:function(t){return this.getSource()===t.getSource()},copyContent:function(t){var e=t._image,n=t._canvas;if(e)this._setImage(e);else if(n){var r=ot.getCanvas(t._size);r.getContext("2d").drawImage(n,0,0),this._setImage(r)}this._crossOrigin=t._crossOrigin},getSize:function(){var t=this._size;return new w(t?t.width:0,t?t.height:0,this,"setSize")},setSize:function(){var t=x.read(arguments);if(!t.equals(this._size))if(t.width>0&&t.height>0){var e=this.getElement();this._setImage(ot.getCanvas(t)),e&&this.getContext(!0).drawImage(e,0,0,t.width,t.height)}else this._canvas&&ot.release(this._canvas),this._size=t.clone()},getWidth:function(){return this._size?this._size.width:0},setWidth:function(t){this.setSize(t,this.getHeight())},getHeight:function(){return this._size?this._size.height:0},setHeight:function(t){this.setSize(this.getWidth(),t)},getLoaded:function(){return this._loaded},isEmpty:function(){var t=this._size;return!t||0===t.width&&0===t.height},getResolution:function(){var t=this._matrix,e=new v(0,0).transform(t),n=new v(1,0).transform(t).subtract(e),r=new v(0,1).transform(t).subtract(e);return new x(72/n.getLength(),72/r.getLength())},getPpi:"#getResolution",getImage:function(){return this._image},setImage:function(t){function e(t){var e=n.getView(),r=t&&t.type||"load";e&&n.responds(r)&&(o=e._scope,n.emit(r,new K(t)))}var n=this;this._setImage(t),this._loaded?setTimeout(e,0):t&&J.add(t,{load:function(r){n._setImage(t),e(r)},error:e})},_setImage:function(t){this._canvas&&ot.release(this._canvas),t&&t.getContext?(this._image=null,this._canvas=t,this._loaded=!0):(this._image=t,this._canvas=null,this._loaded=!!(t&&t.src&&t.complete)),this._size=new x(t?t.naturalWidth||t.width:0,t?t.naturalHeight||t.height:0),this._context=null,this._changed(521)},getCanvas:function(){if(!this._canvas){var t=ot.getContext(this._size);try{this._image&&t.drawImage(this._image,0,0),this._canvas=t.canvas}catch(e){ot.release(t)}}return this._canvas},setCanvas:"#setImage",getContext:function(t){return this._context||(this._context=this.getCanvas().getContext("2d")),t&&(this._image=null,this._changed(513)),this._context},setContext:function(t){this._context=t},getSource:function(){var t=this._image;return t&&t.src||this.toDataURL()},setSource:function(t){var e=new a.Image,n=this._crossOrigin;n&&(e.crossOrigin=n),e.src=t,this.setImage(e)},getCrossOrigin:function(){var t=this._image;return t&&t.crossOrigin||this._crossOrigin||""},setCrossOrigin:function(t){this._crossOrigin=t;var e=this._image;e&&(e.crossOrigin=t)},getElement:function(){return this._canvas||this._loaded&&this._image}},{beans:!1,getSubCanvas:function(){var t=b.read(arguments),e=ot.getContext(t.getSize());return e.drawImage(this.getCanvas(),t.x,t.y,t.width,t.height,0,0,t.width,t.height),e.canvas},getSubRaster:function(){var t=b.read(arguments),e=new T(S.NO_INSERT);return e._setImage(this.getSubCanvas(t)),e.translate(t.getCenter().subtract(this.getSize().divide(2))),e._matrix.prepend(this._matrix),e.insertAbove(this),e},toDataURL:function(){var t=this._image,e=t&&t.src;if(/^data:/.test(e))return e;var n=this.getCanvas();return n?n.toDataURL.apply(n,arguments):null},drawImage:function(t){var e=v.read(arguments,1);this.getContext(!0).drawImage(t,e.x,e.y)},getAverageColor:function(t){var e,n;if(t?t instanceof L?(n=t,e=t.getBounds()):"object"==typeof t&&("width"in t?e=new b(t):"x"in t&&(e=new b(t.x-.5,t.y-.5,1,1))):e=this.getBounds(),!e)return null;var r=Math.min(e.width,32),i=Math.min(e.height,32),o=T._sampleContext;o?o.clearRect(0,0,33,33):o=T._sampleContext=ot.getContext(new x(32)),o.save();var a=(new N).scale(r/e.width,i/e.height).translate(-e.x,-e.y);a.applyToContext(o),n&&n.draw(o,new f({clip:!0,matrices:[a]})),this._matrix.applyToContext(o);var s=this.getElement(),u=this._size;s&&o.drawImage(s,-u.width/2,-u.height/2),o.restore();for(var c=o.getImageData(.5,.5,Math.ceil(r),Math.ceil(i)).data,l=[0,0,0],h=0,p=0,d=c.length;p<d;p+=4){var m=c[p+3];h+=m,m/=255,l[0]+=c[p]*m,l[1]+=c[p+1]*m,l[2]+=c[p+2]*m}for(var p=0;p<3;p++)l[p]/=h;return h?$.read(l):null},getPixel:function(){var t=v.read(arguments),e=this.getContext().getImageData(t.x,t.y,1,1).data;return new $("rgb",[e[0]/255,e[1]/255,e[2]/255],e[3]/255)},setPixel:function(){var t=v.read(arguments),e=$.read(arguments),n=e._convert("rgb"),r=e._alpha,i=this.getContext(!0),o=i.createImageData(1,1),a=o.data;a[0]=255*n[0],a[1]=255*n[1],a[2]=255*n[2],a[3]=null!=r?255*r:255,i.putImageData(o,t.x,t.y)},createImageData:function(){var t=x.read(arguments);return this.getContext().createImageData(t.width,t.height)},getImageData:function(){var t=b.read(arguments);return t.isEmpty()&&(t=new b(this._size)),this.getContext().getImageData(t.x,t.y,t.width,t.height)},setImageData:function(t){var e=v.read(arguments,1);this.getContext(!0).putImageData(t,e.x,e.y)},_getBounds:function(t,e){var n=new b(this._size).setCenter(0,0);return t?t._transformBounds(n):n},_hitTestSelf:function(t){if(this._contains(t)){var e=this;return new k("pixel",e,{offset:t.add(e._size.divide(2)).round(),color:{get:function(){return e.getPixel(this.offset)}}})}},_draw:function(t){var e=this.getElement();e&&(t.globalAlpha=this._opacity,t.drawImage(e,-this._size.width/2,-this._size.height/2))},_canComposite:function(){return!0}}),P=S.extend({_class:"SymbolItem",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!0},_serializeFields:{symbol:null},initialize:function(t,e){this._initialize(t,e!==s&&v.read(arguments,1))||this.setDefinition(t instanceof z?t:new z(t))},_equals:function(t){return this._definition===t._definition},copyContent:function(t){this.setDefinition(t._definition)},getDefinition:function(){return this._definition},setDefinition:function(t){this._definition=t,this._changed(9)},getSymbol:"#getDefinition",setSymbol:"#setDefinition",isEmpty:function(){return this._definition._item.isEmpty()},_getBounds:function(t,e){var n=this._definition._item;return n._getCachedBounds(n._matrix.prepended(t),e)},_hitTestSelf:function(t,e,n){var r=this._definition._item._hitTest(t,e,n);return r&&(r.item=this),r},_draw:function(t,e){this._definition._item.draw(t,e)}}),z=f.extend({_class:"SymbolDefinition",initialize:function(t,e){this._id=g.get(),this.project=o.project,t&&this.setItem(t,e)},_serialize:function(t,e){return e.add(this,function(){return f.serialize([this._class,this._item],t,!1,e)})},_changed:function(t){8&t&&S._clearBoundsCache(this),1&t&&this.project._changed(t)},getItem:function(){return this._item},setItem:function(t,e){t._symbol&&(t=t.clone()),this._item&&(this._item._symbol=null),this._item=t,t.remove(),t.setSelected(!1),e||t.setPosition(new v),t._symbol=this,this._changed(9)},getDefinition:"#getItem",setDefinition:"#setItem",place:function(t){return new P(this,t)},clone:function(){return new z(this._item.clone(!1))},equals:function(t){return t===this||t&&this._item.equals(t._item)||!1}}),k=f.extend({_class:"HitResult",initialize:function(t,e,n){this.type=t,this.item=e,n&&this.inject(n)},statics:{getOptions:function(t){var e=t&&f.read(t);return f.set({type:null,tolerance:o.settings.hitTolerance,fill:!e,stroke:!e,segments:!e,handles:!1,ends:!1,position:!1,center:!1,bounds:!1,guides:!1,selected:!1},e)}}}),I=f.extend({_class:"Segment",beans:!0,_selection:0,initialize:function(t,e,n,r,i,o){var a,u,c,f,l=arguments.length;l>0&&(null==t||"object"==typeof t?1===l&&t&&"point"in t?(a=t.point,u=t.handleIn,c=t.handleOut,f=t.selection):(a=t,u=e,c=n,f=r):(a=[t,e],u=n!==s?[n,r]:null,c=i!==s?[i,o]:null)),new B(a,this,"_point"),new B(u,this,"_handleIn"),new B(c,this,"_handleOut"),f&&this.setSelection(f)},_serialize:function(t,e){var n=this._point,r=this._selection,i=r||this.hasHandles()?[n,this._handleIn,this._handleOut]:n;return r&&i.push(r),f.serialize(i,t,!0,e)},_changed:function(t){var e=this._path;if(e){var n,r=e._curves,i=this._index;r&&(t&&t!==this._point&&t!==this._handleIn||!(n=i>0?r[i-1]:e._closed?r[r.length-1]:null)||n._changed(),t&&t!==this._point&&t!==this._handleOut||!(n=r[i])||n._changed()),e._changed(25)}},getPoint:function(){return this._point},setPoint:function(){this._point.set(v.read(arguments))},getHandleIn:function(){return this._handleIn},setHandleIn:function(){this._handleIn.set(v.read(arguments))},getHandleOut:function(){return this._handleOut},setHandleOut:function(){this._handleOut.set(v.read(arguments))},hasHandles:function(){return!this._handleIn.isZero()||!this._handleOut.isZero()},isSmooth:function(){var t=this._handleIn,e=this._handleOut;return!t.isZero()&&!e.isZero()&&t.isCollinear(e)},clearHandles:function(){this._handleIn._set(0,0),this._handleOut._set(0,0)},getSelection:function(){return this._selection},setSelection:function(t){var e=this._selection,n=this._path;this._selection=t=t||0,n&&t!==e&&(n._updateSelection(this,e,t),n._changed(129))},changeSelection:function(t,e){var n=this._selection;this.setSelection(e?n|t:n&~t)},isSelected:function(){return!!(7&this._selection)},setSelected:function(t){this.changeSelection(7,t)},getIndex:function(){return this._index!==s?this._index:null},getPath:function(){return this._path||null},getCurve:function(){var t=this._path,e=this._index;return t?(e>0&&!t._closed&&e===t._segments.length-1&&e--,t.getCurves()[e]||null):null},getLocation:function(){var t=this.getCurve();return t?new R(t,this===t._segment1?0:1):null},getNext:function(){var t=this._path&&this._path._segments;return t&&(t[this._index+1]||this._path._closed&&t[0])||null},smooth:function(t,e,n){var r=t||{},i=r.type,o=r.factor,a=this.getPrevious(),u=this.getNext(),c=(a||this)._point,f=this._point,l=(u||this)._point,h=c.getDistance(f),p=f.getDistance(l);if(i&&"catmull-rom"!==i){if("geometric"!==i)throw new Error("Smoothing method '"+i+"' not supported.");if(a&&u){var d=c.subtract(l),m=o===s?.4:o,g=m*h/(h+p);e||this.setHandleIn(d.multiply(g)),n||this.setHandleOut(d.multiply(g-m))}}else{var y=o===s?.5:o,x=Math.pow(h,y),w=x*x,b=Math.pow(p,y),_=b*b;if(!e&&a){var N=2*_+3*b*x+w,E=3*b*(b+x);this.setHandleIn(0!==E?new v((_*c._x+N*f._x-w*l._x)/E-f._x,(_*c._y+N*f._y-w*l._y)/E-f._y):new v)}if(!n&&u){var N=2*w+3*x*b+_,E=3*x*(x+b);this.setHandleOut(0!==E?new v((w*l._x+N*f._x-_*c._x)/E-f._x,(w*l._y+N*f._y-_*c._y)/E-f._y):new v)}}},getPrevious:function(){var t=this._path&&this._path._segments;return t&&(t[this._index-1]||this._path._closed&&t[t.length-1])||null},isFirst:function(){return!this._index},isLast:function(){var t=this._path;return t&&this._index===t._segments.length-1||!1},reverse:function(){var t=this._handleIn,e=this._handleOut,n=t.clone();t.set(e),e.set(n)},reversed:function(){return new I(this._point,this._handleOut,this._handleIn)},remove:function(){return!!this._path&&!!this._path.removeSegment(this._index)},clone:function(){return new I(this._point,this._handleIn,this._handleOut)},equals:function(t){return t===this||t&&this._class===t._class&&this._point.equals(t._point)&&this._handleIn.equals(t._handleIn)&&this._handleOut.equals(t._handleOut)||!1},toString:function(){var t=["point: "+this._point];return this._handleIn.isZero()||t.push("handleIn: "+this._handleIn),this._handleOut.isZero()||t.push("handleOut: "+this._handleOut),"{ "+t.join(", ")+" }"},transform:function(t){this._transformCoordinates(t,new Array(6),!0),this._changed()},interpolate:function(t,e,n){var r=1-n,i=n,o=t._point,a=e._point,s=t._handleIn,u=e._handleIn,c=e._handleOut,f=t._handleOut;this._point._set(r*o._x+i*a._x,r*o._y+i*a._y,!0),this._handleIn._set(r*s._x+i*u._x,r*s._y+i*u._y,!0),this._handleOut._set(r*f._x+i*c._x,r*f._y+i*c._y,!0),this._changed()},_transformCoordinates:function(t,e,n){var r=this._point,i=n&&this._handleIn.isZero()?null:this._handleIn,o=n&&this._handleOut.isZero()?null:this._handleOut,a=r._x,s=r._y,u=2;return e[0]=a,e[1]=s,i&&(e[u++]=i._x+a,e[u++]=i._y+s),o&&(e[u++]=o._x+a,e[u++]=o._y+s),t&&(t._transformCoordinates(e,e,u/2),a=e[0],s=e[1],n?(r._x=a,r._y=s,u=2,i&&(i._x=e[u++]-a,i._y=e[u++]-s),o&&(o._x=e[u++]-a,o._y=e[u++]-s)):(i||(e[u++]=a,e[u++]=s),o||(e[u++]=a,e[u++]=s))),e}}),B=v.extend({initialize:function(t,e,n){var r,i,o;if(t)if((r=t[0])!==s)i=t[1];else{var a=t;(r=a.x)===s&&(a=v.read(arguments),r=a.x),i=a.y,o=a.selected}else r=i=0;this._x=r,this._y=i,this._owner=e,e[n]=this,o&&this.setSelected(!0)},_set:function(t,e){return this._x=t,this._y=e,this._owner._changed(this),this},getX:function(){return this._x},setX:function(t){this._x=t,this._owner._changed(this)},getY:function(){return this._y},setY:function(t){this._y=t,this._owner._changed(this)},isZero:function(){var t=m.isZero;return t(this._x)&&t(this._y)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(t){this._owner.changeSelection(this._getSelection(),t)},_getSelection:function(){var t=this._owner;return this===t._point?1:this===t._handleIn?2:this===t._handleOut?4:0}}),j=f.extend({_class:"Curve",beans:!0,initialize:function(t,e,n,r,i,o,a,s){var u,c,f,l,h,p,d=arguments.length;3===d?(this._path=t,u=e,c=n):d?1===d?"segment1"in t?(u=new I(t.segment1),c=new I(t.segment2)):"point1"in t?(f=t.point1,h=t.handle1,p=t.handle2,l=t.point2):Array.isArray(t)&&(f=[t[0],t[1]],l=[t[6],t[7]],h=[t[2]-t[0],t[3]-t[1]],p=[t[4]-t[6],t[5]-t[7]]):2===d?(u=new I(t),c=new I(e)):4===d?(f=t,h=e,p=n,l=r):8===d&&(f=[t,e],l=[a,s],h=[n-t,r-e],p=[i-a,o-s]):(u=new I,c=new I),this._segment1=u||new I(f,null,h),this._segment2=c||new I(l,p,null)},_serialize:function(t,e){return f.serialize(this.hasHandles()?[this.getPoint1(),this.getHandle1(),this.getHandle2(),this.getPoint2()]:[this.getPoint1(),this.getPoint2()],t,!0,e)},_changed:function(){this._length=this._bounds=s},clone:function(){return new j(this._segment1,this._segment2)},toString:function(){var t=["point1: "+this._segment1._point];return this._segment1._handleOut.isZero()||t.push("handle1: "+this._segment1._handleOut),this._segment2._handleIn.isZero()||t.push("handle2: "+this._segment2._handleIn),t.push("point2: "+this._segment2._point),"{ "+t.join(", ")+" }"},classify:function(){return j.classify(this.getValues())},remove:function(){var t=!1;if(this._path){var e=this._segment2,n=e._handleOut;t=e.remove(),t&&this._segment1._handleOut.set(n)}return t},getPoint1:function(){return this._segment1._point},setPoint1:function(){this._segment1._point.set(v.read(arguments))},getPoint2:function(){return this._segment2._point},setPoint2:function(){this._segment2._point.set(v.read(arguments))},getHandle1:function(){return this._segment1._handleOut},setHandle1:function(){this._segment1._handleOut.set(v.read(arguments))},getHandle2:function(){return this._segment2._handleIn},setHandle2:function(){this._segment2._handleIn.set(v.read(arguments))},getSegment1:function(){return this._segment1},getSegment2:function(){return this._segment2},getPath:function(){return this._path},getIndex:function(){return this._segment1._index},getNext:function(){var t=this._path&&this._path._curves;return t&&(t[this._segment1._index+1]||this._path._closed&&t[0])||null},getPrevious:function(){var t=this._path&&this._path._curves;return t&&(t[this._segment1._index-1]||this._path._closed&&t[t.length-1])||null},isFirst:function(){return!this._segment1._index},isLast:function(){var t=this._path;return t&&this._segment1._index===t._curves.length-1||!1},isSelected:function(){return this.getPoint1().isSelected()&&this.getHandle2().isSelected()&&this.getHandle2().isSelected()&&this.getPoint2().isSelected()},setSelected:function(t){this.getPoint1().setSelected(t),this.getHandle1().setSelected(t),this.getHandle2().setSelected(t),this.getPoint2().setSelected(t)},getValues:function(t){return j.getValues(this._segment1,this._segment2,t)},getPoints:function(){for(var t=this.getValues(),e=[],n=0;n<8;n+=2)e.push(new v(t[n],t[n+1]));return e}},{getLength:function(){return null==this._length&&(this._length=j.getLength(this.getValues(),0,1)),this._length},getArea:function(){return j.getArea(this.getValues())},getLine:function(){return new E(this._segment1._point,this._segment2._point)},getPart:function(t,e){return new j(j.getPart(this.getValues(),t,e))},getPartLength:function(t,e){return j.getLength(this.getValues(),t,e)},divideAt:function(t){return this.divideAtTime(t&&t.curve===this?t.time:this.getTimeAt(t))},divideAtTime:function(t,e){var n=null;if(t>=1e-8&&t<=1-1e-8){var r=j.subdivide(this.getValues(),t),i=r[0],o=r[1],a=e||this.hasHandles(),s=this._segment1,u=this._segment2,c=this._path;a&&(s._handleOut._set(i[2]-i[0],i[3]-i[1]),u._handleIn._set(o[4]-o[6],o[5]-o[7]));var f=i[6],l=i[7],h=new I(new v(f,l),a&&new v(i[4]-f,i[5]-l),a&&new v(o[2]-f,o[3]-l));c?(c.insert(s._index+1,h),n=this.getNext()):(this._segment2=h,this._changed(),n=new j(h,u))}return n},splitAt:function(t){var e=this._path;return e?e.splitAt(t):null},splitAtTime:function(t){return this.splitAt(this.getLocationAtTime(t))},divide:function(t,e){return this.divideAtTime(t===s?.5:e?t:this.getTimeAt(t))},split:function(t,e){return this.splitAtTime(t===s?.5:e?t:this.getTimeAt(t))},reversed:function(){return new j(this._segment2.reversed(),this._segment1.reversed())},clearHandles:function(){this._segment1._handleOut._set(0,0),this._segment2._handleIn._set(0,0)},statics:{getValues:function(t,e,n,r){var i=t._point,o=t._handleOut,a=e._handleIn,s=e._point,u=i.x,c=i.y,f=s.x,l=s.y,h=r?[u,c,u,c,f,l,f,l]:[u,c,u+o._x,c+o._y,f+a._x,l+a._y,f,l];return n&&n._transformCoordinates(h,h,4),h},subdivide:function(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],u=t[5],c=t[6],f=t[7];e===s&&(e=.5);var l=1-e,h=l*n+e*i,p=l*r+e*o,d=l*i+e*a,m=l*o+e*u,g=l*a+e*c,v=l*u+e*f,y=l*h+e*d,x=l*p+e*m,w=l*d+e*g,b=l*m+e*v,_=l*y+e*w,N=l*x+e*b;return[[n,r,h,p,y,x,_,N],[_,N,w,b,g,v,c,f]]},getMonoCurves:function(t,e){var n=[],r=e?0:1,i=t[r+0],o=t[r+2],a=t[r+4],s=t[r+6];if(i>=o==o>=a&&o>=a==a>=s||j.isStraight(t))n.push(t);else{var u=3*(o-a)-i+s,c=2*(i+a)-4*o,f=o-i,l=[],h=m.solveQuadratic(u,c,f,l,1e-8,1-1e-8);if(h){l.sort();var p=l[0],d=j.subdivide(t,p);n.push(d[0]),h>1&&(p=(l[1]-p)/(1-p),d=j.subdivide(d[1],p),n.push(d[0])),n.push(d[1])}else n.push(t)}return n},solveCubic:function(t,e,n,r,i,o){var a=t[e],s=t[e+2],u=t[e+4],c=t[e+6],f=0;if(!(a<n&&c<n&&s<n&&u<n||a>n&&c>n&&s>n&&u>n)){var l=3*(s-a),h=3*(u-s)-l,p=c-a-l-h;f=m.solveCubic(p,h,l,a-n,r,i,o)}return f},getTimeOf:function(t,e){var n=new v(t[0],t[1]),r=new v(t[6],t[7]);if(null===(e.isClose(n,1e-12)?0:e.isClose(r,1e-12)?1:null))for(var i=[e.x,e.y],o=[],a=0;a<2;a++)for(var s=j.solveCubic(t,a,i[a],o,0,1),u=0;u<s;u++){var c=o[u];if(e.isClose(j.getPoint(t,c),1e-7))return c}return e.isClose(n,1e-7)?0:e.isClose(r,1e-7)?1:null},getNearestTime:function(t,e){function n(n){if(n>=0&&n<=1){var r=e.getDistance(j.getPoint(t,n),!0);if(r<l)return l=r,h=n,!0}}if(j.isStraight(t)){var r=t[0],i=t[1],o=t[6],a=t[7],s=o-r,u=a-i,c=s*s+u*u;if(0===c)return 0;var f=((e.x-r)*s+(e.y-i)*u)/c;return f<1e-12?0:f>.999999999999?1:j.getTimeOf(t,new v(r+f*s,i+f*u))}for(var l=1/0,h=0,p=0;p<=100;p++)n(p/100);for(var d=.005;d>1e-8;)n(h-d)||n(h+d)||(d/=2);return h},getPart:function(t,e,n){var r=e>n;if(r){var i=e;e=n,n=i}return e>0&&(t=j.subdivide(t,e)[1]),n<1&&(t=j.subdivide(t,(n-e)/(1-e))[0]),r?[t[6],t[7],t[4],t[5],t[2],t[3],t[0],t[1]]:t},isFlatEnough:function(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],c=t[7],f=3*i-2*n-u,l=3*o-2*r-c,h=3*a-2*u-n,p=3*s-2*c-r;return Math.max(f*f,h*h)+Math.max(l*l,p*p)<=16*e*e},getArea:function(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],u=t[7];return 3*((u-n)*(r+o)-(s-e)*(i+a)+i*(e-o)-r*(n-a)+u*(o+e/3)-s*(a+n/3))/20},getBounds:function(t){for(var e=t.slice(0,2),n=e.slice(),r=[0,0],i=0;i<2;i++)j._addBounds(t[i],t[i+2],t[i+4],t[i+6],i,0,e,n,r);return new b(e[0],e[1],n[0]-e[0],n[1]-e[1])},_addBounds:function(t,e,n,r,i,o,a,s,u){function c(t,e){var n=t-e,r=t+e;n<a[i]&&(a[i]=n),r>s[i]&&(s[i]=r)}o/=2;var f=a[i]-o,l=s[i]+o;if(t<f||e<f||n<f||r<f||t>l||e>l||n>l||r>l)if(e<t!=e<r&&n<t!=n<r)c(t,o),c(r,o);else{var h=3*(e-n)-t+r,p=2*(t+n)-4*e,d=e-t,g=m.solveQuadratic(h,p,d,u);c(r,0);for(var v=0;v<g;v++){var y=u[v],x=1-y;1e-8<=y&&y<=1-1e-8&&c(x*x*x*t+3*x*x*y*e+3*x*y*y*n+y*y*y*r,o)}}}}},f.each(["getBounds","getStrokeBounds","getHandleBounds"],function(t){this[t]=function(){this._bounds||(this._bounds={});var e=this._bounds[t];return e||(e=this._bounds[t]=F[t]([this._segment1,this._segment2],!1,this._path)),e.clone()}},{}),f.each({isStraight:function(t,e,n,r){if(e.isZero()&&n.isZero())return!0;var i=r.subtract(t);if(i.isZero())return!1;if(i.isCollinear(e)&&i.isCollinear(n)){var o=new E(t,r);if(o.getDistance(t.add(e))<1e-7&&o.getDistance(r.add(n))<1e-7){var a=i.dot(i),s=i.dot(e)/a,u=i.dot(n)/a;return s>=0&&s<=1&&u<=0&&u>=-1}}return!1},isLinear:function(t,e,n,r){var i=r.subtract(t).divide(3);return e.equals(i)&&n.negate().equals(i)}},function(t,e){this[e]=function(e){var n=this._segment1,r=this._segment2;return t(n._point,n._handleOut,r._handleIn,r._point,e)},this.statics[e]=function(e,n){var r=e[0],i=e[1],o=e[6],a=e[7];return t(new v(r,i),new v(e[2]-r,e[3]-i),new v(e[4]-o,e[5]-a),new v(o,a),n)}},{statics:{},hasHandles:function(){return!this._segment1._handleOut.isZero()||!this._segment2._handleIn.isZero()},hasLength:function(t){return(!this.getPoint1().equals(this.getPoint2())||this.hasHandles())&&this.getLength()>(t||0)},isCollinear:function(t){return t&&this.isStraight()&&t.isStraight()&&this.getLine().isCollinear(t.getLine())},isHorizontal:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).y)<1e-8},isVertical:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).x)<1e-8}}),{beans:!1,getLocationAt:function(t,e){return this.getLocationAtTime(e?t:this.getTimeAt(t))},getLocationAtTime:function(t){return null!=t&&t>=0&&t<=1?new R(this,t):null},getTimeAt:function(t,e){return j.getTimeAt(this.getValues(),t,e)},getParameterAt:"#getTimeAt",getOffsetAtTime:function(t){return this.getPartLength(0,t)},getLocationOf:function(){return this.getLocationAtTime(this.getTimeOf(v.read(arguments)))},getOffsetOf:function(){var t=this.getLocationOf.apply(this,arguments);return t?t.getOffset():null},getTimeOf:function(){return j.getTimeOf(this.getValues(),v.read(arguments))},getParameterOf:"#getTimeOf",getNearestLocation:function(){var t=v.read(arguments),e=this.getValues(),n=j.getNearestTime(e,t),r=j.getPoint(e,n);return new R(this,n,r,null,t.getDistance(r))},getNearestPoint:function(){var t=this.getNearestLocation.apply(this,arguments);return t?t.getPoint():t}},new function(){var t=["getPoint","getTangent","getNormal","getWeightedTangent","getWeightedNormal","getCurvature"];return f.each(t,function(t){this[t+"At"]=function(e,n){var r=this.getValues();return j[t](r,n?e:j.getTimeAt(r,e))},this[t+"AtTime"]=function(e){return j[t](this.getValues(),e)}},{statics:{_evaluateMethods:t}})},new function(){function t(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],u=t[7],c=9*(r-o)+3*(s-e),f=6*(e+o)-12*r,l=3*(r-e),h=9*(i-a)+3*(u-n),p=6*(n+a)-12*i,d=3*(i-n);return function(t){var e=(c*t+f)*t+l,n=(h*t+p)*t+d;return Math.sqrt(e*e+n*n)}}function e(t,e){return Math.max(2,Math.min(16,Math.ceil(32*Math.abs(e-t))))}function n(t,e,n,r){if(null==e||e<0||e>1)return null;var i=t[0],o=t[1],a=t[2],s=t[3],u=t[4],c=t[5],f=t[6],l=t[7],h=m.isZero;h(a-i)&&h(s-o)&&(a=i,s=o),h(u-f)&&h(c-l)&&(u=f,c=l);var p,d,g=3*(a-i),y=3*(u-a)-g,x=f-i-g-y,w=3*(s-o),b=3*(c-s)-w,_=l-o-w-b;if(0===n)p=0===e?i:1===e?f:((x*e+y)*e+g)*e+i,d=0===e?o:1===e?l:((_*e+b)*e+w)*e+o;else{if(e<1e-8?(p=g,d=w):e>1-1e-8?(p=3*(f-u),d=3*(l-c)):(p=(3*x*e+2*y)*e+g,d=(3*_*e+2*b)*e+w),r){0===p&&0===d&&(e<1e-8||e>1-1e-8)&&(p=u-a,d=c-s);var N=Math.sqrt(p*p+d*d);N&&(p/=N,d/=N)}if(3===n){var u=6*x*e+2*y,c=6*_*e+2*b,E=Math.pow(p*p+d*d,1.5);p=0!==E?(p*c-d*u)/E:0,d=0}}return 2===n?new v(d,-p):new v(p,d)}return{statics:{classify:function(t){function e(t,e,n){var r=e!==s,i=r&&e>0&&e<1,o=r&&n>0&&n<1;return!r||(i||o)&&("loop"!==t||i&&o)||(t="arch",i=o=!1),{type:t,roots:i||o?i&&o?e<n?[e,n]:[n,e]:[i?e:n]:null}}var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],u=t[5],c=t[6],f=t[7],l=n*(f-u)+r*(a-c)+c*u-f*a,h=i*(r-f)+o*(c-n)+n*f-r*c,p=a*(o-r)+u*(n-i)+i*r-o*n,d=3*p,g=d-h,v=g-h+l,y=Math.sqrt(v*v+g*g+d*d),x=0!==y?1/y:0,w=m.isZero;if(v*=x,g*=x,d*=x,w(v))return w(g)?e(w(d)?"line":"quadratic"):e("serpentine",d/(3*g));var b=3*g*g-4*v*d;if(w(b))return e("cusp",g/(2*v));var _=b>0?Math.sqrt(b/3):Math.sqrt(-b),N=2*v;return e(b>0?"serpentine":"loop",(g+_)/N,(g-_)/N)},getLength:function(n,r,i,o){if(r===s&&(r=0),i===s&&(i=1),j.isStraight(n)){var a=n;i<1&&(a=j.subdivide(a,i)[0],r/=i),r>0&&(a=j.subdivide(a,r)[1]);var u=a[6]-a[0],c=a[7]-a[1];return Math.sqrt(u*u+c*c)}return m.integrate(o||t(n),r,i,e(r,i))},getTimeAt:function(n,r,i){function o(t){return g+=m.integrate(l,i,t,e(i,t)),i=t,g-r}if(i===s&&(i=r<0?1:0),0===r)return i;var a=Math.abs,u=r>0,c=u?i:0,f=u?1:i,l=t(n),h=j.getLength(n,c,f,l),p=a(r)-h;if(a(p)<1e-12)return u?f:c;if(p>1e-12)return null;var d=r/h,g=0;return m.findRoot(o,l,i+d,c,f,32,1e-12)},getPoint:function(t,e){return n(t,e,0,!1)},getTangent:function(t,e){return n(t,e,1,!0)},getWeightedTangent:function(t,e){return n(t,e,1,!1)},getNormal:function(t,e){return n(t,e,2,!0)},getWeightedNormal:function(t,e){return n(t,e,2,!1)},getCurvature:function(t,e){return n(t,e,3,!1).x},getPeaks:function(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],u=t[7],c=3*r-e-3*o+s,f=3*e-6*r+3*o,l=-3*e+3*r,h=3*i-n-3*a+u,p=3*n-6*i+3*a,d=-3*n+3*i,g=[];return m.solveCubic(9*(c*c+h*h),9*(c*f+p*h),2*(f*f+p*p)+3*(l*c+d*h),l*f+p*d,g,1e-8,1-1e-8),g.sort()}}}},new function(){function t(t,e,n,r,i,o,a){var s=!a&&n.getPrevious()===i,u=!a&&n!==i&&n.getNext()===i;if(null!==r&&r>=(s?1e-8:0)&&r<=(u?1-1e-8:1)&&null!==o&&o>=(u?1e-8:0)&&o<=(s?1-1e-8:1)){var c=new R(n,r,null,a),f=new R(i,o,null,a);c._intersection=f,f._intersection=c,e&&!e(c)||R.insert(t,c,!0)}}function e(i,o,a,s,u,c,f,l,h,p,d,m,g){if(++h>=4096||++l>=40)return h;var v,y,x=o[0],w=o[1],b=o[6],_=o[7],N=E.getSignedDistance,M=N(x,w,b,_,o[2],o[3]),S=N(x,w,b,_,o[4],o[5]),A=M*S>0?.75:4/9,O=A*Math.min(0,M,S),C=A*Math.max(0,M,S),T=N(x,w,b,_,i[0],i[1]),P=N(x,w,b,_,i[2],i[3]),z=N(x,w,b,_,i[4],i[5]),k=N(x,w,b,_,i[6],i[7]),I=n(T,P,z,k),B=I[0],R=I[1];if(0===M&&0===S&&0===T&&0===P&&0===z&&0===k||null==(v=r(B,R,O,C))||null==(y=r(B.reverse(),R.reverse(),O,C)))return h;var L=p+(d-p)*v,F=p+(d-p)*y;if(Math.max(g-m,F-L)<1e-9){var q=(L+F)/2,U=(m+g)/2;t(u,c,f?s:a,f?U:q,f?a:s,f?q:U)}else if(i=j.getPart(i,v,y),y-v>.8)if(F-L>g-m){var D=j.subdivide(i,.5),q=(L+F)/2;h=e(o,D[0],s,a,u,c,!f,l,h,m,g,L,q),h=e(o,D[1],s,a,u,c,!f,l,h,m,g,q,F)}else{var D=j.subdivide(o,.5),U=(m+g)/2;h=e(D[0],i,s,a,u,c,!f,l,h,m,U,L,F),h=e(D[1],i,s,a,u,c,!f,l,h,U,g,L,F)}else h=g-m>=1e-9?e(o,i,s,a,u,c,!f,l,h,m,g,L,F):e(i,o,a,s,u,c,f,l,h,L,F,m,g);return h}function n(t,e,n,r){var i,o=[0,t],a=[1/3,e],s=[2/3,n],u=[1,r],c=e-(2*t+r)/3,f=n-(t+2*r)/3;if(c*f<0)i=[[o,a,u],[o,s,u]];else{var l=c/f;i=[l>=2?[o,a,u]:l<=.5?[o,s,u]:[o,a,s,u],[o,u]]}return(c||f)<0?i.reverse():i}function r(t,e,n,r){return t[0][1]<n?i(t,!0,n):e[0][1]>r?i(e,!1,r):t[0][0]}function i(t,e,n){for(var r=t[0][0],i=t[0][1],o=1,a=t.length;o<a;o++){var s=t[o][0],u=t[o][1];if(e?u>=n:u<=n)return u===n?s:r+(n-i)*(s-r)/(u-i);r=s,i=u}return null}function o(t,e,n,r,i){var o=m.isZero;if(o(r)&&o(i)){var a=j.getTimeOf(t,new v(e,n));return null===a?[]:[a]}for(var s=Math.atan2(-i,r),u=Math.sin(s),c=Math.cos(s),f=[],l=[],h=0;h<8;h+=2){var p=t[h]-e,d=t[h+1]-n;f.push(p*c-d*u,p*u+d*c)}return j.solveCubic(f,1,0,l,0,1),l}function a(e,n,r,i,a,s,u){for(var c=n[0],f=n[1],l=n[6],h=n[7],p=o(e,c,f,l-c,h-f),d=0,m=p.length;d<m;d++){var g=p[d],v=j.getPoint(e,g),y=j.getTimeOf(n,v);null!==y&&t(a,s,u?i:r,u?y:g,u?r:i,u?g:y)}}function s(e,n,r,i,o,a){var s=E.intersect(e[0],e[1],e[6],e[7],n[0],n[1],n[6],n[7]);s&&t(o,a,r,j.getTimeOf(e,s),i,j.getTimeOf(n,s))}function u(n,r,i,o,u,c){var f=Math.min,h=Math.max;if(h(n[0],n[2],n[4],n[6])+1e-12>f(r[0],r[2],r[4],r[6])&&f(n[0],n[2],n[4],n[6])-1e-12<h(r[0],r[2],r[4],r[6])&&h(n[1],n[3],n[5],n[7])+1e-12>f(r[1],r[3],r[5],r[7])&&f(n[1],n[3],n[5],n[7])-1e-12<h(r[1],r[3],r[5],r[7])){var p=l(n,r);if(p)for(var d=0;d<2;d++){var m=p[d];t(u,c,i,m[0],o,m[1],!0)}else{var g=j.isStraight(n),y=j.isStraight(r),x=g&&y,w=g&&!y,b=u.length;if((x?s:g||y?a:e)(w?r:n,w?n:r,w?o:i,w?i:o,u,c,w,0,0,0,1,0,1),!x||u.length===b)for(var d=0;d<4;d++){var _=d>>1,N=1&d,E=6*_,M=6*N,S=new v(n[E],n[E+1]),A=new v(r[M],r[M+1]);S.isClose(A,1e-12)&&t(u,c,i,_,o,N)}}}return u}function c(e,n,r,i){var o=j.classify(e);if("loop"===o.type){var a=o.roots;t(r,i,n,a[0],n,a[1])}return r}function f(t,e,n,r,i,o){var a=!e;a&&(e=t);for(var s,f,l=t.length,h=e.length,p=[],d=[],m=0;m<h;m++)p[m]=e[m].getValues(i);for(var m=0;m<l;m++){var g=t[m],v=a?p[m]:g.getValues(r),y=g.getPath();y!==f&&(f=y,s=[],d.push(s)),a&&c(v,g,s,n);for(var x=a?m+1:0;x<h;x++){if(o&&s.length)return s;u(v,p[x],g,e[x],s,n)}}s=[];for(var m=0,w=d.length;m<w;m++)s.push.apply(s,d[m]);return s}function l(t,e){function n(t){var e=t[6]-t[0],n=t[7]-t[1];return e*e+n*n}var r=Math.abs,i=E.getDistance,o=j.isStraight(t),a=j.isStraight(e),s=o&&a,u=n(t)<n(e),c=u?e:t,f=u?t:e,l=c[0],h=c[1],p=c[6]-l,d=c[7]-h;if(i(l,h,p,d,f[0],f[1],!0)<1e-7&&i(l,h,p,d,f[6],f[7],!0)<1e-7)!s&&i(l,h,p,d,c[2],c[3],!0)<1e-7&&i(l,h,p,d,c[4],c[5],!0)<1e-7&&i(l,h,p,d,f[2],f[3],!0)<1e-7&&i(l,h,p,d,f[4],f[5],!0)<1e-7&&(o=a=s=!0);else if(s)return null;if(o^a)return null;for(var m=[t,e],g=[],y=0;y<4&&g.length<2;y++){var x=1&y,w=1^x,b=y>>1,_=j.getTimeOf(m[x],new v(m[w][b?6:0],m[w][b?7:1]));if(null!=_){var N=x?[b,_]:[_,b];(!g.length||r(N[0]-g[0][0])>1e-8&&r(N[1]-g[0][1])>1e-8)&&g.push(N)}if(y>2&&!g.length)break}if(2!==g.length)g=null;else if(!s){var M=j.getPart(t,g[0][0],g[1][0]),S=j.getPart(e,g[0][1],g[1][1]);(r(S[2]-M[2])>1e-7||r(S[3]-M[3])>1e-7||r(S[4]-M[4])>1e-7||r(S[5]-M[5])>1e-7)&&(g=null)}return g}return{getIntersections:function(t){var e=this.getValues(),n=t&&t!==this&&t.getValues();return n?u(e,n,this,t,[]):c(e,this,[])},statics:{getOverlaps:l,getIntersections:f,getCurveLineIntersections:o}}}),R=f.extend({_class:"CurveLocation",initialize:function(t,e,n,r,i){if(e>=.99999999){var o=t.getNext();o&&(e=0,t=o)}this._setCurve(t),this._time=e,this._point=n||t.getPointAtTime(e),this._overlap=r,this._distance=i,this._intersection=this._next=this._previous=null},_setCurve:function(t){var e=t._path;this._path=e,this._version=e?e._version:0,this._curve=t,this._segment=null,this._segment1=t._segment1,this._segment2=t._segment2},_setSegment:function(t){this._setCurve(t.getCurve()),this._segment=t,this._time=t===this._segment1?0:1,this._point=t._point.clone()},getSegment:function(){var t=this._segment;if(!t){var e=this.getCurve(),n=this.getTime();0===n?t=e._segment1:1===n?t=e._segment2:null!=n&&(t=e.getPartLength(0,n)<e.getPartLength(n,1)?e._segment1:e._segment2),this._segment=t}return t},getCurve:function(){function t(t){var e=t&&t.getCurve();if(e&&null!=(n._time=e.getTimeOf(n._point)))return n._setCurve(e),e}var e=this._path,n=this;return e&&e._version!==this._version&&(this._time=this._offset=this._curveOffset=this._curve=null),this._curve||t(this._segment)||t(this._segment1)||t(this._segment2.getPrevious())},getPath:function(){var t=this.getCurve();return t&&t._path},getIndex:function(){var t=this.getCurve();return t&&t.getIndex()},getTime:function(){var t=this.getCurve(),e=this._time;return t&&null==e?this._time=t.getTimeOf(this._point):e},getParameter:"#getTime",getPoint:function(){return this._point},getOffset:function(){var t=this._offset;if(null==t){t=0;var e=this.getPath(),n=this.getIndex();if(e&&null!=n)for(var r=e.getCurves(),i=0;i<n;i++)t+=r[i].getLength();this._offset=t+=this.getCurveOffset()}return t},getCurveOffset:function(){var t=this._curveOffset;if(null==t){var e=this.getCurve(),n=this.getTime();this._curveOffset=t=null!=n&&e&&e.getPartLength(0,n)}return t},getIntersection:function(){return this._intersection},getDistance:function(){return this._distance},divide:function(){var t=this.getCurve(),e=t&&t.divideAtTime(this.getTime());return e&&this._setSegment(e._segment1),e},split:function(){var t=this.getCurve(),e=t._path,n=t&&t.splitAtTime(this.getTime());return n&&this._setSegment(e.getLastSegment()),n},equals:function(t,e){var n=this===t;if(!n&&t instanceof R){var r=this.getCurve(),i=t.getCurve(),o=r._path;if(o===i._path){var a=Math.abs,s=a(this.getOffset()-t.getOffset()),u=!e&&this._intersection,c=!e&&t._intersection;n=(s<1e-7||o&&a(o.getLength()-s)<1e-7)&&(!u&&!c||u&&c&&u.equals(c,!0))}}return n},toString:function(){var t=[],e=this.getPoint(),n=d.instance;e&&t.push("point: "+e);var r=this.getIndex();null!=r&&t.push("index: "+r);var i=this.getTime();return null!=i&&t.push("time: "+n.number(i)),null!=this._distance&&t.push("distance: "+n.number(this._distance)),"{ "+t.join(", ")+" }"},isTouching:function(){var t=this._intersection;if(t&&this.getTangent().isCollinear(t.getTangent())){var e=this.getCurve(),n=t.getCurve();return!(e.isStraight()&&n.isStraight()&&e.getLine().intersect(n.getLine()))}return!1},isCrossing:function(){function t(t,e){var n=t.getValues(),r=j.classify(n).roots||j.getPeaks(n),i=r.length,o=e&&i>1?r[i-1]:i>0?r[0]:.5;l.push(j.getLength(n,e?o:0,e?1:o)/2)}function e(t,e,n){return e<n?t>e&&t<n:t>e||t<n}var n=this._intersection;if(!n)return!1;var r=this.getTime(),i=n.getTime(),o=r>=1e-8&&r<=1-1e-8,a=i>=1e-8&&i<=1-1e-8;if(o&&a)return!this.isTouching();var s=this.getCurve(),u=r<1e-8?s.getPrevious():s,c=n.getCurve(),f=i<1e-8?c.getPrevious():c;if(r>1-1e-8&&(s=s.getNext()),i>1-1e-8&&(c=c.getNext()),!(u&&s&&f&&c))return!1;var l=[];o||(t(u,!0),t(s,!1)),a||(t(f,!0),t(c,!1));var h=this.getPoint(),p=Math.min.apply(Math,l),d=o?s.getTangentAtTime(r):s.getPointAt(p).subtract(h),m=o?d.negate():u.getPointAt(-p).subtract(h),g=a?c.getTangentAtTime(i):c.getPointAt(p).subtract(h),v=a?g.negate():f.getPointAt(-p).subtract(h),y=m.getAngle(),x=d.getAngle(),w=v.getAngle(),b=g.getAngle();return!!(o?e(y,w,b)^e(x,w,b)&&e(y,b,w)^e(x,b,w):e(w,y,x)^e(b,y,x)&&e(w,x,y)^e(b,x,y))},hasOverlap:function(){return!!this._overlap}},f.each(j._evaluateMethods,function(t){var e=t+"At";this[t]=function(){var t=this.getCurve(),n=this.getTime();return null!=n&&t&&t[e](n,!0)}},{preserve:!0}),new function(){function t(t,e,n){function r(n,r){for(var o=n+r;o>=-1&&o<=i;o+=r){var a=t[(o%i+i)%i];if(!e.getPoint().isClose(a.getPoint(),1e-7))break;if(e.equals(a))return a}return null}for(var i=t.length,o=0,a=i-1;o<=a;){var s,u=o+a>>>1,c=t[u];if(n&&(s=e.equals(c)?c:r(u,-1)||r(u,1)))return e._overlap&&(s._overlap=s._intersection._overlap=!0),s;var f=e.getPath(),l=c.getPath();(f!==l?f._id-l._id:e.getIndex()+e.getTime()-(c.getIndex()+c.getTime()))<0?a=u-1:o=u+1}return t.splice(o,0,e),e}return{statics:{insert:t,expand:function(e){for(var n=e.slice(),r=e.length-1;r>=0;r--)t(n,e[r]._intersection,!1);return n}}}}),L=S.extend({_class:"PathItem",_selectBounds:!1,_canScaleStroke:!0,beans:!0,initialize:function(){},statics:{create:function(t){var e,n,r;if(f.isPlainObject(t)?(n=t.segments,e=t.pathData):Array.isArray(t)?n=t:"string"==typeof t&&(e=t),n){var i=n[0];r=i&&Array.isArray(i[0])}else e&&(r=(e.match(/m/gi)||[]).length>1||/z\s*\S+/i.test(e));return new(r?q:F)(t)}},_asPathItem:function(){return this},isClockwise:function(){return this.getArea()>=0},setClockwise:function(t){this.isClockwise()!=(t=!!t)&&this.reverse()},setPathData:function(t){function e(t,e){var n=+r[t];return s&&(n+=u[e]),n}function n(t){return new v(e(t,"x"),e(t+1,"y"))}var r,i,o,a=t&&t.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/gi),s=!1,u=new v,c=new v;this.clear();for(var f=0,l=a&&a.length;f<l;f++){var h=a[f],p=h[0],d=p.toLowerCase();r=h.match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g);var m=r&&r.length;switch(s=p===d,"z"!==i||/[mz]/.test(d)||this.moveTo(u),d){case"m":case"l":for(var g="m"===d,y=0;y<m;y+=2)this[g?"moveTo":"lineTo"](u=n(y)),g&&(c=u,g=!1);o=u;break;case"h":case"v":var w="h"===d?"x":"y";u=u.clone();for(var y=0;y<m;y++)u[w]=e(y,w),this.lineTo(u);o=u;break;case"c":for(var y=0;y<m;y+=6)this.cubicCurveTo(n(y),o=n(y+2),u=n(y+4));break;case"s":for(var y=0;y<m;y+=4)this.cubicCurveTo(/[cs]/.test(i)?u.multiply(2).subtract(o):u,o=n(y),u=n(y+2)),i=d;break;case"q":for(var y=0;y<m;y+=4)this.quadraticCurveTo(o=n(y),u=n(y+2));break;case"t":for(var y=0;y<m;y+=2)this.quadraticCurveTo(o=/[qt]/.test(i)?u.multiply(2).subtract(o):u,u=n(y)),i=d;break;case"a":for(var y=0;y<m;y+=7)this.arcTo(u=n(y+5),new x(+r[y],+r[y+1]),+r[y+2],+r[y+4],+r[y+3]);break;case"z":this.closePath(1e-12),u=c}i=d}},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_contains:function(t){var e=t.isInside(this.getBounds({internal:!0,handle:!0}))?this._getWinding(t):{};return e.onPath||!!("evenodd"===this.getFillRule()?1&e.windingL||1&e.windingR:e.winding)},getIntersections:function(t,e,n,r){var i=this===t||!t,o=this._matrix._orNullIfIdentity(),a=i?o:(n||t._matrix)._orNullIfIdentity();return i||this.getBounds(o).intersects(t.getBounds(a),1e-12)?j.getIntersections(this.getCurves(),!i&&t.getCurves(),e,o,a,r):[]},getCrossings:function(t){return this.getIntersections(t,function(t){return t.hasOverlap()||t.isCrossing()})},getNearestLocation:function(){for(var t=v.read(arguments),e=this.getCurves(),n=1/0,r=null,i=0,o=e.length;i<o;i++){var a=e[i].getNearestLocation(t);a._distance<n&&(n=a._distance,r=a)}return r},getNearestPoint:function(){var t=this.getNearestLocation.apply(this,arguments);return t?t.getPoint():t},interpolate:function(t,e,n){var r=!this._children,i=r?"_segments":"_children",o=t[i],a=e[i],s=this[i];if(!o||!a||o.length!==a.length)throw new Error("Invalid operands in interpolate() call: "+t+", "+e);var u=s.length,c=a.length;if(u<c)for(var f=r?I:F,l=u;l<c;l++)this.add(new f);else u>c&&this[r?"removeSegments":"removeChildren"](c,u);for(var l=0;l<c;l++)s[l].interpolate(o[l],a[l],n);r&&(this.setClosed(t._closed),this._changed(9))},compare:function(t){var e=!1;if(t){var n=this._children||[this],r=t._children?t._children.slice():[t],i=n.length,o=r.length,a=[],s=0;e=!0;for(var u=i-1;u>=0&&e;u--){var c=n[u];e=!1;for(var f=o-1;f>=0&&!e;f--)c.compare(r[f])&&(a[f]||(a[f]=!0,s++),e=!0)}e=e&&s===o}return e}}),F=L.extend({_class:"Path",_serializeFields:{segments:[],closed:!1},initialize:function(t){this._closed=!1,this._segments=[],this._version=0;var e=Array.isArray(t)?"object"==typeof t[0]?t:arguments:!t||t.size!==s||t.x===s&&t.point===s?null:arguments;e&&e.length>0?this.setSegments(e):(this._curves=s,this._segmentSelection=0,e||"string"!=typeof t||(this.setPathData(t),t=null)),this._initialize(!e&&t)},_equals:function(t){return this._closed===t._closed&&f.equals(this._segments,t._segments)},copyContent:function(t){this.setSegments(t._segments),this._closed=t._closed},_changed:function t(e){if(t.base.call(this,e),8&e){if(this._length=this._area=s,16&e)this._version++;else if(this._curves)for(var n=0,r=this._curves.length;n<r;n++)this._curves[n]._changed()}else 32&e&&(this._bounds=s)},getStyle:function(){var t=this._parent;return(t instanceof q?t:this)._style},getSegments:function(){return this._segments},setSegments:function(t){var e=this.isFullySelected(),n=t&&t.length;if(this._segments.length=0,this._segmentSelection=0,this._curves=s,n){var r=t[n-1];"boolean"==typeof r&&(this.setClosed(r),n--),this._add(I.readList(t,0,{},n))}e&&this.setFullySelected(!0)},getFirstSegment:function(){return this._segments[0]},getLastSegment:function(){return this._segments[this._segments.length-1]},getCurves:function(){var t=this._curves,e=this._segments;if(!t){var n=this._countCurves();t=this._curves=new Array(n);for(var r=0;r<n;r++)t[r]=new j(this,e[r],e[r+1]||e[0])}return t},getFirstCurve:function(){return this.getCurves()[0]},getLastCurve:function(){var t=this.getCurves();return t[t.length-1]},isClosed:function(){return this._closed},setClosed:function(t){if(this._closed!=(t=!!t)){if(this._closed=t,this._curves){var e=this._curves.length=this._countCurves();t&&(this._curves[e-1]=new j(this,this._segments[e-1],this._segments[0]))}this._changed(25)}}},{beans:!0,getPathData:function(t,e){function n(e,n){if(e._transformCoordinates(t,m),r=m[0],i=m[1],g)v.push("M"+p.pair(r,i)),g=!1;else if(s=m[2],u=m[3],s===r&&u===i&&c===o&&f===a){if(!n){var l=r-o,h=i-a;v.push(0===l?"v"+p.number(h):0===h?"h"+p.number(l):"l"+p.pair(l,h))}}else v.push("c"+p.pair(c-o,f-a)+" "+p.pair(s-o,u-a)+" "+p.pair(r-o,i-a));o=r,a=i,c=m[4],f=m[5]}var r,i,o,a,s,u,c,f,l=this._segments,h=l.length,p=new d(e),m=new Array(6),g=!0,v=[];if(!h)return"";for(var y=0;y<h;y++)n(l[y]);return this._closed&&h>0&&(n(l[0],!0),v.push("z")),v.join("")},isEmpty:function(){return!this._segments.length},_transformContent:function(t){for(var e=this._segments,n=new Array(6),r=0,i=e.length;r<i;r++)e[r]._transformCoordinates(t,n,!0);return!0},_add:function(t,e){for(var n=this._segments,r=this._curves,i=t.length,o=null==e,e=o?n.length:e,a=0;a<i;a++){var s=t[a];s._path&&(s=t[a]=s.clone()),s._path=this,s._index=e+a,s._selection&&this._updateSelection(s,0,s._selection)}if(o)n.push.apply(n,t);else{n.splice.apply(n,[e,0].concat(t));for(var a=e+i,u=n.length;a<u;a++)n[a]._index=a}if(r){var c=this._countCurves(),f=e>0&&e+i-1===c?e-1:e,l=f,h=Math.min(f+i,c);t._curves&&(r.splice.apply(r,[f,0].concat(t._curves)),l+=t._curves.length);for(var a=l;a<h;a++)r.splice(a,0,new j(this,null,null));this._adjustCurves(f,h)}return this._changed(25),t},_adjustCurves:function(t,e){for(var n,r=this._segments,i=this._curves,o=t;o<e;o++)n=i[o],n._path=this,n._segment1=r[o],n._segment2=r[o+1]||r[0],n._changed();(n=i[this._closed&&!t?r.length-1:t-1])&&(n._segment2=r[t]||r[0],n._changed()),(n=i[e])&&(n._segment1=r[e],n._changed())},_countCurves:function(){var t=this._segments.length;return!this._closed&&t>0?t-1:t},add:function(t){return arguments.length>1&&"number"!=typeof t?this._add(I.readList(arguments)):this._add([I.read(arguments)])[0]},insert:function(t,e){return arguments.length>2&&"number"!=typeof e?this._add(I.readList(arguments,1),t):this._add([I.read(arguments,1)],t)[0]},addSegment:function(){return this._add([I.read(arguments)])[0]},insertSegment:function(t){return this._add([I.read(arguments,1)],t)[0]},addSegments:function(t){return this._add(I.readList(t))},insertSegments:function(t,e){return this._add(I.readList(e),t)},removeSegment:function(t){return this.removeSegments(t,t+1)[0]||null},removeSegments:function(t,e,n){t=t||0,e=f.pick(e,this._segments.length);var r=this._segments,i=this._curves,o=r.length,a=r.splice(t,e-t),s=a.length;if(!s)return a;for(var u=0;u<s;u++){var c=a[u];c._selection&&this._updateSelection(c,c._selection,0),c._index=c._path=null}for(var u=t,l=r.length;u<l;u++)r[u]._index=u;if(i){for(var h=t>0&&e===o+(this._closed?1:0)?t-1:t,i=i.splice(h,s),u=i.length-1;u>=0;u--)i[u]._path=null;n&&(a._curves=i.slice(1)),this._adjustCurves(h,h)}return this._changed(25),a},clear:"#removeSegments",hasHandles:function(){for(var t=this._segments,e=0,n=t.length;e<n;e++)if(t[e].hasHandles())return!0;return!1},clearHandles:function(){for(var t=this._segments,e=0,n=t.length;e<n;e++)t[e].clearHandles()},getLength:function(){if(null==this._length){for(var t=this.getCurves(),e=0,n=0,r=t.length;n<r;n++)e+=t[n].getLength();this._length=e}return this._length},getArea:function(){var t=this._area;if(null==t){var e=this._segments,n=this._closed;t=0;for(var r=0,i=e.length;r<i;r++){var o=r+1===i;t+=j.getArea(j.getValues(e[r],e[o?0:r+1],null,o&&!n))}this._area=t}return t},isFullySelected:function(){var t=this._segments.length;return this.isSelected()&&t>0&&this._segmentSelection===7*t},setFullySelected:function(t){t&&this._selectSegments(!0),this.setSelected(t)},setSelection:function t(e){1&e||this._selectSegments(!1),t.base.call(this,e)},_selectSegments:function(t){var e=this._segments,n=e.length,r=t?7:0;this._segmentSelection=r*n;for(var i=0;i<n;i++)e[i]._selection=r},_updateSelection:function(t,e,n){t._selection=n,(this._segmentSelection+=n-e)>0&&this.setSelected(!0)},divideAt:function(t){var e,n=this.getLocationAt(t);return n&&(e=n.getCurve().divideAt(n.getCurveOffset()))?e._segment1:null},splitAt:function(t){var e=this.getLocationAt(t),n=e&&e.index,r=e&&e.time;r>1-1e-8&&(n++,r=0);var i=this.getCurves();if(n>=0&&n<i.length){r>=1e-8&&i[n++].divideAtTime(r);var o,a=this.removeSegments(n,this._segments.length,!0);return this._closed?(this.setClosed(!1),o=this):(o=new F(S.NO_INSERT),o.insertAbove(this),o.copyAttributes(this)),o._add(a,0),this.addSegment(a[0]),o}return null},split:function(t,e){var n,r=e===s?t:(n=this.getCurves()[t])&&n.getLocationAtTime(e);return null!=r?this.splitAt(r):null},join:function(t,e){var n=e||0;if(t&&t!==this){var r=t._segments,i=this.getLastSegment(),o=t.getLastSegment();if(!o)return this;i&&i._point.isClose(o._point,n)&&t.reverse();var a=t.getFirstSegment();if(i&&i._point.isClose(a._point,n))i.setHandleOut(a._handleOut),this._add(r.slice(1));else{var s=this.getFirstSegment();s&&s._point.isClose(a._point,n)&&t.reverse(),o=t.getLastSegment(),s&&s._point.isClose(o._point,n)?(s.setHandleIn(o._handleIn),this._add(r.slice(0,r.length-1),0)):this._add(r.slice())}t._closed&&this._add([r[0]]),t.remove()}var u=this.getFirstSegment(),c=this.getLastSegment();return u!==c&&u._point.isClose(c._point,n)&&(u.setHandleIn(c._handleIn),c.remove(),this.setClosed(!0)),this},reduce:function(t){for(var e=this.getCurves(),n=t&&t.simplify,r=n?1e-7:0,i=e.length-1;i>=0;i--){var o=e[i];!o.hasHandles()&&(!o.hasLength(r)||n&&o.isCollinear(o.getNext()))&&o.remove()}return this},reverse:function(){this._segments.reverse();for(var t=0,e=this._segments.length;t<e;t++){var n=this._segments[t],r=n._handleIn;n._handleIn=n._handleOut,n._handleOut=r,n._index=t}this._curves=null,this._changed(9)},flatten:function(t){for(var e=new U(this,t||.25,256,!0),n=e.parts,r=n.length,i=[],o=0;o<r;o++)i.push(new I(n[o].curve.slice(0,2)));!this._closed&&r>0&&i.push(new I(n[r-1].curve.slice(6))),this.setSegments(i)},simplify:function(t){var e=new D(this).fit(t||2.5);return e&&this.setSegments(e),!!e},smooth:function(t){function e(t,e){var r=t&&t.index;if(null!=r){var i=t.path;if(i&&i!==n)throw new Error(t._class+" "+r+" of "+i+" is not part of "+n);e&&t instanceof j&&r++}else r="number"==typeof t?t:e;return Math.min(r<0&&u?r%a:r<0?r+a:r,a-1)}var n=this,r=t||{},i=r.type||"asymmetric",o=this._segments,a=o.length,u=this._closed,c=u&&r.from===s&&r.to===s,f=e(r.from,0),l=e(r.to,a-1);if(f>l)if(u)f-=a;else{var h=f;f=l,l=h}if(/^(?:asymmetric|continuous)$/.test(i)){var p="asymmetric"===i,d=Math.min,m=l-f+1,g=m-1,v=c?d(m,4):1,y=v,x=v,w=[];if(u||(y=d(1,f),x=d(1,a-l-1)),(g+=y+x)<=1)return;for(var b=0,_=f-y;b<=g;b++,_++)w[b]=o[(_<0?_+a:_)%a]._point;for(var N=w[0]._x+2*w[1]._x,E=w[0]._y+2*w[1]._y,M=2,S=g-1,A=[N],O=[E],C=[M],T=[],P=[],b=1;b<g;b++){var z=b<S,k=z?1:p?1:2,I=z?4:p?2:7,B=z?4:p?3:8,R=z?2:p?0:1,L=k/M;M=C[b]=I-L,N=A[b]=B*w[b]._x+R*w[b+1]._x-L*N,E=O[b]=B*w[b]._y+R*w[b+1]._y-L*E}T[S]=A[S]/C[S],P[S]=O[S]/C[S];for(var b=g-2;b>=0;b--)T[b]=(A[b]-T[b+1])/C[b],P[b]=(O[b]-P[b+1])/C[b];T[g]=(3*w[g]._x-T[S])/2,P[g]=(3*w[g]._y-P[S])/2;for(var b=y,F=g-x,_=f;b<=F;b++,_++){var q=o[_<0?_+a:_],U=q._point,D=T[b]-U._x,V=P[b]-U._y;(c||b<F)&&q.setHandleOut(D,V),(c||b>y)&&q.setHandleIn(-D,-V)}}else for(var b=f;b<=l;b++)o[b<0?b+a:b].smooth(r,!c&&b===f,!c&&b===l)},toShape:function(t){function e(t,e){var n=c[t],r=n.getNext(),i=c[e],o=i.getNext();return n._handleOut.isZero()&&r._handleIn.isZero()&&i._handleOut.isZero()&&o._handleIn.isZero()&&r._point.subtract(n._point).isCollinear(o._point.subtract(i._point))}function n(t){var e=c[t],n=e.getNext(),r=e._handleOut,i=n._handleIn;if(r.isOrthogonal(i)){var o=e._point,a=n._point,s=new E(o,r,!0).intersect(new E(a,i,!0),!0);return s&&m.isZero(r.getLength()/s.subtract(o).getLength()-.5522847498307936)&&m.isZero(i.getLength()/s.subtract(a).getLength()-.5522847498307936)}return!1}function r(t,e){return c[t]._point.getDistance(c[e]._point)}if(!this._closed)return null;var i,o,a,u,c=this._segments;if(!this.hasHandles()&&4===c.length&&e(0,2)&&e(1,3)&&function(t){var e=c[t],n=e.getPrevious(),r=e.getNext();return n._handleOut.isZero()&&e._handleIn.isZero()&&e._handleOut.isZero()&&r._handleIn.isZero()&&e._point.subtract(n._point).isOrthogonal(r._point.subtract(e._point))}(1)?(i=C.Rectangle,o=new x(r(0,3),r(0,1)),u=c[1]._point.add(c[2]._point).divide(2)):8===c.length&&n(0)&&n(2)&&n(4)&&n(6)&&e(1,5)&&e(3,7)?(i=C.Rectangle,o=new x(r(1,6),r(0,3)),a=o.subtract(new x(r(0,7),r(1,2))).divide(2),u=c[3]._point.add(c[4]._point).divide(2)):4===c.length&&n(0)&&n(1)&&n(2)&&n(3)&&(m.isZero(r(0,2)-r(1,3))?(i=C.Circle,a=r(0,2)/2):(i=C.Ellipse,a=new x(r(2,0)/2,r(3,1)/2)),u=c[1]._point),i){var f=this.getPosition(!0),l=new i({center:f,size:o,radius:a,insert:!1});return l.copyAttributes(this,!0),l._matrix.prepend(this._matrix),l.rotate(u.subtract(f).getAngle()+90),(t===s||t)&&l.insertAbove(this),l}return null},toPath:"#clone",compare:function t(e){if(!e||e instanceof q)return t.base.call(this,e);var n=this.getCurves(),r=e.getCurves(),i=n.length,o=r.length;if(!i||!o)return i==o;for(var a,s,u=n[0].getValues(),c=[],f=0,l=0,h=0;h<o;h++){var p=r[h].getValues();c.push(p);var d=j.getOverlaps(u,p);if(d){a=!h&&d[0][0]>0?o-1:h,s=d[0][1];break}}for(var m,g=Math.abs,p=c[a];u&&p;){var d=j.getOverlaps(u,p);if(d){if(g(d[0][0]-l)<1e-8){l=d[1][0],1===l&&(u=++f<i?n[f].getValues():null,l=0);var v=d[0][1];if(g(v-s)<1e-8){if(m||(m=[a,v]),s=d[1][1],1===s&&(++a>=o&&(a=0),p=c[a]||r[a].getValues(),s=0),!u)return m[0]===a&&m[1]===s;continue}}}break}return!1},_hitTestSelf:function(t,e,n,r){function i(e,n){return t.subtract(e).divide(n).length<=1}function o(t,n,r){if(!e.selected||n.isSelected()){var o=t._point;if(n!==o&&(n=n.add(o)),i(n,b))return new k(r,m,{segment:t,point:n})}}function a(t,n){return(n||e.segments)&&o(t,t._point,"segment")||!n&&e.handles&&(o(t,t._handleIn,"handle-in")||o(t,t._handleOut,"handle-out"))}function s(t){h.add(t)}function u(e){var n=x||e._index>0&&e._index<y-1;if("round"===(n?c:f))return i(e._point,b);if(h=new F({internal:!0,closed:!0}),n?e.isSmooth()||F._addBevelJoin(e,c,M,l,null,r,s,!0):"square"===f&&F._addSquareCap(e,f,M,null,r,s,!0),!h.isEmpty()){var o;return h.contains(t)||(o=h.getNearestLocation(t))&&i(o.getPoint(),w)}}var c,f,l,h,p,d,m=this,g=this.getStyle(),v=this._segments,y=v.length,x=this._closed,w=e._tolerancePadding,b=w,_=e.stroke&&g.hasStroke(),N=e.fill&&g.hasFill(),E=e.curves,M=_?g.getStrokeWidth()/2:N&&e.tolerance>0||E?0:null;if(null!==M&&(M>0?(c=g.getStrokeJoin(),f=g.getStrokeCap(),l=g.getMiterLimit(),b=b.add(F._getStrokePadding(M,r))):c=f="round"),!e.ends||e.segments||x){if(e.segments||e.handles)for(var S=0;S<y;S++)if(d=a(v[S]))return d}else if(d=a(v[0],!0)||a(v[y-1],!0))return d;if(null!==M){if(p=this.getNearestLocation(t)){var A=p.getTime();0===A||1===A&&y>1?u(p.getSegment())||(p=null):i(p.getPoint(),b)||(p=null)}if(!p&&"miter"===c&&y>1)for(var S=0;S<y;S++){var O=v[S];if(t.getDistance(O._point)<=l*M&&u(O)){p=O.getLocation();break}}}return!p&&N&&this._contains(t)||p&&!_&&!E?new k("fill",this):p?new k(_?"stroke":"curve",this,{location:p,point:p.getPoint()}):null}},f.each(j._evaluateMethods,function(t){this[t+"At"]=function(e){var n=this.getLocationAt(e);return n&&n[t]()}},{beans:!1,getLocationOf:function(){for(var t=v.read(arguments),e=this.getCurves(),n=0,r=e.length;n<r;n++){var i=e[n].getLocationOf(t);if(i)return i}return null},getOffsetOf:function(){var t=this.getLocationOf.apply(this,arguments);return t?t.getOffset():null},getLocationAt:function(t){if("number"==typeof t){for(var e=this.getCurves(),n=0,r=0,i=e.length;r<i;r++){var o=n,a=e[r];if((n+=a.getLength())>t)return a.getLocationAt(t-o)}if(e.length>0&&t<=this.getLength())return new R(e[e.length-1],1)}else if(t&&t.getPath&&t.getPath()===this)return t;return null}}),new function(){function t(t,e,n,r){function i(e){var n=u[e],r=u[e+1];o==n&&a==r||(t.beginPath(),t.moveTo(o,a),t.lineTo(n,r),t.stroke(),t.beginPath(),t.arc(n,r,s,0,2*Math.PI,!0),t.fill())}for(var o,a,s=r/2,u=new Array(6),c=0,f=e.length;c<f;c++){var l=e[c],h=l._selection;if(l._transformCoordinates(n,u),o=u[0],a=u[1],2&h&&i(2),4&h&&i(4),t.fillRect(o-s,a-s,r,r),!(1&h)){var p=t.fillStyle;t.fillStyle="#ffffff",t.fillRect(o-s+1,a-s+1,r-2,r-2),t.fillStyle=p}}}function e(t,e,n){function r(e){if(n)e._transformCoordinates(n,d),i=d[0],o=d[1];else{var r=e._point;i=r._x,o=r._y}if(m)t.moveTo(i,o),m=!1;else{if(n)u=d[2],c=d[3];else{var h=e._handleIn;u=i+h._x,c=o+h._y}u===i&&c===o&&f===a&&l===s?t.lineTo(i,o):t.bezierCurveTo(f,l,u,c,i,o)}if(a=i,s=o,n)f=d[4],l=d[5];else{var h=e._handleOut;f=a+h._x,l=s+h._y}}for(var i,o,a,s,u,c,f,l,h=e._segments,p=h.length,d=new Array(6),m=!0,g=0;g<p;g++)r(h[g]);e._closed&&p>0&&r(h[0])}return{_draw:function(t,n,r,i){function a(t){return h[(t%p+p)%p]}var s=n.dontStart,u=n.dontFinish||n.clip,c=this.getStyle(),f=c.hasFill(),l=c.hasStroke(),h=c.getDashArray(),p=!o.support.nativeDash&&l&&h&&h.length;if(s||t.beginPath(),(f||l&&!p||u)&&(e(t,this,i),this._closed&&t.closePath()),!u&&(f||l)&&(this._setStyles(t,n,r),f&&(t.fill(c.getFillRule()),t.shadowColor="rgba(0,0,0,0)"),l)){if(p){s||t.beginPath();var d,m=new U(this,.25,32,!1,i),g=m.length,v=-c.getDashOffset(),y=0;for(v%=g;v>0;)v-=a(y--)+a(y--);for(;v<g;)d=v+a(y++),(v>0||d>0)&&m.drawPart(t,Math.max(v,0),Math.max(d,0)),v=d+a(y++)}t.stroke()}},_drawSelected:function(n,r){n.beginPath(),e(n,this,r),n.stroke(),t(n,this._segments,r,o.settings.handleSize)}}},new function(){function t(t){var e=t._segments;if(!e.length)throw new Error("Use a moveTo() command first");return e[e.length-1]}return{moveTo:function(){var t=this._segments;1===t.length&&this.removeSegment(0),t.length||this._add([new I(v.read(arguments))])},moveBy:function(){throw new Error("moveBy() is unsupported on Path items.")},lineTo:function(){this._add([new I(v.read(arguments))])},cubicCurveTo:function(){var e=v.read(arguments),n=v.read(arguments),r=v.read(arguments),i=t(this);i.setHandleOut(e.subtract(i._point)),this._add([new I(r,n.subtract(r))])},quadraticCurveTo:function(){var e=v.read(arguments),n=v.read(arguments),r=t(this)._point;this.cubicCurveTo(e.add(r.subtract(e).multiply(1/3)),e.add(n.subtract(e).multiply(1/3)),n)},curveTo:function(){var e=v.read(arguments),n=v.read(arguments),r=f.pick(f.read(arguments),.5),i=1-r,o=t(this)._point,a=e.subtract(o.multiply(i*i)).subtract(n.multiply(r*r)).divide(2*r*i);if(a.isNaN())throw new Error("Cannot put a curve through points with parameter = "+r);this.quadraticCurveTo(a,n)},arcTo:function(){var e,n,r,i,o,a=Math.abs,s=Math.sqrt,u=t(this),c=u._point,l=v.read(arguments),h=f.peek(arguments),p=f.pick(h,!0);if("boolean"==typeof p)var d=c.add(l).divide(2),e=d.add(d.subtract(c).rotate(p?-90:90));else if(f.remain(arguments)<=2)e=l,l=v.read(arguments);else{var g=x.read(arguments),y=m.isZero;if(y(g.width)||y(g.height))return this.lineTo(l);var w=f.read(arguments),p=!!f.read(arguments),b=!!f.read(arguments),d=c.add(l).divide(2),_=c.subtract(d).rotate(-w),M=_.x,S=_.y,A=a(g.width),O=a(g.height),C=A*A,T=O*O,P=M*M,z=S*S,k=s(P/C+z/T);if(k>1&&(A*=k,O*=k,C=A*A,T=O*O),k=(C*T-C*z-T*P)/(C*z+T*P),a(k)<1e-12&&(k=0),k<0)throw new Error("Cannot create an arc with the given arguments");n=new v(A*S/O,-O*M/A).multiply((b===p?-1:1)*s(k)).rotate(w).add(d),o=(new N).translate(n).rotate(w).scale(A,O),i=o._inverseTransform(c),r=i.getDirectedAngle(o._inverseTransform(l)),!p&&r>0?r-=360:p&&r<0&&(r+=360)}if(e){var B=new E(c.add(e).divide(2),e.subtract(c).rotate(90),!0),j=new E(e.add(l).divide(2),l.subtract(e).rotate(90),!0),R=new E(c,l),L=R.getSide(e);if(!(n=B.intersect(j,!0))){if(!L)return this.lineTo(l);throw new Error("Cannot create an arc with the given arguments")}i=c.subtract(n),r=i.getDirectedAngle(l.subtract(n));var F=R.getSide(n);0===F?r=L*a(r):L===F&&(r+=r<0?360:-360)}for(var q=a(r),U=q>=360?4:Math.ceil((q-1e-7)/90),D=r/U,V=D*Math.PI/360,H=4/3*Math.sin(V)/(1+Math.cos(V)),$=[],G=0;G<=U;G++){var _=l,Z=null;if(G<U&&(Z=i.rotate(90).multiply(H),o?(_=o._transformPoint(i),Z=o._transformPoint(i.add(Z)).subtract(_)):_=n.add(i)),G){var W=i.rotate(-90).multiply(H);o&&(W=o._transformPoint(i.add(W)).subtract(_)),$.push(new I(_,W,Z))}else u.setHandleOut(Z);i=i.rotate(D)}this._add($)},lineBy:function(){var e=v.read(arguments),n=t(this)._point;this.lineTo(n.add(e))},curveBy:function(){var e=v.read(arguments),n=v.read(arguments),r=f.read(arguments),i=t(this)._point;this.curveTo(i.add(e),i.add(n),r)},cubicCurveBy:function(){var e=v.read(arguments),n=v.read(arguments),r=v.read(arguments),i=t(this)._point;this.cubicCurveTo(i.add(e),i.add(n),i.add(r))},quadraticCurveBy:function(){var e=v.read(arguments),n=v.read(arguments),r=t(this)._point;this.quadraticCurveTo(r.add(e),r.add(n))},arcBy:function(){var e=t(this)._point,n=e.add(v.read(arguments)),r=f.pick(f.peek(arguments),!0);"boolean"==typeof r?this.arcTo(n,r):this.arcTo(n,e.add(v.read(arguments)))},closePath:function(t){this.setClosed(!0),this.join(this,t)}}},{_getBounds:function(t,e){var n=e.handle?"getHandleBounds":e.stroke?"getStrokeBounds":"getBounds";return F[n](this._segments,this._closed,this,t,e)},statics:{getBounds:function(t,e,n,r,i,o){function a(t){t._transformCoordinates(r,u);for(var e=0;e<2;e++)j._addBounds(c[e],c[e+4],u[e+2],u[e],e,o?o[e]:0,f,l,h);var n=c;c=u,u=n}var s=t[0];if(!s)return new b;for(var u=new Array(6),c=s._transformCoordinates(r,new Array(6)),f=c.slice(0,2),l=f.slice(),h=new Array(2),p=1,d=t.length;p<d;p++)a(t[p]);return e&&a(s),new b(f[0],f[1],l[0]-f[0],l[1]-f[1])},getStrokeBounds:function(t,e,n,r,i){function o(t){d=d.include(t)}function a(t){d=d.unite(w.setCenter(t._point.transform(r)))}function s(t,e){"round"===e||t.isSmooth()?a(t):F._addBevelJoin(t,e,m,y,r,h,o)}function u(t,e){"round"===e?a(t):F._addSquareCap(t,e,m,r,h,o)}var c=n.getStyle(),f=c.hasStroke(),l=c.getStrokeWidth(),h=f&&n._getStrokeMatrix(r,i),p=f&&F._getStrokePadding(l,h),d=F.getBounds(t,e,n,r,i,p);if(!f)return d;for(var m=l/2,g=c.getStrokeJoin(),v=c.getStrokeCap(),y=c.getMiterLimit(),w=new b(new x(p)),_=t.length-(e?0:1),N=1;N<_;N++)s(t[N],g);return e?s(t[0],g):_>0&&(u(t[0],v),u(t[t.length-1],v)),d},_getStrokePadding:function(t,e){if(!e)return[t,t];var n=new v(t,0).transform(e),r=new v(0,t).transform(e),i=n.getAngleInRadians(),o=n.getLength(),a=r.getLength(),s=Math.sin(i),u=Math.cos(i),c=Math.tan(i),f=Math.atan2(a*c,o),l=Math.atan2(a,c*o);return[Math.abs(o*Math.cos(f)*u+a*Math.sin(f)*s),Math.abs(a*Math.sin(l)*u+o*Math.cos(l)*s)]},_addBevelJoin:function(t,e,n,r,i,o,a,s){var u=t.getCurve(),c=u.getPrevious(),f=u.getPoint1().transform(i),l=c.getNormalAtTime(1).multiply(n).transform(o),h=u.getNormalAtTime(0).multiply(n).transform(o);if(l.getDirectedAngle(h)<0&&(l=l.negate(),h=h.negate()),s&&a(f),a(f.add(l)),"miter"===e){var p=new E(f.add(l),new v(-l.y,l.x),!0).intersect(new E(f.add(h),new v(-h.y,h.x),!0),!0);p&&f.getDistance(p)<=r*n&&a(p)}a(f.add(h))},_addSquareCap:function(t,e,n,r,i,o,a){var s=t._point.transform(r),u=t.getLocation(),c=u.getNormal().multiply(0===u.getTime()?n:-n).transform(i);"square"===e&&(a&&(o(s.subtract(c)),o(s.add(c))),s=s.add(c.rotate(-90))),o(s.add(c)),o(s.subtract(c))},getHandleBounds:function(t,e,n,r,i){var o,a,s=n.getStyle(),u=i.stroke&&s.hasStroke();if(u){var c=n._getStrokeMatrix(r,i),f=s.getStrokeWidth()/2,l=f;"miter"===s.getStrokeJoin()&&(l=f*s.getMiterLimit()),"square"===s.getStrokeCap()&&(l=Math.max(l,f*Math.SQRT2)),o=F._getStrokePadding(f,c),a=F._getStrokePadding(l,c)}for(var h=new Array(6),p=1/0,d=-p,m=p,g=d,v=0,y=t.length;v<y;v++){t[v]._transformCoordinates(r,h);for(var x=0;x<6;x+=2){var w=x?o:a,_=w?w[0]:0,N=w?w[1]:0,E=h[x],M=h[x+1],S=E-_,A=E+_,O=M-N,C=M+N;S<p&&(p=S),A>d&&(d=A),O<m&&(m=O),C>g&&(g=C)}}return new b(p,m,d-p,g-m)}}});F.inject({statics:new function(){function t(t,e,n){var r=f.getNamed(n),i=new F(r&&0==r.insert&&S.NO_INSERT);return i._add(t),i._closed=e,i.set(r,{insert:!0})}function e(e,n,i){for(var o=new Array(4),a=0;a<4;a++){var s=r[a];o[a]=new I(s._point.multiply(n).add(e),s._handleIn.multiply(n),s._handleOut.multiply(n))}return t(o,!0,i)}var n=.5522847498307936,r=[new I([-1,0],[0,n],[0,-n]),new I([0,-1],[-n,0],[n,0]),new I([1,0],[0,-n],[0,n]),new I([0,1],[n,0],[-n,0])];return{Line:function(){return t([new I(v.readNamed(arguments,"from")),new I(v.readNamed(arguments,"to"))],!1,arguments)},Circle:function(){var t=v.readNamed(arguments,"center"),n=f.readNamed(arguments,"radius");return e(t,new x(n),arguments)},Rectangle:function(){var e,r=b.readNamed(arguments,"rectangle"),i=x.readNamed(arguments,"radius",0,{readNull:!0}),o=r.getBottomLeft(!0),a=r.getTopLeft(!0),s=r.getTopRight(!0),u=r.getBottomRight(!0);if(!i||i.isZero())e=[new I(o),new I(a),new I(s),new I(u)];else{i=x.min(i,r.getSize(!0).divide(2));var c=i.width,f=i.height,l=c*n,h=f*n;e=[new I(o.add(c,0),null,[-l,0]),new I(o.subtract(0,f),[0,h]),new I(a.add(0,f),null,[0,-h]),new I(a.add(c,0),[-l,0],null),new I(s.subtract(c,0),null,[l,0]),new I(s.add(0,f),[0,-h],null),new I(u.subtract(0,f),null,[0,h]),new I(u.subtract(c,0),[l,0])]}return t(e,!0,arguments)},RoundRectangle:"#Rectangle",Ellipse:function(){var t=C._readEllipse(arguments);return e(t.center,t.radius,arguments)},Oval:"#Ellipse",Arc:function(){var t=v.readNamed(arguments,"from"),e=v.readNamed(arguments,"through"),n=v.readNamed(arguments,"to"),r=f.getNamed(arguments),i=new F(r&&0==r.insert&&S.NO_INSERT);return i.moveTo(t),i.arcTo(e,n),i.set(r)},RegularPolygon:function(){for(var e=v.readNamed(arguments,"center"),n=f.readNamed(arguments,"sides"),r=f.readNamed(arguments,"radius"),i=360/n,o=n%3==0,a=new v(0,o?-r:r),s=o?-1:.5,u=new Array(n),c=0;c<n;c++)u[c]=new I(e.add(a.rotate((c+s)*i)));return t(u,!0,arguments)},Star:function(){for(var e=v.readNamed(arguments,"center"),n=2*f.readNamed(arguments,"points"),r=f.readNamed(arguments,"radius1"),i=f.readNamed(arguments,"radius2"),o=360/n,a=new v(0,-1),s=new Array(n),u=0;u<n;u++)s[u]=new I(e.add(a.rotate(o*u).multiply(u%2?i:r)));return t(s,!0,arguments)}}}});var q=L.extend({_class:"CompoundPath",_serializeFields:{children:[]},beans:!0,initialize:function(t){this._children=[],this._namedChildren={},this._initialize(t)||("string"==typeof t?this.setPathData(t):this.addChildren(Array.isArray(t)?t:arguments))},insertChildren:function t(e,n){var r=n,i=r[0];i&&"number"==typeof i[0]&&(r=[r]);for(var o=n.length-1;o>=0;o--){var a=r[o];r!==n||a instanceof F||(r=f.slice(r)),Array.isArray(a)?r[o]=new F({segments:a,insert:!1}):a instanceof q&&(r.splice.apply(r,[o,1].concat(a.removeChildren())),a.remove())}return t.base.call(this,e,r)},reduce:function t(e){for(var n=this._children,r=n.length-1;r>=0;r--){var i=n[r].reduce(e);i.isEmpty()&&i.remove()}if(!n.length){var i=new F(S.NO_INSERT);return i.copyAttributes(this),i.insertAbove(this),this.remove(),i}return t.base.call(this)},isClosed:function(){for(var t=this._children,e=0,n=t.length;e<n;e++)if(!t[e]._closed)return!1;return!0},setClosed:function(t){for(var e=this._children,n=0,r=e.length;n<r;n++)e[n].setClosed(t)},getFirstSegment:function(){var t=this.getFirstChild();return t&&t.getFirstSegment()},getLastSegment:function(){var t=this.getLastChild();return t&&t.getLastSegment()},getCurves:function(){for(var t=this._children,e=[],n=0,r=t.length;n<r;n++)e.push.apply(e,t[n].getCurves());return e},getFirstCurve:function(){var t=this.getFirstChild();return t&&t.getFirstCurve()},getLastCurve:function(){var t=this.getLastChild();return t&&t.getLastCurve()},getArea:function(){for(var t=this._children,e=0,n=0,r=t.length;n<r;n++)e+=t[n].getArea();return e},getLength:function(){for(var t=this._children,e=0,n=0,r=t.length;n<r;n++)e+=t[n].getLength();return e},getPathData:function(t,e){for(var n=this._children,r=[],i=0,o=n.length;i<o;i++){var a=n[i],s=a._matrix;r.push(a.getPathData(t&&!s.isIdentity()?t.appended(s):t,e))}return r.join("")},_hitTestChildren:function t(e,n,r){return t.base.call(this,e,n.class===F||"path"===n.type?n:f.set({},n,{fill:!1}),r)},_draw:function(t,e,n,r){var i=this._children;if(i.length){e=e.extend({dontStart:!0,dontFinish:!0}),t.beginPath();for(var o=0,a=i.length;o<a;o++)i[o].draw(t,e,r);if(!e.clip){this._setStyles(t,e,n);var s=this._style;s.hasFill()&&(t.fill(s.getFillRule()),t.shadowColor="rgba(0,0,0,0)"),s.hasStroke()&&t.stroke()}}},_drawSelected:function(t,e,n){for(var r=this._children,i=0,o=r.length;i<o;i++){var a=r[i],s=a._matrix;n[a._id]||a._drawSelected(t,s.isIdentity()?e:e.appended(s))}}},new function(){function t(t,e){var n=t._children;if(e&&!n.length)throw new Error("Use a moveTo() command first");return n[n.length-1]}return f.each(["lineTo","cubicCurveTo","quadraticCurveTo","curveTo","arcTo","lineBy","cubicCurveBy","quadraticCurveBy","curveBy","arcBy"],function(e){this[e]=function(){var n=t(this,!0);n[e].apply(n,arguments)}},{moveTo:function(){var e=t(this),n=e&&e.isEmpty()?e:new F(S.NO_INSERT);n!==e&&this.addChild(n),n.moveTo.apply(n,arguments)},moveBy:function(){var e=t(this,!0),n=e&&e.getLastSegment(),r=v.read(arguments);this.moveTo(n?r.add(n._point):r)},closePath:function(e){t(this,!0).closePath(e)}})},f.each(["reverse","flatten","simplify","smooth"],function(t){this[t]=function(e){for(var n,r=this._children,i=0,o=r.length;i<o;i++)n=r[i][t](e)||n;return n}},{}));L.inject(new function(){function t(t,e){var n=t.clone(!1).reduce({simplify:!0}).transform(null,!0,!0);return e?n.resolveCrossings().reorient("nonzero"===n.getFillRule(),!0):n}function e(t,e,n,r,i){var o=new q(S.NO_INSERT);return o.addChildren(t,!0),o=o.reduce({simplify:e}),i&&0==i.insert||o.insertAbove(r&&n.isSibling(r)&&n.getIndex()<r.getIndex()?r:n),o.copyAttributes(n,!0),o}function n(n,i,o,s){function c(t){for(var e=0,n=t.length;e<n;e++){var r=t[e];w.push.apply(w,r._segments),b.push.apply(b,r.getCurves()),r._overlapsOnly=!0}}if(s&&(0==s.trace||s.stroke)&&/^(subtract|intersect)$/.test(o))return r(n,i,o);var f=t(n,!0),p=i&&n!==i&&t(i,!0),d=v[o];d[o]=!0,p&&(d.subtract||d.exclude)^p.isClockwise()^f.isClockwise()&&p.reverse();var m,g=u(R.expand(f.getCrossings(p))),y=f._children||[f],x=p&&(p._children||[p]),w=[],b=[];if(g.length){c(y),x&&c(x);for(var _=0,N=g.length;_<N;_++)l(g[_]._segment,f,p,b,d);for(var _=0,N=w.length;_<N;_++){var E=w[_],M=E._intersection;E._winding||l(E,f,p,b,d),M&&M._overlap||(E._path._overlapsOnly=!1)}m=h(w,d)}else m=a(x?y.concat(x):y.slice(),function(t){return!!d[t]});return e(m,!0,n,i,s)}function r(n,r,i){function o(t){if(!l[t._id]&&(f||s.contains(t.getPointAt(t.getLength()/2))^c))return h.unshift(t),l[t._id]=!0}for(var a=t(n),s=t(r),u=a.getCrossings(s),c="subtract"===i,f="divide"===i,l={},h=[],p=u.length-1;p>=0;p--){var d=u[p].split();d&&(o(d)&&d.getFirstSegment().setHandleIn(0,0),a.getLastSegment().setHandleOut(0,0))}return o(a),e(h,!1,n,r)}function i(t,e){for(var n=t;n;){if(n===e)return;n=n._previous}for(;t._next&&t._next!==e;)t=t._next;if(!t._next){for(;e._previous;)e=e._previous;t._next=e,e._previous=t}}function o(t){for(var e=t.length-1;e>=0;e--)t[e].clearHandles()}function a(t,e,n){var r=t&&t.length;if(r){var i=f.each(t,function(t,e){this[t._id]={container:null,winding:t.isClockwise()?1:-1,index:e}},{}),o=t.slice().sort(function(t,e){return g(e.getArea())-g(t.getArea())}),a=o[0];null==n&&(n=a.isClockwise());for(var s=0;s<r;s++){for(var u=o[s],c=i[u._id],l=u.getInteriorPoint(),h=0,p=s-1;p>=0;p--){var d=o[p];if(d.contains(l)){var m=i[d._id];h=m.winding,c.winding+=h,c.container=m.exclude?m.container:d;break}}if(e(c.winding)===e(h))c.exclude=!0,t[c.index]=null;else{var v=c.container;u.setClockwise(v?!v.isClockwise():n)}}}return t}function u(t,e,n){function r(t){return t._path._id+"."+t._segment1._index}for(var a,s,u,c=e&&[],f=!1,l=n||[],h=n&&{},p=(n&&n.length)-1;p>=0;p--){var d=n[p];d._path&&(h[r(d)]=!0)}for(var p=t.length-1;p>=0;p--){var m,g=t[p],v=g._time,y=v,x=e&&!e(g),d=g._curve;if(d&&(d!==s?(f=!d.hasHandles()||h&&h[r(d)],a=[],u=null,s=d):u>=1e-8&&(v/=u)),x)a&&a.push(g);else{if(e&&c.unshift(g),u=y,v<1e-8)m=d._segment1;else if(v>1-1e-8)m=d._segment2;else{var w=d.divideAtTime(v,!0);f&&l.push(d,w),m=w._segment1;for(var b=a.length-1;b>=0;b--){var _=a[b];_._time=(_._time-v)/(1-v)}}g._setSegment(m);var N=m._intersection,E=g._intersection;if(N){i(N,E);for(var M=N;M;)i(M._intersection,N),M=M._next}else m._intersection=E}}return n||o(l),c||t}function c(t,e,n,r,i){function o(o){var a=o[l+0],u=o[l+6];if(!(v<p(a,u)||v>d(a,u))){var h=o[f+0],g=o[f+2],b=o[f+4],_=o[f+6];if(a===u)return void((h<w&&_>x||_<w&&h>x)&&(M=!0));var S=v===a?0:v===u?1:x>d(h,g,b,_)||w<p(h,g,b,_)?1:j.solveCubic(o,l,v,O,0,1)>0?O[0]:1,C=0===S?h:1===S?_:j.getPoint(o,S)[n?"y":"x"],T=a>u?1:-1,P=s[l]>s[l+6]?1:-1,z=s[f+6];return v!==a?(C<x?N+=T:C>w?E+=T:M=!0,C>m-y&&C<m+y&&(A/=2)):(T!==P?h<x?N+=T:h>w&&(E+=T):h!=z&&(z<w&&C>w?(E+=T,M=!0):z>x&&C<x&&(N+=T,M=!0)),A=0),s=o,!i&&C>x&&C<w&&0===j.getTangent(o,S)[n?"x":"y"]&&c(t,e,!n,r,!0)}}function a(t){var e=t[l+0],r=t[l+2],i=t[l+4],a=t[l+6];if(v<=d(e,r,i,a)&&v>=p(e,r,i,a))for(var s,u=t[f+0],c=t[f+2],h=t[f+4],m=t[f+6],g=x>d(u,c,h,m)||w<p(u,c,h,m)?[t]:j.getMonoCurves(t,n),y=0,b=g.length;y<b;y++)if(s=o(g[y]))return s}for(var s,u,f=n?1:0,l=1^f,h=[t.x,t.y],m=h[f],v=h[l],y=1e-6,x=m-1e-9,w=m+1e-9,b=0,_=0,N=0,E=0,M=!1,S=!1,A=1,O=[],C=0,T=e.length;C<T;C++){var P,z=e[C],k=z._path,I=z.getValues();if(!(C&&e[C-1]._path===k||(s=null,k._closed||(u=j.getValues(k.getLastCurve().getSegment2(),z.getSegment1(),null,!r),u[l]!==u[l+6]&&(s=u)),s))){s=I;for(var B=k.getLastCurve();B&&B!==z;){var R=B.getValues();if(R[l]!==R[l+6]){s=R;break}B=B.getPrevious()}}if(P=a(I))return P;if(C+1===T||e[C+1]._path!==k){if(u&&(P=a(u)))return P;!M||N||E||(N=E=k.isClockwise(r)^n?1:-1),b+=N,_+=E,N=E=0,M&&(S=!0,M=!1),u=null}}return b=g(b),_=g(_),{winding:d(b,_),windingL:b,windingR:_,quality:A,onPath:S}}function l(t,e,n,r,i){var o,a=[],s=t,u=0;do{var f=t.getCurve(),l=f.getLength();a.push({segment:t,curve:f,length:l}),u+=l,t=t.getNext()}while(t&&!t._intersection&&t!==s);for(var h=[.5,.25,.75],o={winding:0,quality:-1},p=0;p<h.length&&o.quality<.5;p++)for(var l=u*h[p],d=0,v=a.length;d<v;d++){var y=a[d],x=y.length;if(l<=x){var f=y.curve,w=f._path,b=w._parent,_=b instanceof q?b:w,N=m.clamp(f.getTimeAt(l),1e-8,1-1e-8),E=f.getPointAtTime(N),M=g(f.getTangentAtTime(N).y)<Math.SQRT1_2,S=i.subtract&&n&&(_===e&&n._getWinding(E,M,!0).winding||_===n&&!e._getWinding(E,M,!0).winding)?{winding:0,quality:1}:c(E,r,M,!0);S.quality>o.quality&&(o=S);break}l-=x}for(var d=a.length-1;d>=0;d--)a[d].segment._winding=o}function h(t,e){function n(t){var n;return!(!t||t._visited||e&&(!e[(n=t._winding||{}).winding]||e.unite&&2===n.winding&&n.windingL&&n.windingR))}function r(t){if(t)for(var e=0,n=o.length;e<n;e++)if(t===o[e])return!0;return!1}function i(t){for(var e=t._segments,n=0,r=e.length;n<r;n++)e[n]._visited=!0}var o,a=[];t.sort(function(t,e){var n=t._intersection,r=e._intersection,i=!(!n||!n._overlap),o=!(!r||!r._overlap),a=t._path,s=e._path;return i^o?i?1:-1:!n^!r?n?1:-1:a!==s?a._id-s._id:t._index-e._index});for(var s=0,u=t.length;s<u;s++){var c,f,l,h=t[s],p=n(h),d=null,m=!1,g=!0,v=[];if(p&&h._path._overlapsOnly){var y=h._path,x=h._intersection._segment._path;y.compare(x)&&(y.getArea()&&a.push(y.clone(!1)),i(y),i(x),p=!1)}for(;p;){var w=!d,b=function(t,e){function i(i,a){for(;i&&i!==a;){var s=i._segment,c=s._path,f=s.getNext()||c&&c.getFirstSegment(),l=f&&f._intersection;s!==t&&(r(s)||r(f)||f&&n(s)&&(n(f)||l&&n(l._segment)))&&u.push(s),e&&o.push(s),i=i._next}}var a=t._intersection,s=a,u=[];if(e&&(o=[t]),a){for(i(a);a&&a._prev;)a=a._prev;i(a,s)}return u}(h,w),_=b.shift(),m=!w&&(r(h)||r(_)),N=!m&&_;if(w&&(d=new F(S.NO_INSERT),c=null),m){(h.isFirst()||h.isLast())&&(g=h._path._closed),h._visited=!0;break}if(N&&c&&(v.push(c),c=null),c||(N&&b.push(h),c={start:d._segments.length,crossings:b,visited:f=[],handleIn:l}),N&&(h=_),!n(h)){d.removeSegments(c.start);for(var E=0,M=f.length;E<M;E++)f[E]._visited=!1;f.length=0;do{(h=c&&c.crossings.shift())||(c=v.pop())&&(f=c.visited,l=c.handleIn)}while(c&&!n(h));if(!h)break}var A=h.getNext();d.add(new I(h._point,l,A&&h._handleOut)),h._visited=!0,f.push(h),h=A||h._path.getFirstSegment(),l=A&&A._handleIn}m&&(g&&(d.firstSegment.setHandleIn(l),d.setClosed(g)),0!==d.getArea()&&a.push(d))}return a}var p=Math.min,d=Math.max,g=Math.abs,v={unite:{1:!0,2:!0},intersect:{2:!0},subtract:{1:!0},exclude:{1:!0,"-1":!0}};return{_getWinding:function(t,e,n){return c(t,this.getCurves(),e,n)},unite:function(t,e){return n(this,t,"unite",e)},intersect:function(t,e){return n(this,t,"intersect",e)},subtract:function(t,e){return n(this,t,"subtract",e)},exclude:function(t,e){return n(this,t,"exclude",e)},divide:function(t,n){return n&&(0==n.trace||n.stroke)?r(this,t,"divide"):e([this.subtract(t,n),this.intersect(t,n)],!0,this,t,n)},resolveCrossings:function(){function t(t){var e=t&&t._intersection;return e&&e._overlap}var e=this._children,n=e||[this],r=!1,i=!1,a=this.getIntersections(null,function(t){return t.hasOverlap()&&(r=!0)||t.isCrossing()&&(i=!0)}),s=r&&i&&[];if(a=R.expand(a),r)for(var c=u(a,function(t){return t.hasOverlap()},s),l=c.length-1;l>=0;l--){var p=c[l]._segment,d=p.getPrevious(),m=p.getNext();t(d)&&t(m)&&(p.remove(),d._handleOut._set(0,0),m._handleIn._set(0,0),d===p||d.getCurve().hasLength()||(m._handleIn.set(d._handleIn),d.remove()))}i&&(u(a,r&&function(t){var e=t.getCurve(),n=t.getSegment(),r=t._intersection,i=r._curve,o=r._segment;if(e&&i&&e._path&&i._path)return!0;n&&(n._intersection=null),o&&(o._intersection=null)},s),s&&o(s),n=h(f.each(n,function(t){this.push.apply(this,t._segments)},[])));var g,v=n.length;return v>1&&e?(n!==e&&this.setChildren(n),g=this):1!==v||e||(n[0]!==this&&this.setSegments(n[0].removeSegments()),g=this),g||(g=new q(S.NO_INSERT),g.addChildren(n),g=g.reduce(),g.copyAttributes(this),this.replaceWith(g)),g},reorient:function(t,e){var n=this._children;return n&&n.length?this.setChildren(a(this.removeChildren(),function(e){return!!(t?e:1&e)},e)):e!==s&&this.setClockwise(e),this},getInteriorPoint:function(){var t=this.getBounds(),e=t.getCenter(!0);if(!this.contains(e)){for(var n=this.getCurves(),r=e.y,i=[],o=[],a=0,s=n.length;a<s;a++){var u=n[a].getValues(),c=u[1],f=u[3],l=u[5],h=u[7];if(r>=p(c,f,l,h)&&r<=d(c,f,l,h))for(var m=j.getMonoCurves(u),g=0,v=m.length;g<v;g++){var y=m[g],x=y[1],w=y[7];if(x!==w&&(r>=x&&r<=w||r>=w&&r<=x)){var b=r===x?y[0]:r===w?y[6]:1===j.solveCubic(y,1,r,o,0,1)?j.getPoint(y,o[0]).x:(y[0]+y[6])/2;i.push(b)}}}i.length>1&&(i.sort(function(t,e){return t-e}),e.x=(i[0]+i[1])/2)}return e}}});var U=f.extend({_class:"PathFlattener",initialize:function(t,e,n,r,i){function o(t,e){var n=j.getValues(t,e,i);u.push(n),a(n,t._index,0,1)}function a(t,n,i,o){if(!(o-i>l)||r&&j.isStraight(t)||j.isFlatEnough(t,e||.25)){var s=t[6]-t[0],u=t[7]-t[1],h=Math.sqrt(s*s+u*u);h>0&&(f+=h,c.push({offset:f,curve:t,index:n,time:o}))}else{var p=j.subdivide(t,.5),d=(i+o)/2;a(p[0],n,i,d),a(p[1],n,d,o)}}for(var s,u=[],c=[],f=0,l=1/(n||32),h=t._segments,p=h[0],d=1,m=h.length;d<m;d++)s=h[d],o(p,s),p=s;t._closed&&o(s,h[0]),this.curves=u,this.parts=c,this.length=f,this.index=0},_get:function(t){for(var e,n=this.parts,r=n.length,i=this.index;e=i,i&&!(n[--i].offset<t););for(;e<r;e++){var o=n[e];if(o.offset>=t){this.index=e;var a=n[e-1],s=a&&a.index===o.index?a.time:0,u=a?a.offset:0;return{index:o.index,time:s+(o.time-s)*(t-u)/(o.offset-u)}}}return{index:n[r-1].index,time:1}},drawPart:function(t,e,n){for(var r=this._get(e),i=this._get(n),o=r.index,a=i.index;o<=a;o++){var s=j.getPart(this.curves[o],o===r.index?r.time:0,o===i.index?i.time:1);o===r.index&&t.moveTo(s[0],s[1]),t.bezierCurveTo.apply(t,s.slice(2))}}},f.each(j._evaluateMethods,function(t){this[t+"At"]=function(e){var n=this._get(e);return j[t](this.curves[n.index],n.time)}},{})),D=f.extend({initialize:function(t){for(var e,n=this.points=[],r=t._segments,i=t._closed,o=0,a=r.length;o<a;o++){var s=r[o].point;e&&e.equals(s)||n.push(e=s.clone())}i&&(n.unshift(n[n.length-1]),n.push(n[1])),this.closed=i},fit:function(t){var e=this.points,n=e.length,r=null;return n>0&&(r=[new I(e[0])],n>1&&(this.fitCubic(r,t,0,n-1,e[1].subtract(e[0]),e[n-2].subtract(e[n-1])),this.closed&&(r.shift(),r.pop()))),r},fitCubic:function(t,e,n,r,i,o){var a=this.points;if(r-n==1){var s=a[n],u=a[r],c=s.getDistance(u)/3;return void this.addCurve(t,[s,s.add(i.normalize(c)),u.add(o.normalize(c)),u])}for(var f,l=this.chordLengthParameterize(n,r),h=Math.max(e,e*e),p=!0,d=0;d<=4;d++){var m=this.generateBezier(n,r,l,i,o),g=this.findMaxError(n,r,m,l);if(g.error<e&&p)return void this.addCurve(t,m);if(f=g.index,g.error>=h)break;p=this.reparameterize(n,r,l,m),h=g.error}var v=a[f-1].subtract(a[f+1]);this.fitCubic(t,e,n,f,i,v),this.fitCubic(t,e,f,r,v.negate(),o)},addCurve:function(t,e){t[t.length-1].setHandleOut(e[1].subtract(e[0])),t.push(new I(e[3],e[2].subtract(e[3])))},generateBezier:function(t,e,n,r,i){for(var o=Math.abs,a=this.points,s=a[t],u=a[e],c=[[0,0],[0,0]],f=[0,0],l=0,h=e-t+1;l<h;l++){var p=n[l],d=1-p,m=3*p*d,g=d*d*d,v=m*d,y=m*p,x=p*p*p,w=r.normalize(v),b=i.normalize(y),_=a[t+l].subtract(s.multiply(g+v)).subtract(u.multiply(y+x));c[0][0]+=w.dot(w),c[0][1]+=w.dot(b),c[1][0]=c[0][1],c[1][1]+=b.dot(b),f[0]+=w.dot(_),f[1]+=b.dot(_)}var N,E,M=c[0][0]*c[1][1]-c[1][0]*c[0][1];if(o(M)>1e-12){var S=c[0][0]*f[1]-c[1][0]*f[0];N=(f[0]*c[1][1]-f[1]*c[0][1])/M,E=S/M}else{var A=c[0][0]+c[0][1],O=c[1][0]+c[1][1];N=E=o(A)>1e-12?f[0]/A:o(O)>1e-12?f[1]/O:0}var C,T,P=u.getDistance(s),z=1e-12*P;if(N<z||E<z)N=E=P/3;else{var k=u.subtract(s);C=r.normalize(N),T=i.normalize(E),C.dot(k)-T.dot(k)>P*P&&(N=E=P/3,C=T=null)}return[s,s.add(C||r.normalize(N)),u.add(T||i.normalize(E)),u]},reparameterize:function(t,e,n,r){for(var i=t;i<=e;i++)n[i-t]=this.findRoot(r,this.points[i],n[i-t]);for(var i=1,o=n.length;i<o;i++)if(n[i]<=n[i-1])return!1;return!0},findRoot:function(t,e,n){for(var r=[],i=[],o=0;o<=2;o++)r[o]=t[o+1].subtract(t[o]).multiply(3);for(var o=0;o<=1;o++)i[o]=r[o+1].subtract(r[o]).multiply(2);var a=this.evaluate(3,t,n),s=this.evaluate(2,r,n),u=this.evaluate(1,i,n),c=a.subtract(e),f=s.dot(s)+c.dot(u);return m.isZero(f)?n:n-c.dot(s)/f},evaluate:function(t,e,n){for(var r=e.slice(),i=1;i<=t;i++)for(var o=0;o<=t-i;o++)r[o]=r[o].multiply(1-n).add(r[o+1].multiply(n));return r[0]},chordLengthParameterize:function(t,e){for(var n=[0],r=t+1;r<=e;r++)n[r-t]=n[r-t-1]+this.points[r].getDistance(this.points[r-1]);for(var r=1,i=e-t;r<=i;r++)n[r]/=n[i];return n},findMaxError:function(t,e,n,r){for(var i=Math.floor((e-t+1)/2),o=0,a=t+1;a<e;a++){var s=this.evaluate(3,n,r[a-t]),u=s.subtract(this.points[a]),c=u.x*u.x+u.y*u.y;c>=o&&(o=c,i=a)}return{error:o,index:i}}}),V=S.extend({_class:"TextItem",_applyMatrix:!1,_canApplyMatrix:!1,_serializeFields:{content:null},_boundsOptions:{stroke:!1,handle:!1},initialize:function(t){this._content="",this._lines=[];var e=t&&f.isPlainObject(t)&&t.x===s&&t.y===s;this._initialize(e&&t,!e&&v.read(arguments))},_equals:function(t){return this._content===t._content},copyContent:function(t){this.setContent(t._content)},getContent:function(){return this._content},setContent:function(t){this._content=""+t,this._lines=this._content.split(/\r\n|\n|\r/gm),this._changed(265)},isEmpty:function(){return!this._content},getCharacterStyle:"#getStyle",setCharacterStyle:"#setStyle",getParagraphStyle:"#getStyle",setParagraphStyle:"#setStyle"}),H=V.extend({_class:"PointText",initialize:function(){V.apply(this,arguments)},getPoint:function(){var t=this._matrix.getTranslation();return new y(t.x,t.y,this,"setPoint")},setPoint:function(){var t=v.read(arguments);this.translate(t.subtract(this._matrix.getTranslation()))},_draw:function(t,e,n){if(this._content){this._setStyles(t,e,n);var r=this._lines,i=this._style,o=i.hasFill(),a=i.hasStroke(),s=i.getLeading(),u=t.shadowColor;t.font=i.getFontStyle(),t.textAlign=i.getJustification();for(var c=0,f=r.length;c<f;c++){t.shadowColor=u;var l=r[c];o&&(t.fillText(l,0,0),t.shadowColor="rgba(0,0,0,0)"),a&&t.strokeText(l,0,0),t.translate(0,s)}}},_getBounds:function(t,e){var n=this._style,r=this._lines,i=r.length,o=n.getJustification(),a=n.getLeading(),s=this.getView().getTextWidth(n.getFontStyle(),r),u=0;"left"!==o&&(u-=s/("center"===o?2:1));var c=new b(u,i?-.75*a:0,s,i*a);return t?t._transformBounds(c,c):c}}),$=f.extend(new function(){function t(t){var n,r=t.match(/^#(\w{1,2})(\w{1,2})(\w{1,2})$/);if(r){n=[0,0,0];for(var o=0;o<3;o++){var a=r[o+1];n[o]=parseInt(1==a.length?a+a:a,16)/255}}else if(r=t.match(/^rgba?\((.*)\)$/)){n=r[1].split(",");for(var o=0,s=n.length;o<s;o++){var a=+n[o];n[o]=o<3?a/255:a}}else if(u){var c=i[t];if(!c){e||(e=ot.getContext(1,1),e.globalCompositeOperation="copy"),e.fillStyle="rgba(0,0,0,0)",e.fillStyle=t,e.fillRect(0,0,1,1);var f=e.getImageData(0,0,1,1).data;c=i[t]=[f[0]/255,f[1]/255,f[2]/255]}n=c.slice()}else n=[0,0,0];return n}var e,n={gray:["gray"],rgb:["red","green","blue"],hsb:["hue","saturation","brightness"],hsl:["hue","saturation","lightness"],gradient:["gradient","origin","destination","highlight"]},r={},i={},o=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]],a={"rgb-hsb":function(t,e,n){var r=Math.max(t,e,n),i=Math.min(t,e,n),o=r-i;return[0===o?0:60*(r==t?(e-n)/o+(e<n?6:0):r==e?(n-t)/o+2:(t-e)/o+4),0===r?0:o/r,r]},"hsb-rgb":function(t,e,n){t=(t/60%6+6)%6;var r=Math.floor(t),i=t-r,r=o[r],a=[n,n*(1-e),n*(1-e*i),n*(1-e*(1-i))];return[a[r[0]],a[r[1]],a[r[2]]]},"rgb-hsl":function(t,e,n){var r=Math.max(t,e,n),i=Math.min(t,e,n),o=r-i,a=0===o,s=a?0:60*(r==t?(e-n)/o+(e<n?6:0):r==e?(n-t)/o+2:(t-e)/o+4),u=(r+i)/2;return[s,a?0:u<.5?o/(r+i):o/(2-r-i),u]},"hsl-rgb":function(t,e,n){if(t=(t/360%1+1)%1,0===e)return[n,n,n];for(var r=[t+1/3,t,t-1/3],i=n<.5?n*(1+e):n+e-n*e,o=2*n-i,a=[],s=0;s<3;s++){var u=r[s];u<0&&(u+=1),u>1&&(u-=1),a[s]=6*u<1?o+6*(i-o)*u:2*u<1?i:3*u<2?o+(i-o)*(2/3-u)*6:o}return a},"rgb-gray":function(t,e,n){return[.2989*t+.587*e+.114*n]},"gray-rgb":function(t){return[t,t,t]},"gray-hsb":function(t){return[0,0,t]},"gray-hsl":function(t){return[0,0,t]},"gradient-rgb":function(){return[]},"rgb-gradient":function(){return[]}};return f.each(n,function(t,e){r[e]=[],f.each(t,function(t,i){var o=f.capitalize(t),a=/^(hue|saturation)$/.test(t),s=r[e][i]="gradient"===t?function(t){var e=this._components[0];return t=G.read(Array.isArray(t)?t:arguments,0,{readNull:!0}),e!==t&&(e&&e._removeOwner(this),t&&t._addOwner(this)),t}:"gradient"===e?function(){return v.read(arguments,0,{readNull:"highlight"===t,clone:!0})}:function(t){return null==t||isNaN(t)?0:t};this["get"+o]=function(){return this._type===e||a&&/^hs[bl]$/.test(this._type)?this._components[i]:this._convert(e)[i]},this["set"+o]=function(t){this._type===e||a&&/^hs[bl]$/.test(this._type)||(this._components=this._convert(e),this._properties=n[e],this._type=e),this._components[i]=s.call(this,t),this._changed()}},this)},{_class:"Color",_readIndex:!0,initialize:function e(i){var o,a,s,u,c=arguments,l=this.__read,h=0;Array.isArray(i)&&(c=i,i=c[0]);var p=null!=i&&typeof i;if("string"===p&&i in n&&(o=i,i=c[1],Array.isArray(i)?(a=i,s=c[2]):(l&&(h=1),c=f.slice(c,1),p=typeof i)),!a){if(u="number"===p?c:"object"===p&&null!=i.length?i:null){o||(o=u.length>=3?"rgb":"gray");var d=n[o].length;s=u[d],l&&(h+=u===arguments?d+(null!=s?1:0):1),u.length>d&&(u=f.slice(u,0,d))}else if("string"===p)o="rgb",a=t(i),4===a.length&&(s=a[3],a.length--);else if("object"===p)if(i.constructor===e){if(o=i._type,a=i._components.slice(),s=i._alpha,"gradient"===o)for(var m=1,g=a.length;m<g;m++){var v=a[m];v&&(a[m]=v.clone())}}else if(i.constructor===G)o="gradient",u=c;else{o="hue"in i?"lightness"in i?"hsl":"hsb":"gradient"in i||"stops"in i||"radial"in i?"gradient":"gray"in i?"gray":"rgb";var y=n[o],x=r[o];this._components=a=[];for(var m=0,g=y.length;m<g;m++){var w=i[y[m]];null==w&&!m&&"gradient"===o&&"stops"in i&&(w={stops:i.stops,radial:i.radial}),w=x[m].call(this,w),null!=w&&(a[m]=w)}s=i.alpha}l&&o&&(h=1)}if(this._type=o||"rgb",!a){this._components=a=[];for(var x=r[this._type],m=0,g=x.length;m<g;m++){var w=x[m].call(this,u&&u[m]);null!=w&&(a[m]=w)}}return this._components=a,this._properties=n[this._type],this._alpha=s,l&&(this.__read=h),this},set:"#initialize",_serialize:function(t,e){var n=this.getComponents();return f.serialize(/^(gray|rgb)$/.test(this._type)?n:[this._type].concat(n),t,!0,e)},_changed:function(){this._canvasStyle=null,this._owner&&this._owner._changed(65)},_convert:function(t){var e;return this._type===t?this._components.slice():(e=a[this._type+"-"+t])?e.apply(this,this._components):a["rgb-"+t].apply(this,a[this._type+"-rgb"].apply(this,this._components))},convert:function(t){return new $(t,this._convert(t),this._alpha)},getType:function(){return this._type},setType:function(t){this._components=this._convert(t),this._properties=n[t],this._type=t},getComponents:function(){var t=this._components.slice();return null!=this._alpha&&t.push(this._alpha),t},getAlpha:function(){return null!=this._alpha?this._alpha:1},setAlpha:function(t){this._alpha=null==t?null:Math.min(Math.max(t,0),1),this._changed()},hasAlpha:function(){return null!=this._alpha},equals:function(t){var e=f.isPlainValue(t,!0)?$.read(arguments):t;return e===this||e&&this._class===e._class&&this._type===e._type&&this.getAlpha()===e.getAlpha()&&f.equals(this._components,e._components)||!1},toString:function(){for(var t=this._properties,e=[],n="gradient"===this._type,r=d.instance,i=0,o=t.length;i<o;i++){var a=this._components[i];null!=a&&e.push(t[i]+": "+(n?a:r.number(a)))}return null!=this._alpha&&e.push("alpha: "+r.number(this._alpha)),"{ "+e.join(", ")+" }"},toCSS:function(t){function e(t){return Math.round(255*(t<0?0:t>1?1:t))}var n=this._convert("rgb"),r=t||null==this._alpha?1:this._alpha;return n=[e(n[0]),e(n[1]),e(n[2])],r<1&&n.push(r<0?0:r),t?"#"+((1<<24)+(n[0]<<16)+(n[1]<<8)+n[2]).toString(16).slice(1):(4==n.length?"rgba(":"rgb(")+n.join(",")+")"},toCanvasStyle:function(t,e){if(this._canvasStyle)return this._canvasStyle;if("gradient"!==this._type)return this._canvasStyle=this.toCSS();var n,r=this._components,i=r[0],o=i._stops,a=r[1],s=r[2],u=r[3],c=e&&e.inverted();if(c&&(a=c._transformPoint(a),s=c._transformPoint(s),u&&(u=c._transformPoint(u))),i._radial){var f=s.getDistance(a);if(u){var l=u.subtract(a);l.getLength()>f&&(u=a.add(l.normalize(f-.1)))}var h=u||a;n=t.createRadialGradient(h.x,h.y,0,a.x,a.y,f)}else n=t.createLinearGradient(a.x,a.y,s.x,s.y);for(var p=0,d=o.length;p<d;p++){var m=o[p],g=m._offset;n.addColorStop(null==g?p/(d-1):g,m._color.toCanvasStyle())}return this._canvasStyle=n},transform:function(t){if("gradient"===this._type){for(var e=this._components,n=1,r=e.length;n<r;n++){var i=e[n];t._transformPoint(i,i,!0)}this._changed()}},statics:{_types:n,random:function(){var t=Math.random;return new $(t(),t(),t())}}})},new function(){var t={add:function(t,e){return t+e},subtract:function(t,e){return t-e},multiply:function(t,e){return t*e},divide:function(t,e){return t/e}};return f.each(t,function(t,e){this[e]=function(e){e=$.read(arguments);for(var n=this._type,r=this._components,i=e._convert(n),o=0,a=r.length;o<a;o++)i[o]=t(r[o],i[o]);return new $(n,i,null!=this._alpha?t(this._alpha,e.getAlpha()):null)}},{})}),G=f.extend({_class:"Gradient",initialize:function(t,e){this._id=g.get(),t&&f.isPlainObject(t)&&(this.set(t),t=e=null),null==this._stops&&this.setStops(t||["white","black"]),null==this._radial&&this.setRadial("string"==typeof e&&"radial"===e||e||!1)},_serialize:function(t,e){return e.add(this,function(){return f.serialize([this._stops,this._radial],t,!0,e)})},_changed:function(){for(var t=0,e=this._owners&&this._owners.length;t<e;t++)this._owners[t]._changed()},_addOwner:function(t){this._owners||(this._owners=[]),this._owners.push(t)},_removeOwner:function(t){var e=this._owners?this._owners.indexOf(t):-1;-1!=e&&(this._owners.splice(e,1),this._owners.length||(this._owners=s))},clone:function(){for(var t=[],e=0,n=this._stops.length;e<n;e++)t[e]=this._stops[e].clone();return new G(t,this._radial)},getStops:function(){return this._stops},setStops:function(t){if(t.length<2)throw new Error("Gradient stop list needs to contain at least two stops.");var e=this._stops;if(e)for(var n=0,r=e.length;n<r;n++)e[n]._owner=s;e=this._stops=Z.readList(t,0,{clone:!0});for(var n=0,r=e.length;n<r;n++)e[n]._owner=this;this._changed()},getRadial:function(){return this._radial},setRadial:function(t){this._radial=t,this._changed()},equals:function(t){if(t===this)return!0;if(t&&this._class===t._class){var e=this._stops,n=t._stops,r=e.length;if(r===n.length){for(var i=0;i<r;i++)if(!e[i].equals(n[i]))return!1;return!0}}return!1}}),Z=f.extend({_class:"GradientStop",initialize:function(t,e){var n=t,r=e;"object"==typeof t&&e===s&&(Array.isArray(t)&&"number"!=typeof t[0]?(n=t[0],r=t[1]):("color"in t||"offset"in t||"rampPoint"in t)&&(n=t.color,r=t.offset||t.rampPoint||0)),this.setColor(n),this.setOffset(r)},clone:function(){return new Z(this._color.clone(),this._offset)},_serialize:function(t,e){var n=this._color,r=this._offset;return f.serialize(null==r?[n]:[n,r],t,!0,e)},_changed:function(){this._owner&&this._owner._changed(65)},getOffset:function(){return this._offset},setOffset:function(t){this._offset=t,this._changed()},getRampPoint:"#getOffset",setRampPoint:"#setOffset",getColor:function(){return this._color},setColor:function(){var t=$.read(arguments,0,{clone:!0});t&&(t._owner=this),this._color=t,this._changed()},equals:function(t){return t===this||t&&this._class===t._class&&this._color.equals(t._color)&&this._offset==t._offset||!1}}),W=f.extend(new function(){var t={fillColor:null,fillRule:"nonzero",strokeColor:null,strokeWidth:1,strokeCap:"butt",strokeJoin:"miter",strokeScaling:!0,miterLimit:10,dashOffset:0,dashArray:[],shadowColor:null,shadowBlur:0,shadowOffset:new v,selectedColor:null},e=f.set({},t,{fontFamily:"sans-serif",fontWeight:"normal",fontSize:12,leading:null,justification:"left"}),n=f.set({},e,{fillColor:new $}),r={strokeWidth:97,strokeCap:97,strokeJoin:97,strokeScaling:105,miterLimit:97,fontFamily:9,fontWeight:9,fontSize:9,font:9,leading:9,justification:9},i={beans:!0},a={_class:"Style",beans:!0,initialize:function(r,i,a){this._values={},this._owner=i,this._project=i&&i._project||a||o.project,this._defaults=!i||i instanceof A?e:i instanceof V?n:t,r&&this.set(r)}};return f.each(e,function(t,e){var n=/Color$/.test(e),o="shadowOffset"===e,u=f.capitalize(e),c=r[e],l="set"+u,h="get"+u;a[l]=function(t){var r=this._owner,i=r&&r._children;if(i&&i.length>0&&!(r instanceof q))for(var o=0,a=i.length;o<a;o++)i[o]._style[l](t);else if(e in this._defaults){var u=this._values[e];u!==t&&(n&&(u&&u._owner!==s&&(u._owner=s),t&&t.constructor===$&&(t._owner&&(t=t.clone()),t._owner=r)),this._values[e]=t,r&&r._changed(c||65))}},a[h]=function(t){var r,i=this._owner,a=i&&i._children;if(e in this._defaults&&(!a||!a.length||t||i instanceof q)){var r=this._values[e];if(r===s)(r=this._defaults[e])&&r.clone&&(r=r.clone());else{var u=n?$:o?v:null;!u||r&&r.constructor===u||(this._values[e]=r=u.read([r],0,{readNull:!0,clone:!0}),r&&n&&(r._owner=i))}}else if(a)for(var c=0,l=a.length;c<l;c++){var p=a[c]._style[h]();if(c){if(!f.equals(r,p))return s}else r=p}return r},i[h]=function(t){return this._style[h](t)},i[l]=function(t){this._style[l](t)}}),f.each({Font:"FontFamily",WindingRule:"FillRule"},function(t,e){var n="get"+e,r="set"+e;a[n]=i[n]="#get"+t,a[r]=i[r]="#set"+t}),S.inject(i),a},{set:function(t){var e=t instanceof W,n=e?t._values:t;if(n)for(var r in n)if(r in this._defaults){var i=n[r];this[r]=i&&e&&i.clone?i.clone():i}},equals:function(t){function e(t,e,n){var r=t._values,i=e._values,o=e._defaults;for(var a in r){var u=r[a],c=i[a];if(!(n&&a in i||f.equals(u,c===s?o[a]:c)))return!1}return!0}return t===this||t&&this._class===t._class&&e(this,t)&&e(t,this,!0)||!1},hasFill:function(){var t=this.getFillColor();return!!t&&t.alpha>0},hasStroke:function(){var t=this.getStrokeColor();return!!t&&t.alpha>0&&this.getStrokeWidth()>0},hasShadow:function(){var t=this.getShadowColor();return!!t&&t.alpha>0&&(this.getShadowBlur()>0||!this.getShadowOffset().isZero())},getView:function(){return this._project._view},getFontStyle:function(){var t=this.getFontSize();return this.getFontWeight()+" "+t+(/[a-z]/i.test(t+"")?" ":"px ")+this.getFontFamily()},getFont:"#getFontFamily",setFont:"#setFontFamily",getLeading:function t(){var e=t.base.call(this),n=this.getFontSize();return/pt|em|%|px/.test(n)&&(n=this.getView().getPixelSize(n)),null!=e?e:1.2*n}}),Y=new function(){function t(t,e,n,r){for(var i=["","webkit","moz","Moz","ms","o"],o=e[0].toUpperCase()+e.substring(1),a=0;a<6;a++){var s=i[a],u=s?s+o:e;if(u in t){if(!n)return t[u];t[u]=r;break}}}return{getStyles:function(t){var e=t&&9!==t.nodeType?t.ownerDocument:t,n=e&&e.defaultView;return n&&n.getComputedStyle(t,"")},getBounds:function(t,e){var n,r=t.ownerDocument,i=r.body,o=r.documentElement;try{n=t.getBoundingClientRect()}catch(t){n={left:0,top:0,width:0,height:0}}var a=n.left-(o.clientLeft||i.clientLeft||0),s=n.top-(o.clientTop||i.clientTop||0);if(!e){var u=r.defaultView;a+=u.pageXOffset||o.scrollLeft||i.scrollLeft,s+=u.pageYOffset||o.scrollTop||i.scrollTop}return new b(a,s,n.width,n.height)},getViewportBounds:function(t){var e=t.ownerDocument,n=e.defaultView,r=e.documentElement;return new b(0,0,n.innerWidth||r.clientWidth,n.innerHeight||r.clientHeight)},getOffset:function(t,e){return Y.getBounds(t,e).getPoint()},getSize:function(t){return Y.getBounds(t,!0).getSize()},isInvisible:function(t){return Y.getSize(t).equals(new x(0,0))},isInView:function(t){return!Y.isInvisible(t)&&Y.getViewportBounds(t).intersects(Y.getBounds(t,!0))},isInserted:function(t){return c.body.contains(t)},getPrefixed:function(e,n){return e&&t(e,n)},setPrefixed:function(e,n,r){if("object"==typeof n)for(var i in n)t(e,i,!0,n[i]);else t(e,n,!0,r)}}},J={add:function(t,e){if(t)for(var n in e)for(var r=e[n],i=n.split(/[\s,]+/g),o=0,a=i.length;o<a;o++)t.addEventListener(i[o],r,!1)},remove:function(t,e){if(t)for(var n in e)for(var r=e[n],i=n.split(/[\s,]+/g),o=0,a=i.length;o<a;o++)t.removeEventListener(i[o],r,!1)},getPoint:function(t){var e=t.targetTouches?t.targetTouches.length?t.targetTouches[0]:t.changedTouches[0]:t;return new v(e.pageX||e.clientX+c.documentElement.scrollLeft,e.pageY||e.clientY+c.documentElement.scrollTop)},getTarget:function(t){return t.target||t.srcElement},getRelatedTarget:function(t){return t.relatedTarget||t.toElement},getOffset:function(t,e){return J.getPoint(t).subtract(Y.getOffset(e||J.getTarget(t)))}};J.requestAnimationFrame=new function(){function t(){var e=i;i=[];for(var o=0,a=e.length;o<a;o++)e[o]();(r=n&&i.length)&&n(t)}var e,n=Y.getPrefixed(u,"requestAnimationFrame"),r=!1,i=[];return function(o){i.push(o),n?r||(n(t),r=!0):e||(e=setInterval(t,1e3/60))}};var X=f.extend(l,{_class:"View",initialize:function t(e,n){function r(t){return n[t]||parseInt(n.getAttribute(t),10)}function i(){var t=Y.getSize(n);return t.isNaN()||t.isZero()?new x(r("width"),r("height")):t}var a;if(u&&n){this._id=n.getAttribute("id"),null==this._id&&n.setAttribute("id",this._id="view-"+t._id++),J.add(n,this._viewEvents);if(Y.setPrefixed(n.style,{userDrag:"none",userSelect:"none",touchCallout:"none",contentZooming:"none",tapHighlightColor:"rgba(0,0,0,0)"}),h.hasAttribute(n,"resize")){var s=this;J.add(u,this._windowEvents={resize:function(){s.setViewSize(i())}})}if(a=i(),h.hasAttribute(n,"stats")&&"undefined"!=typeof Stats){this._stats=new Stats;var f=this._stats.domElement,l=f.style,p=Y.getOffset(n);l.position="absolute",l.left=p.x+"px",l.top=p.y+"px",c.body.appendChild(f)}}else a=new x(n),n=null;this._project=e,this._scope=e._scope,this._element=n,this._pixelRatio||(this._pixelRatio=u&&u.devicePixelRatio||1),this._setElementSize(a.width,a.height),this._viewSize=a,t._views.push(this),t._viewsById[this._id]=this,(this._matrix=new N)._owner=this,t._focused||(t._focused=this),this._frameItems={},this._frameItemCount=0,this._itemEvents={native:{},virtual:{}},this._autoUpdate=!o.agent.node,this._needsUpdate=!1},remove:function(){if(!this._project)return!1;X._focused===this&&(X._focused=null),X._views.splice(X._views.indexOf(this),1),delete X._viewsById[this._id];var t=this._project;return t._view===this&&(t._view=null),J.remove(this._element,this._viewEvents),J.remove(u,this._windowEvents),this._element=this._project=null,this.off("frame"),this._animate=!1,this._frameItems={},!0},_events:f.each(S._itemHandlers.concat(["onResize","onKeyDown","onKeyUp"]),function(t){this[t]={}},{onFrame:{install:function(){this.play()},uninstall:function(){this.pause()}}}),_animate:!1,_time:0,_count:0,getAutoUpdate:function(){return this._autoUpdate},setAutoUpdate:function(t){this._autoUpdate=t,t&&this.requestUpdate()},update:function(){},draw:function(){this.update()},requestUpdate:function(){if(!this._requested){var t=this;J.requestAnimationFrame(function(){if(t._requested=!1,t._animate){t.requestUpdate();var e=t._element;Y.getPrefixed(c,"hidden")&&"true"!==h.getAttribute(e,"keepalive")||!Y.isInView(e)||t._handleFrame()}t._autoUpdate&&t.update()}),this._requested=!0}},play:function(){this._animate=!0,this.requestUpdate()},pause:function(){this._animate=!1},_handleFrame:function(){o=this._scope;var t=Date.now()/1e3,e=this._last?t-this._last:0;this._last=t,this.emit("frame",new f({delta:e,time:this._time+=e,count:this._count++})),this._stats&&this._stats.update()},_animateItem:function(t,e){var n=this._frameItems;e?(n[t._id]={item:t,time:0,count:0},1==++this._frameItemCount&&this.on("frame",this._handleFrameItems)):(delete n[t._id],0==--this._frameItemCount&&this.off("frame",this._handleFrameItems))},_handleFrameItems:function(t){for(var e in this._frameItems){var n=this._frameItems[e];n.item.emit("frame",new f(t,{time:n.time+=t.delta,count:n.count++}))}},_changed:function(){this._project._changed(2049),this._bounds=this._decomposed=s},getElement:function(){return this._element},getPixelRatio:function(){return this._pixelRatio},getResolution:function(){return 72*this._pixelRatio},getViewSize:function(){var t=this._viewSize;return new w(t.width,t.height,this,"setViewSize")},setViewSize:function(){var t=x.read(arguments),e=t.subtract(this._viewSize);e.isZero()||(this._setElementSize(t.width,t.height),this._viewSize.set(t),this._changed(),this.emit("resize",{size:t,delta:e}),this._autoUpdate&&this.update())},_setElementSize:function(t,e){var n=this._element;n&&(n.width!==t&&(n.width=t),n.height!==e&&(n.height=e))},getBounds:function(){return this._bounds||(this._bounds=this._matrix.inverted()._transformBounds(new b(new v,this._viewSize))),this._bounds},getSize:function(){return this.getBounds().getSize()},isVisible:function(){return Y.isInView(this._element)},isInserted:function(){return Y.isInserted(this._element)},getPixelSize:function(t){var e,n=this._element;if(n){var r=n.parentNode,i=c.createElement("div");i.style.fontSize=t,r.appendChild(i),e=parseFloat(Y.getStyles(i).fontSize),r.removeChild(i)}else e=parseFloat(e);return e},getTextWidth:function(t,e){return 0}},f.each(["rotate","scale","shear","skew"],function(t){var e="rotate"===t;this[t]=function(){var n=(e?f:v).read(arguments),r=v.read(arguments,0,{readNull:!0});return this.transform((new N)[t](n,r||this.getCenter(!0)))}},{_decompose:function(){return this._decomposed||(this._decomposed=this._matrix.decompose())},translate:function(){var t=new N;return this.transform(t.translate.apply(t,arguments))},getCenter:function(){return this.getBounds().getCenter()},setCenter:function(){var t=v.read(arguments);this.translate(this.getCenter().subtract(t))},getZoom:function(){var t=this._decompose(),e=t&&t.scaling;return e?(e.x+e.y)/2:0},setZoom:function(t){this.transform((new N).scale(t/this.getZoom(),this.getCenter()))},getRotation:function(){var t=this._decompose();return t&&t.rotation},setRotation:function(t){var e=this.getRotation();null!=e&&null!=t&&this.rotate(t-e)},getScaling:function(){var t=this._decompose(),e=t&&t.scaling;return e?new y(e.x,e.y,this,"setScaling"):s},setScaling:function(){var t=this.getScaling(),e=v.read(arguments,0,{clone:!0,readNull:!0});t&&e&&this.scale(e.x/t.x,e.y/t.y)},getMatrix:function(){return this._matrix},setMatrix:function(){var t=this._matrix;t.initialize.apply(t,arguments)},transform:function(t){this._matrix.append(t)},scrollBy:function(){this.translate(v.read(arguments).negate())}}),{projectToView:function(){return this._matrix._transformPoint(v.read(arguments))},viewToProject:function(){return this._matrix._inverseTransform(v.read(arguments))},getEventPoint:function(t){return this.viewToProject(J.getOffset(t,this._element))}},{statics:{_views:[],_viewsById:{},_id:0,create:function(t,e){return c&&"string"==typeof e&&(e=c.getElementById(e)),new(u?Q:X)(t,e)}}},new function(){function t(t){var e=J.getTarget(t);return e.getAttribute&&X._viewsById[e.getAttribute("id")]}function e(){var t=X._focused;if(!t||!t.isVisible())for(var e=0,n=X._views.length;e<n;e++)if((t=X._views[e]).isVisible()){X._focused=s=t;break}}function n(t,e,n){t._handleMouseEvent("mousemove",e,n)}function r(t,e,n,r,i,o,a){function s(t,n){if(t.responds(n)){if(u||(u=new nt(n,r,i,e||t,o?i.subtract(o):null)),t.emit(n,u)&&(A=!0,u.prevented&&(O=!0),u.stopped))return c=!0}else{var a=C[n];if(a)return s(t,a)}}for(var u,c=!1;t&&t!==a&&!s(t,n);)t=t._parent;return c}function i(t,e,n,i,o,a){return t._project.removeOn(n),O=A=!1,N&&r(N,null,n,i,o,a)||e&&e!==N&&!e.isDescendant(N)&&r(e,null,n,i,o,a,N)||r(t,N||e||t,n,i,o,a)}if(u){var a,s,f,l,h,p=!1,d=!1,m=u.navigator;m.pointerEnabled||m.msPointerEnabled?(f="pointerdown MSPointerDown",l="pointermove MSPointerMove",h="pointerup pointercancel MSPointerUp MSPointerCancel"):(f="touchstart",l="touchmove",h="touchend touchcancel","ontouchstart"in u&&m.userAgent.match(/mobile|tablet|ip(ad|hone|od)|android|silk/i)||(f+=" mousedown",l+=" mousemove",h+=" mouseup"));var g={},v={mouseout:function(t){var e=X._focused,r=J.getRelatedTarget(t);if(e&&(!r||"HTML"===r.nodeName)){var i=J.getOffset(t,e._element),o=i.x,a=Math.abs,s=a(o),u=s-(1<<25);i.x=a(u)<s?u*(o<0?-1:1):o,n(e,t,e.viewToProject(i))}},scroll:e};g[f]=function(e){var n=X._focused=t(e);p||(p=!0,n._handleMouseEvent("mousedown",e))},v[l]=function(r){var i=X._focused;if(!d){var o=t(r);o?i!==o&&(i&&n(i,r),a||(a=i),i=X._focused=s=o):s&&s===i&&(a&&!a.isInserted()&&(a=null),i=X._focused=a,a=null,e())}i&&n(i,r)},v[f]=function(){d=!0},v[h]=function(t){var e=X._focused;e&&p&&e._handleMouseEvent("mouseup",t),d=p=!1},J.add(c,v),J.add(u,{load:e});var y,x,w,b,_,N,E,M,S,A=!1,O=!1,C={doubleclick:"click",mousedrag:"mousemove"},T=!1,P={mousedown:{mousedown:1,mousedrag:1,click:1,doubleclick:1},mouseup:{mouseup:1,mousedrag:1,click:1,doubleclick:1},mousemove:{mousedrag:1,mousemove:1,mouseenter:1,mouseleave:1}};return{_viewEvents:g,_handleMouseEvent:function(t,e,n){function o(t){return a.virtual[t]||f.responds(t)||c&&c.responds(t)}var a=this._itemEvents,s=a.native[t],u="mousemove"===t,c=this._scope.tool,f=this;u&&p&&o("mousedrag")&&(t="mousedrag"),n||(n=this.getEventPoint(e));var l=this.getBounds().contains(n),h=s&&l&&f._project.hitTest(n,{tolerance:0,fill:!0,stroke:!0}),d=h&&h.item||null,m=!1,g={};if(g[t.substr(5)]=!0,s&&d!==_&&(_&&r(_,null,"mouseleave",e,n),d&&r(d,null,"mouseenter",e,n),_=d),T^l&&(r(this,null,l?"mouseenter":"mouseleave",e,n),y=l?this:null,m=!0),!l&&!g.drag||n.equals(w)||(i(this,d,u?t:"mousemove",e,n,w),m=!0),T=l,g.down&&l||g.up&&x){if(i(this,d,t,e,n,x),g.down){if(S=d===E&&Date.now()-M<300,b=E=d,!O&&d){for(var v=d;v&&!v.responds("mousedrag");)v=v._parent;v&&(N=d)}x=n}else g.up&&(O||d!==b||(M=Date.now(),i(this,d,S?"doubleclick":"click",e,n,x),S=!1),b=N=null);T=!1,m=!0}w=n,m&&c&&(A=c._handleMouseEvent(t,e,n,g)||A),(A&&!g.move||g.down&&o("mouseup"))&&e.preventDefault()},_handleKeyEvent:function(t,e,n,r){function i(i){i.responds(t)&&(o=s,i.emit(t,a=a||new tt(t,e,n,r)))}var a,s=this._scope,u=s.tool;this.isVisible()&&(i(this),u&&u.responds(t)&&i(u))},_countItemEvent:function(t,e){var n=this._itemEvents,r=n.native,i=n.virtual;for(var o in P)r[o]=(r[o]||0)+(P[o][t]||0)*e;i[t]=(i[t]||0)+e},statics:{updateFocus:e}}}}),Q=X.extend({_class:"CanvasView",initialize:function(t,e){if(!(e instanceof u.HTMLCanvasElement)){var n=x.read(arguments,1);if(n.isZero())throw new Error("Cannot create CanvasView with the provided argument: "+f.slice(arguments,1));e=ot.getCanvas(n)}var r=this._context=e.getContext("2d");if(r.save(),this._pixelRatio=1,!/^off|false$/.test(h.getAttribute(e,"hidpi"))){var i=u.devicePixelRatio||1,o=Y.getPrefixed(r,"backingStorePixelRatio")||1;this._pixelRatio=i/o}X.call(this,t,e),this._needsUpdate=!0},remove:function t(){return this._context.restore(),t.base.call(this)},_setElementSize:function t(e,n){var r=this._pixelRatio;if(t.base.call(this,e*r,n*r),1!==r){var i=this._element,o=this._context;if(!h.hasAttribute(i,"resize")){var a=i.style;a.width=e+"px",a.height=n+"px"}o.restore(),o.save(),o.scale(r,r)}},getPixelSize:function t(e){var n,r=o.agent;if(r&&r.firefox)n=t.base.call(this,e);else{var i=this._context,a=i.font;i.font=e+" serif",n=parseFloat(i.font),i.font=a}return n},getTextWidth:function(t,e){var n=this._context,r=n.font,i=0;n.font=t;for(var o=0,a=e.length;o<a;o++)i=Math.max(i,n.measureText(e[o]).width);return n.font=r,i},update:function(){if(!this._needsUpdate)return!1;var t=this._project,e=this._context,n=this._viewSize;return e.clearRect(0,0,n.width+1,n.height+1),t&&t.draw(e,this._matrix,this._pixelRatio),this._needsUpdate=!1,!0}}),K=f.extend({_class:"Event",initialize:function(t){this.event=t,this.type=t&&t.type},prevented:!1,stopped:!1,preventDefault:function(){this.prevented=!0,this.event.preventDefault()},stopPropagation:function(){this.stopped=!0,this.event.stopPropagation()},stop:function(){this.stopPropagation(),this.preventDefault()},getTimeStamp:function(){return this.event.timeStamp},getModifiers:function(){return et.modifiers}}),tt=K.extend({_class:"KeyEvent",initialize:function(t,e,n,r){this.type=t,this.event=e,this.key=n,this.character=r},toString:function(){return"{ type: '"+this.type+"', key: '"+this.key+"', character: '"+this.character+"', modifiers: "+this.getModifiers()+" }"}}),et=new function(){function t(t){var e=t.key||t.keyIdentifier;return e=/^U\+/.test(e)?String.fromCharCode(parseInt(e.substr(2),16)):/^Arrow[A-Z]/.test(e)?e.substr(5):"Unidentified"===e?String.fromCharCode(t.keyCode):e,i[e]||(e.length>1?f.hyphenate(e):e.toLowerCase())}function e(t,r,i,a){var u,c=X._focused;if(s[r]=t,t?l[r]=i:delete l[r],r.length>1&&(u=f.camelize(r))in h){h[u]=t;var p=o&&o.agent;if("meta"===u&&p&&p.mac)if(t)n={};else{for(var d in n)d in l&&e(!1,d,n[d],a);n=null}}else t&&n&&(n[r]=i);c&&c._handleKeyEvent(t?"keydown":"keyup",a,r,i)}var n,r,i={"\t":"tab"," ":"space","\b":"backspace","":"delete",Spacebar:"space",Del:"delete",Win:"meta",Esc:"escape"},a={tab:"\t",space:" ",enter:"\r"},s={},l={},h=new f({shift:!1,control:!1,alt:!1,meta:!1,capsLock:!1,space:!1}).inject({option:{get:function(){return this.alt}},command:{get:function(){var t=o&&o.agent;return t&&t.mac?this.meta:this.control}}});return J.add(c,{keydown:function(n){var i=t(n),s=o&&o.agent;i.length>1||s&&s.chrome&&(n.altKey||s.mac&&n.metaKey||!s.mac&&n.ctrlKey)?e(!0,i,a[i]||(i.length>1?"":i),n):r=i},keypress:function(n){if(r){var i=t(n),o=n.charCode,a=o>=32?String.fromCharCode(o):i.length>1?"":i;i!==r&&(i=a.toLowerCase()),e(!0,i,a,n),r=null}},keyup:function(n){var r=t(n);r in l&&e(!1,r,l[r],n)}}),J.add(u,{blur:function(t){for(var n in l)e(!1,n,l[n],t)}}),{modifiers:h,isDown:function(t){return!!s[t]}}},nt=K.extend({_class:"MouseEvent",initialize:function(t,e,n,r,i){this.type=t,this.event=e,this.point=n,this.target=r,this.delta=i},toString:function(){return"{ type: '"+this.type+"', point: "+this.point+", target: "+this.target+(this.delta?", delta: "+this.delta:"")+", modifiers: "+this.getModifiers()+" }"}}),rt=K.extend({_class:"ToolEvent",_item:null,initialize:function(t,e,n){this.tool=t,this.type=e,this.event=n},_choosePoint:function(t,e){return t||(e?e.clone():null)},getPoint:function(){return this._choosePoint(this._point,this.tool._point)},setPoint:function(t){this._point=t},getLastPoint:function(){return this._choosePoint(this._lastPoint,this.tool._lastPoint)},setLastPoint:function(t){this._lastPoint=t},getDownPoint:function(){return this._choosePoint(this._downPoint,this.tool._downPoint)},setDownPoint:function(t){this._downPoint=t},getMiddlePoint:function(){return!this._middlePoint&&this.tool._lastPoint?this.tool._point.add(this.tool._lastPoint).divide(2):this._middlePoint},setMiddlePoint:function(t){this._middlePoint=t},getDelta:function(){return!this._delta&&this.tool._lastPoint?this.tool._point.subtract(this.tool._lastPoint):this._delta},setDelta:function(t){this._delta=t},getCount:function(){return this.tool[/^mouse(down|up)$/.test(this.type)?"_downCount":"_moveCount"]},setCount:function(t){this.tool[/^mouse(down|up)$/.test(this.type)?"downCount":"count"]=t},getItem:function(){if(!this._item){var t=this.tool._scope.project.hitTest(this.getPoint());if(t){for(var e=t.item,n=e._parent;/^(Group|CompoundPath)$/.test(n._class);)e=n,n=n._parent;this._item=e}}return this._item},setItem:function(t){this._item=t},toString:function(){return"{ type: "+this.type+", point: "+this.getPoint()+", count: "+this.getCount()+", modifiers: "+this.getModifiers()+" }"}}),it=(p.extend({_class:"Tool",_list:"tools",_reference:"tool",_events:["onMouseDown","onMouseUp","onMouseDrag","onMouseMove","onActivate","onDeactivate","onEditOptions","onKeyDown","onKeyUp"],initialize:function(t){p.call(this),this._moveCount=-1,this._downCount=-1,this.set(t)},getMinDistance:function(){return this._minDistance},setMinDistance:function(t){this._minDistance=t,null!=t&&null!=this._maxDistance&&t>this._maxDistance&&(this._maxDistance=t)},getMaxDistance:function(){return this._maxDistance},setMaxDistance:function(t){this._maxDistance=t,null!=this._minDistance&&null!=t&&t<this._minDistance&&(this._minDistance=t)},getFixedDistance:function(){return this._minDistance==this._maxDistance?this._minDistance:null},setFixedDistance:function(t){this._minDistance=this._maxDistance=t},_handleMouseEvent:function(t,e,n,r){function i(t,e){var i=n,o=s?h._point:h._downPoint||i;if(s){if(h._moveCount&&i.equals(o))return!1;if(o&&(null!=t||null!=e)){var a=i.subtract(o),u=a.getLength();if(u<(t||0))return!1;e&&(i=o.add(a.normalize(Math.min(u,e))))}h._moveCount++}return h._point=i,h._lastPoint=o||i,r.down&&(h._moveCount=-1,h._downPoint=i,h._downCount++),!0}function a(){u&&(l=h.emit(t,new rt(h,t,e))||l)}o=this._scope,r.drag&&!this.responds(t)&&(t="mousemove");var s=r.move||r.drag,u=this.responds(t),c=this.minDistance,f=this.maxDistance,l=!1,h=this;if(r.down)i(),a();else if(r.up)i(null,f),a();else if(u)for(;i(c,f);)a();return l}}),{request:function(t){var e=new a.XMLHttpRequest;return e.open((t.method||"get").toUpperCase(),t.url,f.pick(t.async,!0)),t.mimeType&&e.overrideMimeType(t.mimeType),e.onload=function(){var n=e.status;0===n||200===n?t.onLoad&&t.onLoad.call(e,e.responseText):e.onerror()},e.onerror=function(){var n=e.status,r='Could not load "'+t.url+'" (Status: '+n+")";if(!t.onError)throw new Error(r);t.onError(r,n)},e.send(null)}}),ot={canvases:[],getCanvas:function(t,e){if(!u)return null;var n,r=!0;"object"==typeof t&&(e=t.height,t=t.width),this.canvases.length?n=this.canvases.pop():(n=c.createElement("canvas"),r=!1);var i=n.getContext("2d");if(!i)throw new Error("Canvas "+n+" is unable to provide a 2D context.");return n.width===t&&n.height===e?r&&i.clearRect(0,0,t+1,e+1):(n.width=t,n.height=e),i.save(),n},getContext:function(t,e){var n=this.getCanvas(t,e);return n?n.getContext("2d"):null},release:function(t){var e=t&&t.canvas?t.canvas:t;e&&e.getContext&&(e.getContext("2d").restore(),this.canvases.push(e))}},at=new function(){function t(t,e,n){return.2989*t+.587*e+.114*n}function e(e,n,r,i){var o=i-t(e,n,r);p=e+o,d=n+o,m=r+o;var i=t(p,d,m),a=g(p,d,m),s=v(p,d,m);if(a<0){var u=i-a;p=i+(p-i)*i/u,d=i+(d-i)*i/u,m=i+(m-i)*i/u}if(s>255){var c=255-i,f=s-i;p=i+(p-i)*c/f,d=i+(d-i)*c/f,m=i+(m-i)*c/f}}function n(t,e,n){return v(t,e,n)-g(t,e,n)}function r(t,e,n,r){var i,o=[t,e,n],a=v(t,e,n),s=g(t,e,n);s=s===t?0:s===e?1:2,a=a===t?0:a===e?1:2,i=0===g(s,a)?1===v(s,a)?2:1:0,o[a]>o[s]?(o[i]=(o[i]-o[s])*r/(o[a]-o[s]),o[a]=r):o[i]=o[a]=0,o[s]=0,p=o[0],d=o[1],m=o[2]}var i,o,a,s,u,c,l,h,p,d,m,g=Math.min,v=Math.max,y=Math.abs,x={multiply:function(){p=u*i/255,d=c*o/255,m=l*a/255},screen:function(){p=u+i-u*i/255,d=c+o-c*o/255,m=l+a-l*a/255},overlay:function(){p=u<128?2*u*i/255:255-2*(255-u)*(255-i)/255,d=c<128?2*c*o/255:255-2*(255-c)*(255-o)/255,m=l<128?2*l*a/255:255-2*(255-l)*(255-a)/255},"soft-light":function(){var t=i*u/255;p=t+u*(255-(255-u)*(255-i)/255-t)/255,t=o*c/255,d=t+c*(255-(255-c)*(255-o)/255-t)/255,t=a*l/255,m=t+l*(255-(255-l)*(255-a)/255-t)/255},"hard-light":function(){p=i<128?2*i*u/255:255-2*(255-i)*(255-u)/255,d=o<128?2*o*c/255:255-2*(255-o)*(255-c)/255,m=a<128?2*a*l/255:255-2*(255-a)*(255-l)/255},"color-dodge":function(){p=0===u?0:255===i?255:g(255,255*u/(255-i)),d=0===c?0:255===o?255:g(255,255*c/(255-o)),m=0===l?0:255===a?255:g(255,255*l/(255-a))},"color-burn":function(){p=255===u?255:0===i?0:v(0,255-255*(255-u)/i),d=255===c?255:0===o?0:v(0,255-255*(255-c)/o),m=255===l?255:0===a?0:v(0,255-255*(255-l)/a)},darken:function(){p=u<i?u:i,d=c<o?c:o,m=l<a?l:a},lighten:function(){p=u>i?u:i,d=c>o?c:o,m=l>a?l:a},difference:function(){p=u-i,p<0&&(p=-p),d=c-o,d<0&&(d=-d),(m=l-a)<0&&(m=-m)},exclusion:function(){p=u+i*(255-u-u)/255,d=c+o*(255-c-c)/255,m=l+a*(255-l-l)/255},hue:function(){r(i,o,a,n(u,c,l)),e(p,d,m,t(u,c,l))},saturation:function(){r(u,c,l,n(i,o,a)),e(p,d,m,t(u,c,l))},luminosity:function(){e(u,c,l,t(i,o,a))},color:function(){e(i,o,a,t(u,c,l))},add:function(){p=g(u+i,255),d=g(c+o,255),m=g(l+a,255)},subtract:function(){p=v(u-i,0),d=v(c-o,0),m=v(l-a,0)},average:function(){p=(u+i)/2,d=(c+o)/2,m=(l+a)/2},negation:function(){p=255-y(255-i-u),d=255-y(255-o-c),m=255-y(255-a-l)}},w=this.nativeModes=f.each(["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","darker","copy","xor"],function(t){this[t]=!0},{}),b=ot.getContext(1,1);b&&(f.each(x,function(t,e){var n="darken"===e,r=!1;b.save();try{b.fillStyle=n?"#300":"#a00",b.fillRect(0,0,1,1),b.globalCompositeOperation=e,b.globalCompositeOperation===e&&(b.fillStyle=n?"#a00":"#300",b.fillRect(0,0,1,1),r=b.getImageData(0,0,1,1).data[0]!==n?170:51)}catch(t){}b.restore(),w[e]=r}),ot.release(b)),this.process=function(t,e,n,r,f){var g=e.canvas,v="normal"===t;if(v||w[t])n.save(),n.setTransform(1,0,0,1,0,0),n.globalAlpha=r,v||(n.globalCompositeOperation=t),n.drawImage(g,f.x,f.y),n.restore();else{var y=x[t];if(!y)return;for(var b=n.getImageData(f.x,f.y,g.width,g.height),_=b.data,N=e.getImageData(0,0,g.width,g.height).data,E=0,M=_.length;E<M;E+=4){i=N[E],u=_[E],o=N[E+1],c=_[E+1],a=N[E+2],l=_[E+2],s=N[E+3],h=_[E+3],y();var S=s*r/255,A=1-S;_[E]=S*p+A*u,_[E+1]=S*d+A*c,_[E+2]=S*m+A*l,_[E+3]=s*r+A*h}n.putImageData(b,f.x,f.y)}}},st=new function(){function t(t,e,i){return n(c.createElementNS(r,t),e,i)}function e(t,e){var n=a[e],r=n?t.getAttributeNS(n,e):t.getAttribute(e);return"null"===r?null:r}function n(t,e,n){for(var r in e){var i=e[r],o=a[r];"number"==typeof i&&n&&(i=n.number(i)),o?t.setAttributeNS(o,r,i):t.setAttribute(r,i)}return t}var r="http://www.w3.org/2000/svg",i="http://www.w3.org/2000/xmlns",o="http://www.w3.org/1999/xlink",a={href:o,xlink:i,xmlns:i+"/","xmlns:xlink":i+"/"};return{svg:r,xmlns:i,xlink:o,create:t,get:e,set:n}},ut=f.each({fillColor:["fill","color"],fillRule:["fill-rule","string"],strokeColor:["stroke","color"],strokeWidth:["stroke-width","number"],strokeCap:["stroke-linecap","string"],strokeJoin:["stroke-linejoin","string"],strokeScaling:["vector-effect","lookup",{true:"none",false:"non-scaling-stroke"},function(t,e){return!e&&(t instanceof L||t instanceof C||t instanceof V)}],miterLimit:["stroke-miterlimit","number"],dashArray:["stroke-dasharray","array"],dashOffset:["stroke-dashoffset","number"],fontFamily:["font-family","string"],fontWeight:["font-weight","string"],fontSize:["font-size","number"],justification:["text-anchor","lookup",{left:"start",center:"middle",right:"end"}],opacity:["opacity","number"],blendMode:["mix-blend-mode","style"]},function(t,e){var n=f.capitalize(e),r=t[2];this[e]={type:t[1],property:e,attribute:t[0],toSVG:r,fromSVG:r&&f.each(r,function(t,e){this[t]=e},{}),exportFilter:t[3],get:"get"+n,set:"set"+n}},{});return new function(){function t(t,e,n){var r=new f,i=t.getTranslation();if(e){t=t._shiftless();var o=t._inverseTransform(i);r[n?"cx":"x"]=o.x,r[n?"cy":"y"]=o.y,i=null}if(!t.isIdentity()){var a=t.decompose();if(a){var s=[],u=a.rotation,c=a.scaling,l=a.skewing;i&&!i.isZero()&&s.push("translate("+w.point(i)+")"),u&&s.push("rotate("+w.number(u)+")"),m.isZero(c.x-1)&&m.isZero(c.y-1)||s.push("scale("+w.point(c)+")"),l.x&&s.push("skewX("+w.number(l.x)+")"),l.y&&s.push("skewY("+w.number(l.y)+")"),r.transform=s.join(" ")}else r.transform="matrix("+t.getValues().join(",")+")"}return r}function e(e,n){for(var r=t(e._matrix),i=e._children,o=st.create("g",r,w),a=0,s=i.length;a<s;a++){var u=i[a],c=y(u,n);if(c)if(u.isClipMask()){var f=st.create("clipPath");f.appendChild(c),p(u,f,"clip"),st.set(o,{"clip-path":"url(#"+f.id+")"})}else o.appendChild(c)}return o}function n(e,n){var r=t(e._matrix,!0),i=e.getSize(),o=e.getImage();return r.x-=i.width/2,r.y-=i.height/2,r.width=i.width,r.height=i.height,r.href=0==n.embedImages&&o&&o.src||e.toDataURL(),st.create("image",r,w)}function r(e,n){var r=n.matchShapes;if(r){var o=e.toShape(!1);if(o)return i(o)}var a,s=e._segments,u=s.length,c=t(e._matrix);if(r&&u>=2&&!e.hasHandles())if(u>2){a=e._closed?"polygon":"polyline";for(var f=[],l=0;l<u;l++)f.push(w.point(s[l]._point));c.points=f.join(" ")}else{a="line";var h=s[0]._point,p=s[1]._point;c.set({x1:h.x,y1:h.y,x2:p.x,y2:p.y})}else a="path",c.d=e.getPathData(null,n.precision);return st.create(a,c,w)}function i(e){var n=e._type,r=e._radius,i=t(e._matrix,!0,"rectangle"!==n);if("rectangle"===n){n="rect";var o=e._size,a=o.width,s=o.height;i.x-=a/2,i.y-=s/2,i.width=a,i.height=s,r.isZero()&&(r=null)}return r&&("circle"===n?i.r=r:(i.rx=r.width,i.ry=r.height)),st.create(n,i,w)}function o(e,n){var r=t(e._matrix),i=e.getPathData(null,n.precision);return i&&(r.d=i),st.create("path",r,w)}function s(e,n){var r=t(e._matrix,!0),i=e._definition,o=h(i,"symbol"),a=i._item,s=a.getBounds();return o||(o=st.create("symbol",{viewBox:w.rectangle(s)}),o.appendChild(y(a,n)),p(i,o,"symbol")),r.href="#"+o.id,r.x+=s.x,r.y+=s.y,r.width=s.width,r.height=s.height,r.overflow="visible",st.create("use",r,w)}function u(t){var e=h(t,"color");if(!e){var n,r=t.getGradient(),i=r._radial,o=t.getOrigin(),a=t.getDestination();if(i){n={cx:o.x,cy:o.y,r:o.getDistance(a)};var s=t.getHighlight();s&&(n.fx=s.x,n.fy=s.y)}else n={x1:o.x,y1:o.y,x2:a.x,y2:a.y};n.gradientUnits="userSpaceOnUse",e=st.create((i?"radial":"linear")+"Gradient",n,w);for(var u=r._stops,c=0,f=u.length;c<f;c++){var l=u[c],d=l._color,m=d.getAlpha(),g=l._offset;n={offset:null==g?c/(f-1):g},d&&(n["stop-color"]=d.toCSS(!0)),m<1&&(n["stop-opacity"]=m),e.appendChild(st.create("stop",n,w))}p(t,e,"color")}return"url(#"+e.id+")"}function c(e){var n=st.create("text",t(e._matrix,!0),w);return n.textContent=e._content,n}function l(t,e,n){var r={},i=!n&&t.getParent(),o=[];return null!=t._name&&(r.id=t._name),f.each(ut,function(e){var n=e.get,a=e.type,s=t[n]();if(e.exportFilter?e.exportFilter(t,s):!i||!f.equals(i[n](),s)){if("color"===a&&null!=s){var c=s.getAlpha();c<1&&(r[e.attribute+"-opacity"]=c)}"style"===a?o.push(e.attribute+": "+s):r[e.attribute]=null==s?"none":"color"===a?s.gradient?u(s,t):s.toCSS(!0):"array"===a?s.join(","):"lookup"===a?e.toSVG[s]:s}}),o.length&&(r.style=o.join(";")),1===r.opacity&&delete r.opacity,t._visible||(r.visibility="hidden"),st.set(e,r,w)}function h(t,e){return _||(_={ids:{},svgs:{}}),t&&_.svgs[e+"-"+(t._id||t.__id||(t.__id=g.get("svg")))]}function p(t,e,n){_||h();var r=_.ids[n]=(_.ids[n]||0)+1;e.id=n+"-"+r,_.svgs[n+"-"+(t._id||t.__id)]=e}function v(t,e){var n=t,r=null;if(_){n="svg"===t.nodeName.toLowerCase()&&t;for(var i in _.svgs)r||(n||(n=st.create("svg"),n.appendChild(t)),r=n.insertBefore(st.create("defs"),n.firstChild)),r.appendChild(_.svgs[i]);_=null}return e.asString?(new a.XMLSerializer).serializeToString(n):n}function y(t,e,n){var r=E[t._class],i=r&&r(t,e);if(i){var o=e.onExport;o&&(i=o(t,i,e)||i);var a=JSON.stringify(t._data);a&&"{}"!==a&&"null"!==a&&i.setAttribute("data-paper-data",a)}return i&&l(t,i,n)}function x(t){return t||(t={}),w=new d(t.precision),t}var w,_,E={Group:e,Layer:e,Raster:n,Path:r,Shape:i,CompoundPath:o,SymbolItem:s,PointText:c};S.inject({exportSVG:function(t){return t=x(t),v(y(this,t,!0),t)}}),M.inject({exportSVG:function(e){e=x(e);var n=this._children,r=this.getView(),i=f.pick(e.bounds,"view"),o=e.matrix||"view"===i&&r._matrix,a=o&&N.read([o]),s="view"===i?new b([0,0],r.getViewSize()):"content"===i?S._getBounds(n,a,{stroke:!0}).rect:b.read([i],0,{readNull:!0}),u={version:"1.1",xmlns:st.svg,"xmlns:xlink":st.xlink};s&&(u.width=s.width,u.height=s.height,(s.x||s.y)&&(u.viewBox=w.rectangle(s)));var c=st.create("svg",u,w),l=c;a&&!a.isIdentity()&&(l=c.appendChild(st.create("g",t(a),w)));for(var h=0,p=n.length;h<p;h++)l.appendChild(y(n[h],e,!0));return v(c,e)}})},new function(){function t(t,e,n,r,i){var o=st.get(t,e),a=null==o?r?null:n?"":0:n?o:parseFloat(o);return/%\s*$/.test(o)?a/100*(i?1:O[/x|^width/.test(e)?"width":"height"]):a}function e(e,n,r,i,o){return n=t(e,n||"x",!1,i,o),r=t(e,r||"y",!1,i,o),!i||null!=n&&null!=r?new v(n,r):null}function n(e,n,r,i,o){return n=t(e,n||"width",!1,i,o),r=t(e,r||"height",!1,i,o),!i||null!=n&&null!=r?new x(n,r):null}function r(t,e,n){return"none"===t?null:"number"===e?parseFloat(t):"array"===e?t?t.split(/[\s,]+/g).map(parseFloat):[]:"color"===e?w(t)||t:"lookup"===e?n[t]:t}function i(t,e,n,r){var i=t.childNodes,o="clippath"===e,a="defs"===e,s=new A,u=s._project,c=u._currentStyle,f=[];if(o||a||(s=y(s,t,r),u._currentStyle=s._style.clone()),r)for(var l=t.querySelectorAll("defs"),h=0,p=l.length;h<p;h++)_(l[h],n,!1);for(var h=0,p=i.length;h<p;h++){var d,m=i[h];1!==m.nodeType||/^defs$/i.test(m.nodeName)||!(d=_(m,n,!1))||d instanceof z||f.push(d)}return s.addChildren(f),o&&(s=y(s.reduce(),t,r)),u._currentStyle=c,(o||a)&&(s.remove(),s=null),s}function l(t,e){for(var n=t.getAttribute("points").match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g),r=[],i=0,o=n.length;i<o;i+=2)r.push(new v(parseFloat(n[i]),parseFloat(n[i+1])));var a=new F(r);return"polygon"===e&&a.closePath(),a}function h(t){return L.create(t.getAttribute("d"))}function p(n,r){var i,o=(t(n,"href",!0)||"").substring(1),a="radialgradient"===r;if(o)i=P[o].getGradient(),i._radial^a&&(i=i.clone(),i._radial=a);else{for(var s=n.childNodes,u=[],c=0,f=s.length;c<f;c++){var l=s[c];1===l.nodeType&&u.push(y(new Z,l))}i=new G(u,a)}var h,p,d,m="userSpaceOnUse"!==t(n,"gradientUnits",!0);return a?(h=e(n,"cx","cy",!1,m),p=h.add(t(n,"r",!1,!1,m),0),d=e(n,"fx","fy",!0,m)):(h=e(n,"x1","y1",!1,m),p=e(n,"x2","y2",!1,m)),y(new $(i,h,p,d),n)._scaleToBounds=m,null}function d(t,e,n,r){if(t.transform){for(var i=(r.getAttribute(n)||"").split(/\)\s*/g),o=new N,a=0,s=i.length;a<s;a++){var u=i[a];if(!u)break;for(var c=u.split(/\(\s*/),f=c[0],l=c[1].split(/[\s,]+/g),h=0,p=l.length;h<p;h++)l[h]=parseFloat(l[h]);switch(f){case"matrix":o.append(new N(l[0],l[1],l[2],l[3],l[4],l[5]));break;case"rotate":o.rotate(l[0],l[1],l[2]);break;case"translate":o.translate(l[0],l[1]);break;case"scale":o.scale(l);break;case"skewX":o.skew(l[0],0);break;case"skewY":o.skew(0,l[0])}}t.transform(o)}}function m(t,e,n){var r="fill-opacity"===n?"getFillColor":"getStrokeColor",i=t[r]&&t[r]();i&&i.setAlpha(parseFloat(e))}function g(t,e,n){var r=t.attributes[e],i=r&&r.value;if(!i){var o=f.camelize(e);i=t.style[o],i||n.node[o]===n.parent[o]||(i=n.node[o])}return i?"none"===i?null:i:s}function y(t,e,n){if(e.style){var r=e.parentNode,i={node:Y.getStyles(e)||{},parent:!n&&!/^defs$/i.test(r.tagName)&&Y.getStyles(r)||{}};f.each(I,function(n,r){var o=g(e,r,i);t=o!==s&&n(t,o,r,e,i)||t})}return t}function w(t){var e=t&&t.match(/\((?:["'#]*)([^"')]+)/),n=e&&e[1],r=n&&P[u?n.replace(u.location.href.split("#")[0]+"#",""):n];return r&&r._scaleToBounds&&(r=r.clone(),r._scaleToBounds=!0),r}function _(t,e,r){var i,a,s,u=t.nodeName.toLowerCase(),l="#document"!==u,h=c.body;r&&l&&(O=o.getView().getSize(),O=n(t,null,null,!0)||O,i=st.create("svg",{style:"stroke-width: 1px; stroke-miterlimit: 10"}),a=t.parentNode,s=t.nextSibling,i.appendChild(t),h.appendChild(i));var p=o.settings,d=p.applyMatrix,m=p.insertItems;p.applyMatrix=!1,p.insertItems=!1;var g=k[u],v=g&&g(t,u,e,r)||null;if(p.insertItems=m,p.applyMatrix=d,v){!l||v instanceof A||(v=y(v,t,r));var x=e.onImport,w=l&&t.getAttribute("data-paper-data");x&&(v=x(t,v,e)||v),e.expandShapes&&v instanceof C&&(v.remove(),v=v.toPath()),w&&(v._data=JSON.parse(w))}return i&&(h.removeChild(i),a&&(s?a.insertBefore(t,s):a.appendChild(t))),r&&(P={},v&&f.pick(e.applyMatrix,d)&&v.matrix.apply(!0,!0)),v}function E(t,e,n){function r(r){try{var c="object"==typeof r?r:(new a.DOMParser).parseFromString(r,"image/svg+xml");if(!c.nodeName)throw c=null,new Error("Unsupported SVG source: "+t);o=u,f=_(c,e,!0),e&&!1===e.insert||n._insertItem(s,f);var l=e.onLoad;l&&l(f,r)}catch(t){i(t)}}function i(t,n){var r=e.onError;if(!r)throw new Error(t);r(t,n)}if(!t)return null;e="function"==typeof e?{onLoad:e}:e||{};var u=o,f=null;if("string"!=typeof t||/^.*</.test(t)){if("undefined"!=typeof File&&t instanceof File){var l=new FileReader;return l.onload=function(){r(l.result)},l.onerror=function(){i(l.error)},l.readAsText(t)}r(t)}else{var h=c.getElementById(t);h?r(h):it.request({url:t,async:!0,onLoad:r,onError:i})}return f}var O,P={},k={"#document":function(t,e,n,r){for(var i=t.childNodes,o=0,a=i.length;o<a;o++){var s=i[o];if(1===s.nodeType)return _(s,n,r)}},g:i,svg:i,clippath:i,polygon:l,polyline:l,path:h,lineargradient:p,radialgradient:p,image:function(r){var i=new T(t(r,"href",!0));return i.on("load",function(){var t=n(r);this.setSize(t);var i=this._matrix._transformPoint(e(r).add(t.divide(2)));this.translate(i)}),i},symbol:function(t,e,n,r){return new z(i(t,e,n,r),!0)},defs:i,use:function(n){var r=(t(n,"href",!0)||"").substring(1),i=P[r],o=e(n);return i?i instanceof z?i.place(o):i.clone().translate(o):null},circle:function(n){return new C.Circle(e(n,"cx","cy"),t(n,"r"))},ellipse:function(t){return new C.Ellipse({center:e(t,"cx","cy"),radius:n(t,"rx","ry")})},rect:function(t){return new C.Rectangle(new b(e(t),n(t)),n(t,"rx","ry"))},line:function(t){return new F.Line(e(t,"x1","y1"),e(t,"x2","y2"))},text:function(t){var n=new H(e(t).add(e(t,"dx","dy")));return n.setContent(t.textContent.trim()||""),n}},I=f.set(f.each(ut,function(t){this[t.attribute]=function(e,n){if(e[t.set]&&(e[t.set](r(n,t.type,t.fromSVG)),"color"===t.type)){var i=e[t.get]();if(i&&i._scaleToBounds){var o=e.getBounds();i.transform((new N).translate(o.getPoint()).scale(o.getSize()))}}}},{}),{id:function(t,e){P[e]=t,t.setName&&t.setName(e)},"clip-path":function(t,e){var n=w(e);if(n){if(n=n.clone(),n.setClipMask(!0),!(t instanceof A))return new A(n,t);t.insertChild(0,n)}},gradientTransform:d,transform:d,"fill-opacity":m,"stroke-opacity":m,visibility:function(t,e){t.setVisible&&t.setVisible("visible"===e)},display:function(t,e){t.setVisible&&t.setVisible(null!==e)},"stop-color":function(t,e){t.setColor&&t.setColor(e)},"stop-opacity":function(t,e){t._color&&t._color.setAlpha(parseFloat(e))},offset:function(t,e){if(t.setOffset){var n=e.match(/(.*)%$/);t.setOffset(n?n[1]/100:parseFloat(e))}},viewBox:function(t,e,i,o,a){var s,u,c=new b(r(e,"array")),f=n(o,null,null,!0);if(t instanceof A){var l=f?f.divide(c.getSize()):1,u=(new N).scale(l).translate(c.getPoint().negate());s=t}else t instanceof z&&(f&&c.setSize(f),s=t._item);if(s){if("visible"!==g(o,"overflow",a)){var h=new C.Rectangle(c);h.setClipMask(!0),s.addChild(h)}u&&s.transform(u)}}});S.inject({importSVG:function(t,e){return E(t,e,this)}}),M.inject({importSVG:function(t,e){return this.activate(),E(t,e,this)}})},o=new(h.inject(f.exports,{Base:f,Numerical:m,Key:et,DomEvent:J,DomElement:Y,document:c,window:u,Symbol:z,PlacedSymbol:P})),o.agent.node&&n(703)(o),r=o,(i="function"==typeof r?r.call(e,n,e,t):r)!==s&&(t.exports=i),o}.call(this,"object"==typeof self?self:null)},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var r=n(99);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports={}},function(t,e,n){var r=n(66)("meta"),i=n(24),o=n(38),a=n(36).f,s=0,u=Object.isExtensible||function(){return!0},c=!n(28)(function(){return u(Object.preventExtensions({}))}),f=function(t){a(t,r,{value:{i:"O"+ ++s,w:{}}})},l=function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,r)){if(!u(t))return"F";if(!e)return"E";f(t)}return t[r].i},h=function(t,e){if(!o(t,r)){if(!u(t))return!0;if(!e)return!1;f(t)}return t[r].w},p=function(t){return c&&d.NEED&&u(t)&&!o(t,r)&&f(t),t},d=t.exports={KEY:r,NEED:!1,fastKey:l,getWeak:h,onFreeze:p}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var r=n(35),i=n(54),o=n(38),a=n(66)("src"),s=Function.toString,u=(""+s).split("toString");n(44).inspectSource=function(t){return s.call(t)},(t.exports=function(t,e,n,s){var c="function"==typeof n;c&&(o(n,"name")||i(n,"name",e)),t[e]!==n&&(c&&(o(n,a)||i(n,a,t[e]?""+t[e]:u.join(String(e)))),t===r?t[e]=n:s?t[e]?t[e]=n:i(t,e,n):(delete t[e],i(t,e,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[a]||s.call(this)})},function(t,e,n){var r=n(84),i=Math.max,o=Math.min;t.exports=function(t,e){return t=r(t),t<0?i(t+e,0):o(t,e)}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){function r(t){return null==t?void 0===t?u:s:c&&c in Object(t)?o(t):a(t)}var i=n(148),o=n(308),a=n(315),s="[object Null]",u="[object Undefined]",c=i?i.toStringTag:void 0;t.exports=r},function(t,e){function n(t){return null!=t&&"object"==typeof t}t.exports=n},function(t,e,n){"use strict";function r(t,e,r,f,l){function h(t,e,n,r){if(!(this instanceof h))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof t)throw new TypeError('string expected for parameter "op"');if("string"!=typeof e)throw new TypeError('string expected for parameter "fn"');if(!Array.isArray(n)||!n.every(function(t){return t&&t.isNode}))throw new TypeError('Array containing Nodes expected for parameter "args"');this.implicit=!0===r,this.op=t,this.fn=e,this.args=n||[]}function p(t,e,n){if(!(t instanceof h))throw new TypeError("No valid OperatorNode");if("string"!=typeof t.fn||!u(e.math,t.fn))throw e.math[t.fn]?new Error('No access to function "'+t.fn+'"'):new Error("Function "+t.fn+' missing in provided namespace "math"');var r=o(t.args,function(t){return g(t,e,n)});return"math["+s(t.fn)+"]("+a(r,", ")+")"}function d(t,e,n,r){var i=c.getPrecedence(t,e),o=c.getAssociativity(t,e);if("all"===e||n.length>2&&"OperatorNode:add"!==t.getIdentifier()&&"OperatorNode:multiply"!==t.getIdentifier()){return n.map(function(t){switch(t.getContent().type){case"ArrayNode":case"ConstantNode":case"SymbolNode":case"ParenthesisNode":return!1;default:return!0}})}if(0===n.length)return[];if(1===n.length){var a=c.getPrecedence(n[0],e);if(r&&null!==a){var s,u;if("keep"===e?(s=n[0].getIdentifier(),u=t.getIdentifier()):(s=n[0].getContent().getIdentifier(),u=t.getContent().getIdentifier()),!1===c.properties[i][u].latexLeftParens)return[!1];if(!1===c.properties[a][s].latexParens)return[!1]}return null===a?[!1]:a<=i?[!0]:[!1]}if(2===n.length){var f,l=c.getPrecedence(n[0],e),h=c.isAssociativeWith(t,n[0],e);f=null!==l&&(l===i&&"right"===o&&!h||l<i);var p,d=c.getPrecedence(n[1],e),m=c.isAssociativeWith(t,n[1],e);if(p=null!==d&&(d===i&&"left"===o&&!m||d<i),r){var u,g,v;"keep"===e?(u=t.getIdentifier(),g=t.args[0].getIdentifier(),v=t.args[1].getIdentifier()):(u=t.getContent().getIdentifier(),g=t.args[0].getContent().getIdentifier(),v=t.args[1].getContent().getIdentifier()),null!==l&&(!1===c.properties[i][u].latexLeftParens&&(f=!1),!1===c.properties[l][g].latexParens&&(f=!1)),null!==d&&(!1===c.properties[i][u].latexRightParens&&(p=!1),!1===c.properties[d][v].latexParens&&(p=!1))}return[f,p]}if(n.length>2&&("OperatorNode:add"===t.getIdentifier()||"OperatorNode:multiply"===t.getIdentifier())){return n.map(function(n){var r=c.getPrecedence(n,e),a=c.isAssociativeWith(t,n,e),s=c.getAssociativity(n,e);return null!==r&&(i===r&&o===s&&!a||r<i)})}}var m=r(n(7)).register,g=r(n(7)).compile,v=r(n(14));r(n(69)),r(n(40)),r(n(70));return h.prototype=new v,h.prototype.type="OperatorNode",h.prototype.isOperatorNode=!0,m(h.prototype.type,p),h.prototype.forEach=function(t){for(var e=0;e<this.args.length;e++)t(this.args[e],"args["+e+"]",this)},h.prototype.map=function(t){for(var e=[],n=0;n<this.args.length;n++)e[n]=this._ifNode(t(this.args[n],"args["+n+"]",this));return new h(this.op,this.fn,e)},h.prototype.clone=function(){return new h(this.op,this.fn,this.args.slice(0),this.implicit)},h.prototype._toString=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",n=t&&t.implicit?t.implicit:"hide",r=this.args,i=d(this,e,r,!1);if(1===r.length){var o=c.getAssociativity(this,e),a=r[0].toString(t);return i[0]&&(a="("+a+")"),"right"===o?this.op+a:a+this.op}if(2==r.length){var s=r[0].toString(t),u=r[1].toString(t);return i[0]&&(s="("+s+")"),i[1]&&(u="("+u+")"),this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"==n?s+" "+u:s+" "+this.op+" "+u}if(r.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){var f=r.map(function(e,n){return e=e.toString(t),i[n]&&(e="("+e+")"),e});return this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===n?f.join(" "):f.join(" "+this.op+" ")}return this.fn+"("+this.args.join(", ")+")"},h.prototype._toTex=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",n=t&&t.implicit?t.implicit:"hide",r=this.args,o=d(this,e,r,!0),a=i.operators[this.fn];if(a=void 0===a?this.op:a,1===r.length){var s=c.getAssociativity(this,e),u=r[0].toTex(t);return o[0]&&(u="\\left("+u+"\\right)"),"right"===s?a+u:u+a}if(2===r.length){var f=r[0],l=f.toTex(t);o[0]&&(l="\\left("+l+"\\right)");var h=r[1],p=h.toTex(t);o[1]&&(p="\\left("+p+"\\right)");var m;switch(m="keep"===e?f.getIdentifier():f.getContent().getIdentifier(),this.getIdentifier()){case"OperatorNode:divide":return a+"{"+l+"}{"+p+"}";case"OperatorNode:pow":switch(l="{"+l+"}",p="{"+p+"}",m){case"ConditionalNode":case"OperatorNode:divide":l="\\left("+l+"\\right)"}case"OperatorNode:multiply":if(this.implicit&&"hide"===n)return l+"~"+p}return l+a+p}if(r.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){var g=r.map(function(e,n){return e=e.toTex(t),o[n]&&(e="\\left("+e+"\\right)"),e});return"OperatorNode:multiply"===this.getIdentifier()&&this.implicit?g.join("~"):g.join(a)}return"\\mathrm{"+this.fn+"}\\left("+r.map(function(e){return e.toTex(t)}).join(",")+"\\right)"},h.prototype.getIdentifier=function(){return this.type+":"+this.fn},h}var i=n(4),o=n(3).map,a=n(3).join,s=n(12).stringify,u=n(18).isSafeMethod,c=n(71);e.name="OperatorNode",e.path="expression.node",e.math=!0,e.factory=r},function(t,e,n){"use strict";function r(t,e,r,i){function o(t){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");if(!t||!t.isNode)throw new TypeError('Node expected for parameter "content"');this.content=t}function a(t,e,n){if(!(t instanceof o))throw new TypeError("No valid ParenthesisNode");return u(t.content,e,n)}var s=r(n(7)).register,u=r(n(7)).compile,c=r(n(14));return o.prototype=new c,o.prototype.type="ParenthesisNode",o.prototype.isParenthesisNode=!0,s(o.prototype.type,a),o.prototype.getContent=function(){return this.content.getContent()},o.prototype.forEach=function(t){t(this.content,"content",this)},o.prototype.map=function(t){return new o(t(this.content,"content",this))},o.prototype.clone=function(){return new o(this.content)},o.prototype._toString=function(t){return!t||t&&!t.parenthesis||t&&"keep"===t.parenthesis?"("+this.content.toString(t)+")":this.content.toString(t)},o.prototype._toTex=function(t){return!t||t&&!t.parenthesis||t&&"keep"===t.parenthesis?"\\left("+this.content.toTex(t)+"\\right)":this.content.toTex(t)},o}e.name="ParenthesisNode",e.path="expression.node",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,a){function s(t,e){switch(t.length){case 0:return e?c(e):[];case 1:return u(t[0],t[0],e);case 2:return u(t[0],t[1],e);default:throw new Error("Vector containing two values expected")}}function u(e,n,r){var a=e&&!0===e.isBigNumber?t.BigNumber:n&&!0===n.isBigNumber?t.BigNumber:null;if(e&&!0===e.isBigNumber&&(e=e.toNumber()),n&&!0===n.isBigNumber&&(n=n.toNumber()),!o(e)||e<1)throw new Error("Parameters in function eye must be positive integers");if(!o(n)||n<1)throw new Error("Parameters in function eye must be positive integers");var s=a?new t.BigNumber(1):1,u=a?new a(0):0,c=[e,n];if(r){return t.Matrix.storage(r).diagonal(c,s,0,u)}for(var f=i.resize([],c,u),l=e<n?e:n,h=0;h<l;h++)f[h][h]=s;return f}var c=r(n(0)),f=a("eye",{"":function(){return"Matrix"===e.matrix?c([]):[]},string:function(t){return c(t)},"number | BigNumber":function(t){return u(t,t,"Matrix"===e.matrix?"default":void 0)},"number | BigNumber, string":function(t,e){return u(t,t,e)},"number | BigNumber, number | BigNumber":function(t,n){return u(t,n,"Matrix"===e.matrix?"default":void 0)},"number | BigNumber, number | BigNumber, string":function(t,e,n){return u(t,e,n)},Array:function(t){return s(t)},"Array, string":function(t,e){return s(t,e)},Matrix:function(t){return s(t.valueOf(),t.storage())},"Matrix, string":function(t,e){return s(t.valueOf(),e)}});return f.toTex=void 0,f}var i=n(3),o=n(2).isInteger;e.name="eye",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,u){function c(t,e){if(!e||!0!==e.isIndex)throw new TypeError("Index expected");if(1!=e.size().length)throw new f(e.size().length,1);var n=t.length;s(e.min()[0],n),s(e.max()[0],n);var r=e.dimension(0),i="";return r.forEach(function(e){i+=t.charAt(e)}),i}function l(t,e,n,r){if(!e||!0!==e.isIndex)throw new TypeError("Index expected");if(1!=e.size().length)throw new f(e.size().length,1);if(void 0!==r){if("string"!=typeof r||1!==r.length)throw new TypeError("Single character expected as defaultValue")}else r=" ";var i=e.dimension(0),o=i.size()[0];if(o!=n.length)throw new f(i.size()[0],n.length);var a=t.length;s(e.min()[0]),s(e.max()[0]);for(var u=[],c=0;c<a;c++)u[c]=t.charAt(c);if(i.forEach(function(t,e){u[t]=n.charAt(e[0])}),u.length>a)for(c=a-1,o=u.length;c<o;c++)u[c]||(u[c]=r);return u.join("")}var h=r(n(0)),p=u("subset",{"Array, Index":function(t,e){var n=h(t),r=n.subset(e);return r&&r.valueOf()},"Matrix, Index":function(t,e){return t.subset(e)},"Object, Index":i,"string, Index":c,"Array, Index, any":function(t,e,n){return h(a(t)).subset(e,n,void 0).valueOf()},"Array, Index, any, any":function(t,e,n,r){return h(a(t)).subset(e,n,r).valueOf()},"Matrix, Index, any":function(t,e,n){return t.clone().subset(e,n)},"Matrix, Index, any, any":function(t,e,n,r){return t.clone().subset(e,n,r)},"string, Index, string":l,"string, Index, string, string":l,"Object, Index, any":o});return p.toTex=void 0,p}function i(t,e){if(1!==e.size().length)throw new f(e.size(),1);var n=e.dimension(0);if("string"!=typeof n)throw new TypeError("String expected as index to retrieve an object property");return u(t,n)}function o(t,e,n){if(1!==e.size().length)throw new f(e.size(),1);var r=e.dimension(0);if("string"!=typeof r)throw new TypeError("String expected as index to retrieve an object property");var i=a(t);return c(i,r,n),i}var a=n(5).clone,s=n(3).validateIndex,u=n(18).getSafeProperty,c=n(18).setSafeProperty,f=n(10);e.name="subset",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,a){var s=n(4),u=r(n(0)),c=t.DenseMatrix,f=t.SparseMatrix,l=a("transpose",{Array:function(t){return l(u(t)).valueOf()},Matrix:function(t){var e,n=t.size();switch(n.length){case 1:e=t.clone();break;case 2:var r=n[0],i=n[1];if(0===i)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+o(n)+")");switch(t.storage()){case"dense":e=h(t,r,i);break;case"sparse":e=p(t,r,i)}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+o(this._size)+")")}return e},any:function(t){return i(t)}}),h=function(t,e,n){for(var r,o=t._data,a=[],s=0;s<n;s++){r=a[s]=[];for(var u=0;u<e;u++)r[u]=i(o[u][s])}return new c({data:a,size:[n,e],datatype:t._datatype})},p=function(t,e,n){for(var r=t._values,o=t._index,a=t._ptr,s=r?[]:void 0,u=[],c=[],l=[],h=0;h<e;h++)l[h]=0;var p,d,m;for(p=0,d=o.length;p<d;p++)l[o[p]]++;for(var g=0,v=0;v<e;v++)c.push(g),g+=l[v],l[v]=c[v];for(c.push(g),m=0;m<n;m++)for(var y=a[m],x=a[m+1],w=y;w<x;w++){var b=l[o[w]]++;u[b]=m,r&&(s[b]=i(r[w]))}return new f({values:s,index:u,ptr:c,size:[n,e],datatype:t._datatype})};return l.toTex={1:"\\left(${args[0]}\\right)"+s.operators.transpose},l}var i=n(5).clone,o=n(12).format;e.name="transpose",e.factory=r},function(t,e,n){"use strict";function r(t,e,n,r){var a=r("combinations",{"number, number":function(t,e){var n,r,i;if(!o(t)||t<0)throw new TypeError("Positive integer value expected in function combinations");if(!o(e)||e<0)throw new TypeError("Positive integer value expected in function combinations");if(e>t)throw new TypeError("k must be less than or equal to n");for(n=Math.max(e,t-e),r=1,i=1;i<=t-n;i++)r=r*(n+i)/i;return r},"BigNumber, BigNumber":function(e,n){var r,o,a,s,u=new t.BigNumber(1);if(!i(e)||!i(n))throw new TypeError("Positive integer value expected in function combinations");if(n.gt(e))throw new TypeError("k must be less than n in function combinations");for(r=e.minus(n),n.lt(r)&&(r=n),o=u,a=u,s=e.minus(r);a.lte(s);a=a.plus(1))o=o.times(r.plus(a)).dividedBy(a);return o}});return a.toTex={2:"\\binom{${args[0]}}{${args[1]}}"},a}function i(t){return t.isInteger()&&t.gte(0)}var o=n(2).isInteger;e.name="combinations",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,o){var a=r(n(194)),s=n(4),u=o("factorial",{number:function(t){if(t<0)throw new Error("Value must be non-negative");return a(t+1)},BigNumber:function(t){if(t.isNegative())throw new Error("Value must be non-negative");return a(t.plus(1))},"Array | Matrix":function(t){return i(t,u)}});return u.toTex={1:"\\left(${args[0]}\\right)"+s.operators.factorial},u}var i=n(1);e.name="factorial",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,o){var a=r(n(11)),s=t.SparseMatrix;return function(t,e,n){var r=t._values,u=t._index,c=t._ptr,f=t._size,l=t._datatype,h=e._values,p=e._index,d=e._ptr,m=e._size,g=e._datatype;if(f.length!==m.length)throw new i(f.length,m.length);if(f[0]!==m[0]||f[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+f+") must match Matrix B ("+m+")");var v,y=f[0],x=f[1],w=a,b=0,_=n;"string"==typeof l&&l===g&&(v=l,w=o.find(a,[v,v]),b=o.convert(0,v),_=o.find(n,[v,v]));var N,E,M,S,A=r&&h?[]:void 0,O=[],C=[],T=new s({values:A,index:O,ptr:C,size:[y,x],datatype:v}),P=A?[]:void 0,z=A?[]:void 0,k=[],I=[];for(E=0;E<x;E++){C[E]=O.length;var B=E+1;for(M=c[E],S=c[E+1];M<S;M++)N=u[M],O.push(N),k[N]=B,P&&(P[N]=r[M]);for(M=d[E],S=d[E+1];M<S;M++)N=p[M],k[N]!==B&&O.push(N),I[N]=B,z&&(z[N]=h[M]);if(A)for(M=C[E];M<O.length;){N=O[M];var j=k[N],R=I[N];if(j===B||R===B){var L=j===B?P[N]:b,F=R===B?z[N]:b,q=_(L,F);w(q,b)?O.splice(M,1):(A.push(q),M++)}}}return C[x]=O.length,T}}var i=n(10);e.name="algorithm05",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,a){var s=r(n(11)),u=t.SparseMatrix;return function(t,e,n){var r=t._values,c=t._size,f=t._datatype,l=e._values,h=e._size,p=e._datatype;if(c.length!==h.length)throw new o(c.length,h.length);if(c[0]!==h[0]||c[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+h+")");var d,m=c[0],g=c[1],v=s,y=0,x=n;"string"==typeof f&&f===p&&(d=f,v=a.find(s,[d,d]),y=a.convert(0,d),x=a.find(n,[d,d]));for(var w=r&&l?[]:void 0,b=[],_=[],N=new u({values:w,index:b,ptr:_,size:[m,g],datatype:d}),E=w?[]:void 0,M=[],S=[],A=0;A<g;A++){_[A]=b.length;var O=A+1;if(i(t,A,M,E,S,O,N,x),i(e,A,M,E,S,O,N,x),E)for(var C=_[A];C<b.length;){var T=b[C];if(S[T]===O){var P=E[T];v(P,y)?b.splice(C,1):(w.push(P),C++)}else b.splice(C,1)}else for(var z=_[A];z<b.length;){var k=b[z];S[k]!==O?b.splice(z,1):z++}}return _[g]=b.length,N}}var i=n(698),o=n(10);e.name="algorithm06",e.factory=r},function(t,e,n){"use strict";var r=n(61);t.exports=function(t){for(var e=0;e<t.length;e++)if(r(t[e]))return!0;return!1}},function(t,e,n){"use strict";function r(t,e,n){var o,a,s,u;if(e<=0){if(Array.isArray(t[0])){for(u=i(t),a=[],o=0;o<u.length;o++)a[o]=r(u[o],e-1,n);return a}for(s=t[0],o=1;o<t.length;o++)s=n(s,t[o]);return s}for(a=[],o=0;o<t.length;o++)a[o]=r(t[o],e-1,n);return a}function i(t){var e,n,r=t.length,i=t[0].length,o=[];for(n=0;n<i;n++){var a=[];for(e=0;e<r;e++)a.push(t[e][n]);o.push(a)}return o}var o=n(3).size,a=n(68);t.exports=function(t,e,n){var i=Array.isArray(t)?o(t):t.size();if(e<0||e>=i.length)throw new a(e,i.length);return t&&!0===t.isMatrix?t.create(r(t.valueOf(),e,n)):r(t,e,n)}},function(t,e,n){"use strict";e.type=function(t){var e=typeof t;return"object"===e?null===t?"null":t instanceof Boolean?"boolean":t instanceof Number?"number":t instanceof String?"string":Array.isArray(t)?"Array":t instanceof Date?"Date":t instanceof RegExp?"RegExp":"Object":"function"===e?"Function":e},e.isScalar=function(t){return!(t&&t.isMatrix||Array.isArray(t))}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var r=n(77);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e){t.exports=!1},function(t,e,n){var r=n(53),i=n(142),o=n(101),a=n(108)("IE_PROTO"),s=function(){},u=function(){var t,e=n(138)("iframe"),r=o.length;for(e.style.display="none",n(139).appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write("<script>document.F=Object<\/script>"),t.close(),u=t.F;r--;)delete u.prototype[o[r]];return u()};t.exports=Object.create||function(t,e){var n;return null!==t?(s.prototype=r(t),n=new s,s.prototype=null,n[a]=t):n=u(),void 0===e?n:i(n,e)}},function(t,e,n){var r=n(81),i=n(65),o=n(30),a=n(110),s=n(38),u=n(140),c=Object.getOwnPropertyDescriptor;e.f=n(34)?c:function(t,e){if(t=o(t),e=a(e,!0),u)try{return c(t,e)}catch(t){}if(s(t,e))return i(!r.f.call(t,e),t[e])}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r=n(36).f,i=n(38),o=n(21)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},function(t,e,n){var r=n(109)("keys"),i=n(66);t.exports=function(t){return r[t]||(r[t]=i(t))}},function(t,e,n){var r=n(35),i=r["__core-js_shared__"]||(r["__core-js_shared__"]={});t.exports=function(t){return i[t]||(i[t]={})}},function(t,e,n){var r=n(24);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var r=n(150),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();t.exports=o},function(t,e,n){function r(t,e){var n=o(t);return null==e?n:i(n,e)}var i=n(289),o=n(290);t.exports=r},function(t,e,n){function r(t,e){return(s(t)?i:o)(t,a(e))}var i=n(286),o=n(291),a=n(301),s=n(153);t.exports=r},function(t,e,n){function r(t){return null!=t&&o(t.length)&&!i(t)}var i=n(154),o=n(155);t.exports=r},function(t,e,n){"use strict";t.exports={end:!0}},function(t,e,n){"use strict";function r(t,e,r,a){function s(t){if(!(this instanceof s))throw new SyntaxError("Constructor must be called with the new operator");if(this.items=t||[],!Array.isArray(this.items)||!this.items.every(function(t){return t&&t.isNode}))throw new TypeError("Array containing Nodes expected");var e=function(){throw new Error("Property `ArrayNode.nodes` is deprecated, use `ArrayNode.items` instead")};Object.defineProperty(this,"nodes",{get:e,set:e})}function u(t,e,n){if(!(t instanceof s))throw new TypeError("No valid ArrayNode");var r="Array"!==e.math.config().matrix,a=i(t.items,function(t){return f(t,e,n)});return(r?"math.matrix([":"[")+o(a,",")+(r?"])":"]")}var c=r(n(7)).register,f=r(n(7)).compile,l=r(n(14));return s.prototype=new l,s.prototype.type="ArrayNode",s.prototype.isArrayNode=!0,c(s.prototype.type,u),s.prototype.forEach=function(t){for(var e=0;e<this.items.length;e++){t(this.items[e],"items["+e+"]",this)}},s.prototype.map=function(t){for(var e=[],n=0;n<this.items.length;n++)e[n]=this._ifNode(t(this.items[n],"items["+n+"]",this));return new s(e)},s.prototype.clone=function(){return new s(this.items.slice(0))},s.prototype._toString=function(t){return"["+this.items.map(function(e){return e.toString(t)}).join(", ")+"]"},s.prototype._toTex=function(t){var e="\\begin{bmatrix}";return this.items.forEach(function(n){n.items?e+=n.items.map(function(e){return e.toTex(t)}).join("&"):e+=n.toTex(t),e+="\\\\"}),e+="\\end{bmatrix}"},s}var i=n(3).map,o=n(3).join;e.name="ArrayNode",e.path="expression.node",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,a){function s(t,e){if(!(this instanceof s))throw new SyntaxError("Constructor must be called with the new operator");if(this.dimensions=t,this.dotNotation=e||!1,!p(t)||!t.every(function(t){return t&&t.isNode}))throw new TypeError('Array containing Nodes expected for parameter "dimensions"');if(this.dotNotation&&!this.isObjectProperty())throw new Error("dotNotation only applicable for object properties");var n=function(){throw new Error("Property `IndexNode.object` is deprecated, use `IndexNode.fn` instead")};Object.defineProperty(this,"object",{get:n,set:n})}function u(t,e,n){if(!(t instanceof s))throw new TypeError("No valid IndexNode");var r=Object.create(n);e.range=function(t,e,n){return new h(t&&!0===t.isBigNumber?t.toNumber():t,e&&!0===e.isBigNumber?e.toNumber():e,n&&!0===n.isBigNumber?n.toNumber():n)};var a=i(t.dimensions,function(t,n){return t&&t.isRangeNode?t.needsEnd()?(r.end="end","(function () {var end = size["+n+"]; return range("+f(t.start,e,r)+", "+f(t.end,e,r)+", "+(t.step?f(t.step,e,r):"1")+"); })()"):"range("+f(t.start,e,r)+", "+f(t.end,e,r)+", "+(t.step?f(t.step,e,r):"1")+")":t.isSymbolNode&&"end"===t.name?(r.end="end","(function () {var end = size["+n+"]; return "+f(t,e,r)+"; })()"):f(t,e,r)});return"math.index("+o(a,", ")+")"}var c=r(n(7)).register,f=r(n(7)).compile,l=r(n(14)),h=(r(n(118)),r(n(40)),r(n(210))),p=Array.isArray;return s.prototype=new l,s.prototype.type="IndexNode",s.prototype.isIndexNode=!0,c(s.prototype.type,u),s.prototype.forEach=function(t){for(var e=0;e<this.dimensions.length;e++)t(this.dimensions[e],"dimensions["+e+"]",this)},s.prototype.map=function(t){for(var e=[],n=0;n<this.dimensions.length;n++)e[n]=this._ifNode(t(this.dimensions[n],"dimensions["+n+"]",this));return new s(e)},s.prototype.clone=function(){return new s(this.dimensions.slice(0))},s.prototype.isObjectProperty=function(){return 1===this.dimensions.length&&this.dimensions[0].isConstantNode&&"string"===this.dimensions[0].valueType},s.prototype.getObjectProperty=function(){return this.isObjectProperty()?this.dimensions[0].value:null},s.prototype._toString=function(t){return this.dotNotation?"."+this.getObjectProperty():"["+this.dimensions.join(", ")+"]"},s.prototype._toTex=function(t){var e=this.dimensions.map(function(e){return e.toTex(t)});return this.dotNotation?"."+this.getObjectProperty():"_{"+e.join(",")+"}"},s.prototype.needsSize=function(){return this.dimensions.some(function(t){return t.isRangeNode&&t.needsEnd()||t.isSymbolNode&&"end"===t.name})},s}var i=n(3).map,o=n(3).join;e.name="IndexNode",e.path="expression.node",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,o){function a(t,e,n){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");if(!t||!t.isNode)throw new TypeError("Node expected");if(!e||!e.isNode)throw new TypeError("Node expected");if(n&&(!n||!n.isNode))throw new TypeError("Node expected");if(arguments.length>3)throw new Error("Too many arguments");this.start=t,this.end=e,this.step=n||null}function s(t,e,n){if(!(t instanceof a))throw new TypeError("No valid RangeNode");return"math.range("+f(t.start,e,n)+", "+f(t.end,e,n)+(t.step?", "+f(t.step,e,n):"")+")"}function u(t,e){var n=i.getPrecedence(t,e),r={},o=i.getPrecedence(t.start,e);if(r.start=null!==o&&o<=n||"all"===e,t.step){var a=i.getPrecedence(t.step,e);r.step=null!==a&&a<=n||"all"===e}var s=i.getPrecedence(t.end,e);return r.end=null!==s&&s<=n||"all"===e,r}var c=r(n(7)).register,f=r(n(7)).compile,l=r(n(14));return a.prototype=new l,a.prototype.type="RangeNode",a.prototype.isRangeNode=!0,a.prototype.needsEnd=function(){return this.filter(function(t){return t&&t.isSymbolNode&&"end"==t.name}).length>0},c(a.prototype.type,s),a.prototype.forEach=function(t){t(this.start,"start",this),t(this.end,"end",this),this.step&&t(this.step,"step",this)},a.prototype.map=function(t){return new a(this._ifNode(t(this.start,"start",this)),this._ifNode(t(this.end,"end",this)),this.step&&this._ifNode(t(this.step,"step",this)))},a.prototype.clone=function(){return new a(this.start,this.end,this.step&&this.step)},a.prototype._toString=function(t){var e,n=t&&t.parenthesis?t.parenthesis:"keep",r=u(this,n),i=this.start.toString(t);if(r.start&&(i="("+i+")"),e=i,this.step){var o=this.step.toString(t);r.step&&(o="("+o+")"),e+=":"+o}var a=this.end.toString(t);return r.end&&(a="("+a+")"),e+=":"+a},a.prototype._toTex=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",n=u(this,e),r=this.start.toTex(t);if(n.start&&(r="\\left("+r+"\\right)"),this.step){var i=this.step.toTex(t);n.step&&(i="\\left("+i+"\\right)"),r+=":"+i}var o=this.end.toTex(t);return n.end&&(o="\\left("+o+"\\right)"),r+=":"+o},a}var i=n(71);e.name="RangeNode",e.path="expression.node",e.factory=r},function(t,e,n){"use strict";function r(t){var e=t.DenseMatrix;return function(t,n,r){var i=t.size();if(2!==i.length)throw new RangeError("Matrix must be two dimensional (size: "+o.format(i)+")");var u=i[0];if(u!==i[1])throw new RangeError("Matrix must be square (size: "+o.format(i)+")");var c,f,l;if(n&&!0===n.isMatrix){var h=n.size();if(1===h.length){if(h[0]!==u)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(c=[],l=n._data,f=0;f<u;f++)c[f]=[l[f]];return new e({data:c,size:[u,1],datatype:n._datatype})}if(2===h.length){if(h[0]!==u||1!==h[1])throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if(!0===n.isDenseMatrix){if(r){for(c=[],l=n._data,f=0;f<u;f++)c[f]=[l[f][0]];return new e({data:c,size:[u,1],datatype:n._datatype})}return n}for(c=[],f=0;f<u;f++)c[f]=[0];for(var p=n._values,d=n._index,m=n._ptr,g=m[1],v=m[0];v<g;v++)f=d[v],c[f][0]=p[v];return new e({data:c,size:[u,1],datatype:n._datatype})}throw new RangeError("Dimension mismatch. Matrix columns must match vector length.")}if(s(n)){var y=a.size(n);if(1===y.length){if(y[0]!==u)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(c=[],f=0;f<u;f++)c[f]=[n[f]];return new e({data:c,size:[u,1]})}if(2===y.length){if(y[0]!==u||1!==y[1])throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(c=[],f=0;f<u;f++)c[f]=[n[f][0]];return new e({data:c,size:[u,1]})}throw new RangeError("Dimension mismatch. Matrix columns must match vector length.")}}}var i=n(33),o=i.string,a=i.array,s=Array.isArray;e.factory=r},function(t,e,n){"use strict";function r(){return function(t){return-t-2}}e.name="cs_flip",e.path="sparse",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,o){function a(t,e){return-c(t,e)}function s(t,e,n){if(!i(e)||e<0)throw new Error("k must be a non-negative integer");if(t&&t.isMatrix){if(t.size().length>1)throw new Error("Only one dimensional matrices supported");return u(t.valueOf(),e,n)}if(Array.isArray(t))return u(t,e,n)}function u(t,e,n){if(e>=t.length)throw new Error("k out of bounds");for(var r=0,i=t.length-1;r<i;){for(var o=r,a=i,s=t[Math.floor(Math.random()*(i-r+1))+r];o<a;)if(n(t[o],s)>=0){var u=t[a];t[a]=t[o],t[o]=u,--a}else++o;n(t[o],s)>0&&--o,e<=o?i=o:r=o+1}return t[e]}var c=r(n(73));return o("partitionSelect",{"Array | Matrix, number":function(t,e){return s(t,e,c)},"Array | Matrix, number, string":function(t,e,n){if("asc"===n)return s(t,e,c);if("desc"===n)return s(t,e,a);throw new Error('Compare string must be "asc" or "desc"')},"Array | Matrix, number, function":s})}var i=n(2).isInteger;e.name="partitionSelect",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,s,u){function c(t){if(!p.hasOwnProperty(t))throw new Error("Unknown distribution "+t);var e=Array.prototype.slice.call(arguments,1),n=p[t].apply(this,e);return function(t){var e={random:function(t,e,n){var s,u,l;if(arguments.length>3)throw new i("random",arguments.length,0,3);if(1===arguments.length?o(t)?s=t:l=t:2===arguments.length?o(t)?(s=t,l=e):(u=t,l=e):(s=t,u=e,l=n),void 0!==u&&!a(u)||void 0!==l&&!a(l))throw new TypeError("Invalid argument in function random");if(void 0===l&&(l=1),void 0===u&&(u=0),void 0!==s){var h=c(s.valueOf(),u,l,r);return s&&!0===s.isMatrix?f(h):h}return r(u,l)},randomInt:s({"number | Array":function(t){if(o(t)){var e=t,n=1,r=c(e.valueOf(),0,n,u);return e&&!0===e.isMatrix?f(r):r}var n=t;return u(0,n)},"number | Array, number":function(t,e){if(o(t)){var n=t,r=e,i=0,a=c(n.valueOf(),i,r,u);return n&&!0===n.isMatrix?f(a):a}var i=t,r=e;return u(i,r)},"Array, number, number":function(t,e,n){var r=c(t.valueOf(),e,n,u);return t&&!0===t.isMatrix?f(r):r}}),pickRandom:s({Array:function(t){return n(t)},"Array, number | Array":function(t,e){var r,i;if(Array.isArray(e))i=e;else{if(!a(e))throw new TypeError("Invalid argument in function pickRandom");r=e}return n(t,r,i)},"Array, number | Array, Array | number":function(t,e,r){var i,o;if(Array.isArray(e)?(o=e,i=r):(o=r,i=e),!Array.isArray(o)||!a(i))throw new TypeError("Invalid argument in function pickRandom");return n(t,i,o)}})},n=function(t,e,n){var r=void 0===e;if(r&&(e=1),t&&!0===t.isMatrix)t=t.valueOf();else if(!Array.isArray(t))throw new TypeError("Unsupported type of value in function pickRandom");if(l.size(t).length>1)throw new Error("Only one dimensional vectors supported");if(void 0!==n){if(n.length!=t.length)throw new Error("Weights must have the same length as possibles");for(var i=0,o=0,s=n.length;o<s;o++){if(!a(n[o])||n[o]<0)throw new Error("Weights must be an array of positive numbers");i+=n[o]}}var u=t.length;if(0==u)return[];if(e>=u)return t;for(var c,f=[];f.length<e;){if(void 0===n)c=t[Math.floor(h()*u)];else for(var p=h()*i,o=0,s=t.length;o<s;o++)if((p-=n[o])<0){c=t[o];break}-1==f.indexOf(c)&&f.push(c)}return r?f[0]:f},r=function(e,n){return e+t()*(n-e)},u=function(e,n){return Math.floor(e+t()*(n-e))},c=function(t,e,n,r){var i,o,a=[];if(t=t.slice(0),t.length>1)for(var o=0,i=t.shift();o<i;o++)a.push(c(t,e,n,r));else for(var o=0,i=t.shift();o<i;o++)a.push(r(e,n));return a};return e}(n)}var f=r(n(0)),l=n(3),h=r(n(617)),p={uniform:function(){return h},normal:function(){return function(){for(var t,e,n=-1;n<0||n>1;)t=h(),e=h(),n=1/6*Math.pow(-2*Math.log(t),.5)*Math.cos(2*Math.PI*e)+.5;return n}}};return c.toTex=void 0,c}var i=n(67),o=n(61),a=n(2).isNumber;e.name="distribution",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,i){var o=r(n(0)),a=r(n(11)),s=r(n(15)),u=r(n(32)),c=r(n(17)),f=r(n(9)),l=r(n(6)),h=n(4),p=i("equal",{"any, any":function(t,e){return null===t?null===e:null===e?null===t:void 0===t?void 0===e:void 0===e?void 0===t:a(t,e)},"Matrix, Matrix":function(t,e){var n;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":n=u(t,e,a);break;default:n=s(e,t,a,!0)}break;default:switch(e.storage()){case"sparse":n=s(t,e,a,!1);break;default:n=f(t,e,a)}}return n},"Array, Array":function(t,e){return p(o(t),o(e)).valueOf()},"Array, Matrix":function(t,e){return p(o(t),e)},"Matrix, Array":function(t,e){return p(t,o(e))},"Matrix, any":function(t,e){var n;switch(t.storage()){case"sparse":n=c(t,e,a,!1);break;default:n=l(t,e,a,!1)}return n},"any, Matrix":function(t,e){var n;switch(e.storage()){case"sparse":n=c(e,t,a,!0);break;default:n=l(e,t,a,!0)}return n},"Array, any":function(t,e){return l(o(t),e,a,!1).valueOf()},"any, Array":function(t,e){return l(o(e),t,a,!0).valueOf()}});return p.toTex={2:"\\left(${args[0]}"+h.operators.equal+"${args[1]}\\right)"},p}e.name="equal",e.factory=r},function(t,e,n){"use strict";function r(t,e,n,r){var o=r("isNumeric",{"number | BigNumber | Fraction | boolean":function(){return!0},"Complex | Unit | string":function(){return!1},"Array | Matrix":function(t){return i(t,o)}});return o}var i=n(1);n(2);e.name="isNumeric",e.factory=r},function(t,e,n){"use strict";function r(t,e,n,r){var o=r("isZero",{number:function(t){return 0===t},BigNumber:function(t){return t.isZero()},Complex:function(t){return 0===t.re&&0===t.im},Fraction:function(t){return 1===t.d&&0===t.n},Unit:function(t){return o(t.value)},"Array | Matrix":function(t){return i(t,o)}});return o}var i=n(1);n(2);e.name="isZero",e.factory=r},function(t,e,n){"use strict";function r(t,e,n,r){function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator")}return i.prototype.type="Matrix",i.prototype.isMatrix=!0,i.storage=function(t){if(!a(t))throw new TypeError("format must be a string value");var e=i._storage[t];if(!e)throw new SyntaxError("Unsupported matrix storage format: "+t);return e},i._storage={},i.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},i.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},i.prototype.create=function(t,e){throw new Error("Cannot invoke create on a Matrix interface")},i.prototype.subset=function(t,e,n){throw new Error("Cannot invoke subset on a Matrix interface")},i.prototype.get=function(t){throw new Error("Cannot invoke get on a Matrix interface")},i.prototype.set=function(t,e,n){throw new Error("Cannot invoke set on a Matrix interface")},i.prototype.resize=function(t,e){throw new Error("Cannot invoke resize on a Matrix interface")},i.prototype.reshape=function(t,e){throw new Error("Cannot invoke reshape on a Matrix interface")},i.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},i.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},i.prototype.map=function(t,e){throw new Error("Cannot invoke map on a Matrix interface")},i.prototype.forEach=function(t){throw new Error("Cannot invoke forEach on a Matrix interface")},i.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},i.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},i.prototype.format=function(t){throw new Error("Cannot invoke format on a Matrix interface")},i.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},i}var i=n(33),o=i.string,a=o.isString;e.name="Matrix",e.path="type",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,o){var a=r(n(11)),s=t.SparseMatrix;return function(t,e,n){var r=t._values,u=t._index,c=t._ptr,f=t._size,l=t._datatype,h=e._values,p=e._index,d=e._ptr,m=e._size,g=e._datatype;if(f.length!==m.length)throw new i(f.length,m.length);if(f[0]!==m[0]||f[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+f+") must match Matrix B ("+m+")");var v,y=f[0],x=f[1],w=a,b=0,_=n;"string"==typeof l&&l===g&&(v=l,w=o.find(a,[v,v]),b=o.convert(0,v),_=o.find(n,[v,v]));var N,E,M,S,A,O=r&&h?[]:void 0,C=[],T=[],P=new s({values:O,index:C,ptr:T,size:[y,x],datatype:v}),z=r&&h?[]:void 0,k=r&&h?[]:void 0,I=[],B=[];for(E=0;E<x;E++){T[E]=C.length;var j=E+1;for(S=c[E],A=c[E+1],M=S;M<A;M++)N=u[M],C.push(N),I[N]=j,z&&(z[N]=r[M]);for(S=d[E],A=d[E+1],M=S;M<A;M++)if(N=p[M],I[N]===j){if(z){var R=_(z[N],h[M]);w(R,b)?I[N]=null:z[N]=R}}else C.push(N),B[N]=j,k&&(k[N]=h[M]);if(z&&k)for(M=T[E];M<C.length;)N=C[M],I[N]===j?(O[M]=z[N],M++):B[N]===j?(O[M]=k[N],M++):C.splice(M,1)}return T[x]=C.length,P}}var i=n(10);e.name="algorithm04",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,o){var a=r(n(11)),s=t.SparseMatrix;return function(t,e,n){var r=t._values,u=t._index,c=t._ptr,f=t._size,l=t._datatype,h=e._values,p=e._index,d=e._ptr,m=e._size,g=e._datatype;if(f.length!==m.length)throw new i(f.length,m.length);if(f[0]!==m[0]||f[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+f+") must match Matrix B ("+m+")");if(!r||!h)throw new Error("Cannot perform operation on Pattern Sparse Matrices");var v,y=f[0],x=f[1],w=a,b=0,_=n;"string"==typeof l&&l===g&&(v=l,w=o.find(a,[v,v]),b=o.convert(0,v),_=o.find(n,[v,v]));for(var N,E,M,S,A=[],O=[],C=[],T=new s({values:A,index:O,ptr:C,size:[y,x],datatype:v}),P=[],z=[],k=0;k<x;k++){C[k]=O.length;var I=k+1;for(E=c[k],M=c[k+1],N=E;N<M;N++)S=u[N],z[S]=I,P[S]=r[N],O.push(S);for(E=d[k],M=d[k+1],N=E;N<M;N++)S=p[N],z[S]===I&&(P[S]=_(P[S],h[N]));for(N=C[k];N<O.length;){S=O[N];var B=P[S];w(B,b)?O.splice(N,1):(A.push(B),N++)}}return C[x]=O.length,T}}var i=n(10);e.name="algorithm08",e.factory=r},function(t,e,n){"use strict";function r(t,e,n,r){var o=r("number",{"":function(){return 0},number:function(t){return t},string:function(t){var e=Number(t);if(isNaN(e))throw new SyntaxError('String "'+t+'" is no valid number');return e},BigNumber:function(t){return t.toNumber()},Fraction:function(t){return t.valueOf()},Unit:function(t){throw new Error("Second argument with valueless unit expected")},"Unit, string | Unit":function(t,e){return t.toNumber(e)},"Array | Matrix":function(t){return i(t,o)}});return o.toTex={0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},o}var i=n(1);e.name="number",e.factory=r},function(t,e){t.exports=function(t){if(t.isFinite()&&!t.isInteger())throw new Error("Integer expected in function bitNot");var e=t.constructor,n=e.precision;e.config({precision:1e9});var t=t.plus(new e(1));return t.s=-t.s||null,e.config({precision:n}),t}},function(t,e,n){function r(t){for(var e=t.d,n=e[0]+"",r=1;r<e.length;++r){for(var i=e[r]+"",o=7-i.length;o--;)i="0"+i;n+=i}var a;for(a=n.length-1;"0"==n.charAt(a);--a);var s=t.e,u=n.slice(0,a+1||1),c=u.length;if(s>0)if(++s>c)for(s-=c;s--;u+="0");else s<c&&(u=u.slice(0,s)+"."+u.slice(s));for(var f=[0],r=0;r<u.length;){for(var l=f.length;l--;f[l]*=10);f[0]+=u.charAt(r++)<<0;for(var a=0;a<f.length;++a)f[a]>1&&(null==f[a+1]&&(f[a+1]=0),f[a+1]+=f[a]>>1,f[a]&=1)}return f.reverse()}var i=n(130);t.exports=function(t,e,n){var o,a,s=t.constructor,u=+(t.s<0),c=+(e.s<0);if(u){o=r(i(t));for(var f=0;f<o.length;++f)o[f]^=1}else o=r(t);if(c){a=r(i(e));for(var f=0;f<a.length;++f)a[f]^=1}else a=r(e);var l,h,p;o.length<=a.length?(l=o,h=a,p=u):(l=a,h=o,p=c);var d=l.length,m=h.length,g=1^n(u,c),v=new s(1^g),y=new s(1),x=new s(2),w=s.precision;for(s.config({precision:1e9});d>0;)n(l[--d],h[--m])==g&&(v=v.plus(y)),y=y.times(x);for(;m>0;)n(p,h[--m])==g&&(v=v.plus(y)),y=y.times(x);return s.config({precision:w}),0==g&&(v.s=-v.s),v}},function(t,e,n){"use strict";function r(t,e,n){n.closest=e.radius(t,50)}function i(t,e,n){var r=t.position,i=n.closest,o=2*t.radius,a=new u.Point(0,0),f=0;if((0,s.default)(i,function(t){var e=r.getDistance(t.position);if(e>0&&e<o){var n=r.subtract(t.position).normalize().divide(e);a=a.add(n),f++}}),f>0){var l=t.physics,h=l.velocity,p=l.maxSpeed,d=l.maxForce,m=(0,c.limit)(a.divide(f).normalize(p).subtract(h),d);t.applyForce(m,2)}}function o(t,e,n){var r=t.seek(l);t.applyForce(r,1)}Object.defineProperty(e,"__esModule",{value:!0}),e.seekMouse=e.separate=e.observe=void 0;var a=n(113),s=function(t){return t&&t.__esModule?t:{default:t}}(a),u=n(76),c=n(62);e.observe=r,e.separate=i,e.seekMouse=o;var f=new u.Tool,l=new u.Point(0,0);f.onMouseMove=function(t){l=t.point}},function(t,e,n){"use strict";function r(t,e){var n=e.fillColor,r=e.radius;t.radius=r,t.body=new u.Path.Circle({center:[0,0],fillColor:n,radius:r})}function i(t,e){var n=e.maxSpeed,r=e.maxForce;t.physics={maxSpeed:n||3,maxForce:r||.5,acceleration:new u.Point(0,0),velocity:new u.Point(0,0)}}function o(t,e){var n=this.physics,r=n.acceleration,i=t.multiply(e||1);n.acceleration=r.add(i)}function a(){var t=this.physics,e=t.velocity,n=t.acceleration,r=t.maxSpeed,i=e.add(n),o=(0,c.limit)(i,r);this.position=this.position.add(o),t.acceleration=new u.Point(0,0),t.velocity=o}function s(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.position,r=this.physics,i=r.velocity,o=r.maxSpeed,a=r.maxForce,s=t.subtract(n).normalize(o).subtract(i);if(e){var u=n.getDistance(t);if(u<100){var f=(0,c.mapRange)(u,0,100);s=s.multiply(f)}}return(0,c.limit)(s,a)}Object.defineProperty(e,"__esModule",{value:!0}),e.seek=e.updateForce=e.applyForce=e.physics=e.body=void 0;var u=n(76),c=n(62);e.body=r,e.physics=i,e.applyForce=o,e.updateForce=a,e.seek=s},function(t,e,n){var r=n(30),i=n(39),o=n(83);t.exports=function(t){return function(e,n,a){var s,u=r(e),c=i(u.length),f=o(a,c);if(t&&n!=n){for(;c>f;)if((s=u[f++])!=s)return!0}else for(;c>f;f++)if((t||f in u)&&u[f]===n)return t||f||0;return!t&&-1}}},function(t,e,n){var r=n(99),i=n(31),o=n(64),a=n(39);t.exports=function(t,e,n,s,u){r(e);var c=i(t),f=o(c),l=a(c.length),h=u?l-1:0,p=u?-1:1;if(n<2)for(;;){if(h in f){s=f[h],h+=p;break}if(h+=p,u?h<0:l<=h)throw TypeError("Reduce of empty array with no initial value")}for(;u?h>=0:l>h;h+=p)h in f&&(s=e(s,f[h],h,c));return s}},function(t,e,n){var r=n(77),i=n(21)("toStringTag"),o="Arguments"==r(function(){return arguments}()),a=function(t,e){try{return t[e]}catch(t){}};t.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=a(e=Object(t),i))?n:o?r(e):"Object"==(s=r(e))&&"function"==typeof e.callee?"Arguments":s}},function(t,e,n){"use strict";var r=n(36),i=n(65);t.exports=function(t,e,n){e in t?r.f(t,e,i(0,n)):t[e]=n}},function(t,e,n){var r=n(24),i=n(35).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e,n){t.exports=n(35).document&&document.documentElement},function(t,e,n){t.exports=!n(34)&&!n(28)(function(){return 7!=Object.defineProperty(n(138)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){"use strict";var r=n(103),i=n(8),o=n(82),a=n(54),s=n(38),u=n(79),c=n(233),f=n(107),l=n(145),h=n(21)("iterator"),p=!([].keys&&"next"in[].keys()),d=function(){return this};t.exports=function(t,e,n,m,g,v,y){c(n,e,m);var x,w,b,_=function(t){if(!p&&t in S)return S[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},N=e+" Iterator",E="values"==g,M=!1,S=t.prototype,A=S[h]||S["@@iterator"]||g&&S[g],O=A||_(g),C=g?E?_("entries"):O:void 0,T="Array"==e?S.entries||A:A;if(T&&(b=l(T.call(new t)))!==Object.prototype&&(f(b,N,!0),r||s(b,h)||a(b,h,d)),E&&A&&"values"!==A.name&&(M=!0,O=function(){return A.call(this)}),r&&!y||!p&&!M&&S[h]||a(S,h,O),u[e]=O,u[N]=d,g)if(x={values:E?O:_("values"),keys:v?O:_("keys"),entries:C},y)for(w in x)w in S||o(S,w,x[w]);else i(i.P+i.F*(p||M),e,x);return x}},function(t,e,n){var r=n(36),i=n(53),o=n(55);t.exports=n(34)?Object.defineProperties:function(t,e){i(t);for(var n,a=o(e),s=a.length,u=0;s>u;)r.f(t,n=a[u++],e[n]);return t}},function(t,e,n){var r=n(30),i=n(144).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(t){try{return i(t)}catch(t){return a.slice()}};t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?s(t):i(r(t))}},function(t,e,n){var r=n(146),i=n(101).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,e,n){var r=n(38),i=n(31),o=n(108)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,n){var r=n(38),i=n(30),o=n(134)(!1),a=n(108)("IE_PROTO");t.exports=function(t,e){var n,s=i(t),u=0,c=[];for(n in s)n!=a&&r(s,n)&&c.push(n);for(;e.length>u;)r(s,n=e[u++])&&(~o(c,n)||c.push(n));return c}},function(t,e,n){e.f=n(21)},function(t,e,n){var r=n(111),i=r.Symbol;t.exports=i},function(t,e,n){function r(t,e,n){"__proto__"==e&&i?i(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var i=n(306);t.exports=r},function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(e,n(216))},function(t,e){function n(t,e){return!!(e=null==e?r:e)&&("number"==typeof t||i.test(t))&&t>-1&&t%1==0&&t<e}var r=9007199254740991,i=/^(?:0|[1-9]\d*)$/;t.exports=n},function(t,e){function n(t,e){return t===e||t!==t&&e!==e}t.exports=n},function(t,e){var n=Array.isArray;t.exports=n},function(t,e,n){function r(t){if(!o(t))return!1;var e=i(t);return e==s||e==u||e==a||e==c}var i=n(85),o=n(56),a="[object AsyncFunction]",s="[object Function]",u="[object GeneratorFunction]",c="[object Proxy]";t.exports=r},function(t,e){function n(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=r}var r=9007199254740991;t.exports=n},function(t,e,n){function r(t){return a(t)?i(t):o(t)}var i=n(287),o=n(297),a=n(114);t.exports=r},function(t,e,n){"use strict";function r(t,e,r,a,s){function u(){if(!(this instanceof u))throw new SyntaxError("Constructor must be called with the new operator");this.scope={}}var c=r(n(45));return u.prototype.type="Parser",u.prototype.isParser=!0,u.prototype.parse=function(t){throw new Error("Parser.parse is deprecated. Use math.parse instead.")},u.prototype.compile=function(t){throw new Error("Parser.compile is deprecated. Use math.compile instead.")},u.prototype.eval=function(t){return c(t).compile().eval(this.scope)},u.prototype.get=function(t){return t in this.scope?o.getSafeProperty(this.scope,t):void 0},u.prototype.getAll=function(){return i({},this.scope)},u.prototype.set=function(t,e){return o.setSafeProperty(this.scope,t,e)},u.prototype.remove=function(t){delete this.scope[t]},u.prototype.clear=function(){for(var t in this.scope)this.scope.hasOwnProperty(t)&&delete this.scope[t]},u}var i=n(5).extend,o=n(18);e.name="Parser",e.path="expression",e.factory=r,e.math=!0},function(t,e){t.exports={name:"e",category:"Constants",syntax:["e"],description:"Euler's number, the base of the natural logarithm. Approximately equal to 2.71828",examples:["e","e ^ 2","exp(2)","log(e)"],seealso:["exp"]}},function(t,e){t.exports={name:"pi",category:"Constants",syntax:["pi"],description:"The number pi is a mathematical constant that is the ratio of a circle's circumference to its diameter, and is approximately equal to 3.14159",examples:["pi","sin(pi/2)"],seealso:["tau"]}},function(t,e,n){function r(t,e,r,i){var o={};return o.bignumber=n(351),o.boolean=n(352),o.complex=n(353),o.createUnit=n(354),o.fraction=n(355),o.index=n(356),o.matrix=n(357),o.number=n(358),o.sparse=n(359),o.splitUnit=n(360),o.string=n(361),o.unit=n(362),o.e=n(158),o.E=n(158),o.false=n(344),o.i=n(345),o.Infinity=n(336),o.LN2=n(338),o.LN10=n(337),o.LOG2E=n(340),o.LOG10E=n(339),o.NaN=n(341),o.null=n(346),o.pi=n(159),o.PI=n(159),o.phi=n(347),o.SQRT1_2=n(342),o.SQRT2=n(343),o.tau=n(348),o.true=n(349),o.version=n(350),o.speedOfLight={description:"Speed of light in vacuum",examples:["speedOfLight"]},o.gravitationConstant={description:"Newtonian constant of gravitation",examples:["gravitationConstant"]},o.planckConstant={description:"Planck constant",examples:["planckConstant"]},o.reducedPlanckConstant={description:"Reduced Planck constant",examples:["reducedPlanckConstant"]},o.magneticConstant={description:"Magnetic constant (vacuum permeability)",examples:["magneticConstant"]},o.electricConstant={description:"Electric constant (vacuum permeability)",examples:["electricConstant"]},o.vacuumImpedance={description:"Characteristic impedance of vacuum",examples:["vacuumImpedance"]},o.coulomb={description:"Coulomb's constant",examples:["coulomb"]},o.elementaryCharge={description:"Elementary charge",examples:["elementaryCharge"]},o.bohrMagneton={description:"Borh magneton",examples:["bohrMagneton"]},o.conductanceQuantum={description:"Conductance quantum",examples:["conductanceQuantum"]},o.inverseConductanceQuantum={description:"Inverse conductance quantum",examples:["inverseConductanceQuantum"]},o.magneticFluxQuantum={description:"Magnetic flux quantum",examples:["magneticFluxQuantum"]},o.nuclearMagneton={description:"Nuclear magneton",examples:["nuclearMagneton"]},o.klitzing={description:"Von Klitzing constant",examples:["klitzing"]},o.bohrRadius={description:"Borh radius",examples:["bohrRadius"]},o.classicalElectronRadius={description:"Classical electron radius",examples:["classicalElectronRadius"]},o.electronMass={description:"Electron mass",examples:["electronMass"]},o.fermiCoupling={description:"Fermi coupling constant",examples:["fermiCoupling"]},o.fineStructure={description:"Fine-structure constant",examples:["fineStructure"]},o.hartreeEnergy={description:"Hartree energy",examples:["hartreeEnergy"]},o.protonMass={description:"Proton mass",examples:["protonMass"]},o.deuteronMass={description:"Deuteron Mass",examples:["deuteronMass"]},o.neutronMass={description:"Neutron mass",examples:["neutronMass"]},o.quantumOfCirculation={description:"Quantum of circulation",examples:["quantumOfCirculation"]},o.rydberg={description:"Rydberg constant",examples:["rydberg"]},o.thomsonCrossSection={description:"Thomson cross section",examples:["thomsonCrossSection"]},o.weakMixingAngle={description:"Weak mixing angle",examples:["weakMixingAngle"]},o.efimovFactor={description:"Efimov factor",examples:["efimovFactor"]},o.atomicMass={description:"Atomic mass constant",examples:["atomicMass"]},o.avogadro={description:"Avogadro's number",examples:["avogadro"]},o.boltzmann={description:"Boltzmann constant",examples:["boltzmann"]},o.faraday={description:"Faraday constant",examples:["faraday"]},o.firstRadiation={description:"First radiation constant",examples:["firstRadiation"]},o.loschmidt={description:"Loschmidt constant at T=273.15 K and p=101.325 kPa",examples:["loschmidt"]},o.gasConstant={description:"Gas constant",examples:["gasConstant"]},o.molarPlanckConstant={description:"Molar Planck constant",examples:["molarPlanckConstant"]},o.molarVolume={description:"Molar volume of an ideal gas at T=273.15 K and p=101.325 kPa",examples:["molarVolume"]},o.sackurTetrode={description:"Sackur-Tetrode constant at T=1 K and p=101.325 kPa",examples:["sackurTetrode"]},o.secondRadiation={description:"Second radiation constant",examples:["secondRadiation"]},o.stefanBoltzmann={description:"Stefan-Boltzmann constant",examples:["stefanBoltzmann"]},o.wienDisplacement={description:"Wien displacement law constant",examples:["wienDisplacement"]},o.molarMass={description:"Molar mass constant",examples:["molarMass"]},o.molarMassC12={description:"Molar mass constant of carbon-12",examples:["molarMassC12"]},o.gravity={description:"Standard acceleration of gravity (standard acceleration of free-fall on Earth)",examples:["gravity"]},o.planckLength={description:"Planck length",examples:["planckLength"]},o.planckMass={description:"Planck mass",examples:["planckMass"]},o.planckTime={description:"Planck time",examples:["planckTime"]},o.planckCharge={description:"Planck charge",examples:["planckCharge"]},o.planckTemperature={description:"Planck temperature",examples:["planckTemperature"]},o.derivative=n(366),o.lsolve=n(367),o.lup=n(368),o.lusolve=n(369),o.simplify=n(371),o.slu=n(372),o.usolve=n(373),o.qr=n(370),o.abs=n(374),o.add=n(375),o.cbrt=n(376),o.ceil=n(377),o.cube=n(378),o.divide=n(379),o.dotDivide=n(380),o.dotMultiply=n(381),o.dotPow=n(382),o.exp=n(383),o.fix=n(384),o.floor=n(385),o.gcd=n(386),o.hypot=n(387),o.lcm=n(388),o.log=n(389),o.log10=n(390),o.mod=n(391),o.multiply=n(392),o.norm=n(393),o.nthRoot=n(394),o.pow=n(395),o.round=n(396),o.sign=n(397),o.sqrt=n(398),o.square=n(399),o.subtract=n(400),o.unaryMinus=n(401),o.unaryPlus=n(402),o.xgcd=n(403),o.bitAnd=n(404),o.bitNot=n(405),o.bitOr=n(406),o.bitXor=n(407),o.leftShift=n(408),o.rightArithShift=n(409),o.rightLogShift=n(410),o.bellNumbers=n(411),o.catalan=n(412),o.composition=n(413),o.stirlingS2=n(414),o.config=n(363),o.import=n(364),o.typed=n(365),o.arg=n(415),o.conj=n(416),o.re=n(418),o.im=n(417),o.eval=n(419),o.help=n(420),o.distance=n(421),o.intersect=n(422),o.and=n(423),o.not=n(424),o.or=n(425),o.xor=n(426),o.concat=n(427),o.cross=n(428),o.det=n(429),o.diag=n(430),o.dot=n(431),o.eye=n(432),o.filter=n(433),o.flatten=n(434),o.forEach=n(435),o.inv=n(436),o.kron=n(437),o.map=n(438),o.ones=n(439),o.partitionSelect=n(440),o.range=n(441),o.resize=n(443),o.reshape=n(442),o.size=n(444),o.sort=n(445),o.squeeze=n(446),o.subset=n(447),o.trace=n(448),o.transpose=n(449),o.zeros=n(450),o.combinations=n(451),o.factorial=n(452),o.gamma=n(453),o.kldivergence=n(454),o.multinomial=n(455),o.permutations=n(456),o.pickRandom=n(457),o.random=n(458),o.randomInt=n(459),o.compare=n(460),o.deepEqual=n(461),o.equal=n(462),o.larger=n(463),o.largerEq=n(464),o.smaller=n(465),o.smallerEq=n(466),o.unequal=n(467),o.erf=n(468),o.mad=n(469),o.max=n(470),o.mean=n(471),o.median=n(472),o.min=n(473),o.mode=n(474),o.prod=n(475),o.quantileSeq=n(476),o.std=n(477),o.sum=n(478),o.var=n(479),o.acos=n(480),o.acosh=n(481),o.acot=n(482),o.acoth=n(483),o.acsc=n(484),o.acsch=n(485),o.asec=n(486),o.asech=n(487),o.asin=n(488),o.asinh=n(489),o.atan=n(490),o.atanh=n(492),o.atan2=n(491),o.cos=n(493),o.cosh=n(494),o.cot=n(495),o.coth=n(496),o.csc=n(497),o.csch=n(498),o.sec=n(499),o.sech=n(500),o.sin=n(501),o.sinh=n(502),o.tan=n(503),o.tanh=n(504),o.to=n(505),o.clone=n(506),o.format=n(507),o.isNaN=n(509),o.isInteger=n(508),o.isNegative=n(510),o.isNumeric=n(511),o.isPositive=n(512),o.isPrime=n(513),o.isZero=n(514),o.typeof=n(515),o}e.name="docs",e.path="expression",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,i,o){var a=r(n(157));return i("parser",{"":function(){return new a(o)}})}e.name="parser",e.factory=r,e.math=!0},function(t,e,n){"use strict";function r(t,e,r,a){function s(t,e){if(!(this instanceof s))throw new SyntaxError("Constructor must be called with the new operator");if(!t||!t.isNode)throw new TypeError('Node expected for parameter "object"');if(!e||!e.isIndexNode)throw new TypeError('IndexNode expected for parameter "index"');this.object=t||null,this.index=e,Object.defineProperty(this,"name",{get:function(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}})}function u(t,e,n){if(!(t instanceof s))throw new TypeError("No valid AccessorNode");e.access=p,e.getSafeProperty=o;var r=l(t.object,e,n),a=l(t.index,e,n);if(t.index.isObjectProperty()){return"getSafeProperty("+r+", "+i(t.index.getObjectProperty())+")"}return t.index.needsSize()?"(function () {  var object = "+r+";  var size = math.size(object).valueOf();  return access(object, "+a+");})()":"access("+r+", "+a+")"}function c(t){return!(t.isAccessorNode||t.isArrayNode||t.isConstantNode||t.isFunctionNode||t.isObjectNode||t.isParenthesisNode||t.isSymbolNode)}var f=r(n(7)).register,l=r(n(7)).compile,h=r(n(14)),p=(r(n(117)),r(n(168)));return s.prototype=new h,s.prototype.type="AccessorNode",s.prototype.isAccessorNode=!0,f(s.prototype.type,u),s.prototype.forEach=function(t){t(this.object,"object",this),t(this.index,"index",this)},s.prototype.map=function(t){return new s(this._ifNode(t(this.object,"object",this)),this._ifNode(t(this.index,"index",this)))},s.prototype.clone=function(){return new s(this.object,this.index)},s.prototype._toString=function(t){var e=this.object.toString(t);return c(this.object)&&(e="("+e+")"),e+this.index.toString(t)},s.prototype._toTex=function(t){var e=this.object.toTex(t);return c(this.object)&&(e="\\left("+e+"\\right)"),e+this.index.toTex(t)},s}var i=n(12).stringify,o=n(18).getSafeProperty;e.name="AccessorNode",e.path="expression.node",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,s){function u(t,e,n){if(!(this instanceof u))throw new SyntaxError("Constructor must be called with the new operator");if(this.object=t,this.index=n?e:null,this.value=n||e,!t||!t.isSymbolNode&&!t.isAccessorNode)throw new TypeError('SymbolNode or AccessorNode expected as "object"');if(t&&t.isSymbolNode&&"end"===t.name)throw new Error('Cannot assign to symbol "end"');if(this.index&&!this.index.isIndexNode)throw new TypeError('IndexNode expected as "index"');if(!this.value||!this.value.isNode)throw new TypeError('Node expected as "value"');Object.defineProperty(this,"name",{get:function(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}})}function c(t,e,n){if(!(t instanceof u))throw new TypeError("No valid AssignmentNode");e.assign=d,e.access=m,e.getSafeProperty=o,e.setSafeProperty=a;var r,s=h(t.object,e,n),c=t.index?h(t.index,e,n):null,f=h(t.value,e,n),l=i(t.object.name);if(t.index){if(t.index.isObjectProperty()){return"setSafeProperty("+s+", "+i(t.index.getObjectProperty())+", "+f+")"}if(t.object.isSymbolNode)return r=t.index.needsSize()?"var size = math.size(object).valueOf();":"","(function () {  var object = "+s+";  var value = "+f+";  "+r+"  setSafeProperty(scope, "+l+", assign(object, "+c+", value));  return value;})()";r=t.index.needsSize()?"var size = math.size(object).valueOf();":"";var p=h(t.object.object,e,n);if(t.object.index.isObjectProperty()){var g=i(t.object.index.getObjectProperty());return"(function () {  var parent = "+p+";  var object = getSafeProperty(parent, "+g+");  var value = "+f+";"+r+"  setSafeProperty(parent, "+g+", assign(object, "+c+", value));  return value;})()"}return"(function () {  var parent = "+p+";  "+(t.object.index.needsSize()?"var size = math.size(parent).valueOf();":"")+"  var parentIndex = "+h(t.object.index,e,n)+";  var object = access(parent, parentIndex);  var value = "+f+";  "+r+"  assign(parent, parentIndex, assign(object, "+c+", value));  return value;})()"}if(!t.object.isSymbolNode)throw new TypeError("SymbolNode expected as object");return"setSafeProperty(scope, "+l+", "+f+")"}function f(t,e){e||(e="keep");var n=g.getPrecedence(t,e),r=g.getPrecedence(t.value,e);return"all"===e||null!==r&&r<=n}var l=r(n(7)).register,h=r(n(7)).compile,p=r(n(14)),d=(r(n(116)),r(n(0)),r(n(524))),m=r(n(168)),g=(n(115),n(71));return u.prototype=new p,u.prototype.type="AssignmentNode",u.prototype.isAssignmentNode=!0,l(u.prototype.type,c),u.prototype.forEach=function(t){t(this.object,"object",this),this.index&&t(this.index,"index",this),t(this.value,"value",this)},u.prototype.map=function(t){return new u(this._ifNode(t(this.object,"object",this)),this.index?this._ifNode(t(this.index,"index",this)):null,this._ifNode(t(this.value,"value",this)))},u.prototype.clone=function(){return new u(this.object,this.index,this.value)},u.prototype._toString=function(t){var e=this.object.toString(t),n=this.index?this.index.toString(t):"",r=this.value.toString(t);return f(this,t&&t.parenthesis)&&(r="("+r+")"),e+n+" = "+r},u.prototype._toTex=function(t){var e=this.object.toTex(t),n=this.index?this.index.toTex(t):"",r=this.value.toTex(t);return f(this,t&&t.parenthesis)&&(r="\\left("+r+"\\right)"),e+n+":="+r},u}var i=(n(4),n(12).stringify),o=n(18).getSafeProperty,a=n(18).setSafeProperty;e.name="AssignmentNode",e.path="expression.node",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,a){function s(t){if(!(this instanceof s))throw new SyntaxError("Constructor must be called with the new operator");if(!Array.isArray(t))throw new Error("Array expected");this.blocks=t.map(function(t){var e=t&&t.node,n=!t||void 0===t.visible||t.visible;if(!e||!e.isNode)throw new TypeError('Property "node" must be a Node');if("boolean"!=typeof n)throw new TypeError('Property "visible" must be a boolean');return{node:e,visible:n}})}function u(t,e,n){if(!(t instanceof s))throw new TypeError("No valid BlockNode");e.ResultSet=h;var r=i(t.blocks,function(t){var r=f(t.node,e,n);return t.visible?"results.push("+r+");":r+";"});return"(function () {var results = [];"+o(r,"")+"return new ResultSet(results);})()"}var c=r(n(7)).register,f=r(n(7)).compile,l=r(n(14)),h=r(n(212));return s.prototype=new l,s.prototype.type="BlockNode",s.prototype.isBlockNode=!0,c(s.prototype.type,u),s.prototype.forEach=function(t){for(var e=0;e<this.blocks.length;e++)t(this.blocks[e].node,"blocks["+e+"].node",this)},s.prototype.map=function(t){for(var e=[],n=0;n<this.blocks.length;n++){var r=this.blocks[n],i=this._ifNode(t(r.node,"blocks["+n+"].node",this));e[n]={node:i,visible:r.visible}}return new s(e)},s.prototype.clone=function(){return new s(this.blocks.map(function(t){return{node:t.node,visible:t.visible}}))},s.prototype._toString=function(t){return this.blocks.map(function(e){return e.node.toString(t)+(e.visible?"":";")}).join("\n")},s.prototype._toTex=function(t){return this.blocks.map(function(e){return e.node.toTex(t)+(e.visible?"":";")}).join("\\;\\;\n")},s}var i=n(3).map,o=n(3).join;e.name="BlockNode",e.path="expression.node",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,o){function a(t,e,n){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");if(!t||!t.isNode)throw new TypeError("Parameter condition must be a Node");if(!e||!e.isNode)throw new TypeError("Parameter trueExpr must be a Node");if(!n||!n.isNode)throw new TypeError("Parameter falseExpr must be a Node");this.condition=t,this.trueExpr=e,this.falseExpr=n}function s(t,e,n){if(!(t instanceof a))throw new TypeError("No valid ConditionalNode");return e.testCondition=function(t){if("number"==typeof t||"boolean"==typeof t||"string"==typeof t)return!!t;if(t){if(!0===t.isBigNumber)return!t.isZero();if(!0===t.isComplex)return!(!t.re&&!t.im);if(!0===t.isUnit)return!!t.value}if(null===t||void 0===t)return!1;throw new TypeError('Unsupported type of condition "'+e.math.typeof(t)+'"')},"testCondition("+c(t.condition,e,n)+") ? ( "+c(t.trueExpr,e,n)+") : ( "+c(t.falseExpr,e,n)+")"}var u=r(n(7)).register,c=r(n(7)).compile,f=r(n(14));return a.prototype=new f,a.prototype.type="ConditionalNode",a.prototype.isConditionalNode=!0,u(a.prototype.type,s),a.prototype.forEach=function(t){t(this.condition,"condition",this),t(this.trueExpr,"trueExpr",this),t(this.falseExpr,"falseExpr",this)},a.prototype.map=function(t){return new a(this._ifNode(t(this.condition,"condition",this)),this._ifNode(t(this.trueExpr,"trueExpr",this)),this._ifNode(t(this.falseExpr,"falseExpr",this)))},a.prototype.clone=function(){return new a(this.condition,this.trueExpr,this.falseExpr)},a.prototype._toString=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",n=i.getPrecedence(this,e),r=this.condition.toString(t),o=i.getPrecedence(this.condition,e);("all"===e||"OperatorNode"===this.condition.type||null!==o&&o<=n)&&(r="("+r+")");var a=this.trueExpr.toString(t),s=i.getPrecedence(this.trueExpr,e);("all"===e||"OperatorNode"===this.trueExpr.type||null!==s&&s<=n)&&(a="("+a+")");var u=this.falseExpr.toString(t),c=i.getPrecedence(this.falseExpr,e);return("all"===e||"OperatorNode"===this.falseExpr.type||null!==c&&c<=n)&&(u="("+u+")"),r+" ? "+a+" : "+u},a.prototype._toTex=function(t){return"\\begin{cases} {"+this.trueExpr.toTex(t)+"}, &\\quad{\\text{if }\\;"+this.condition.toTex(t)+"}\\\\{"+this.falseExpr.toTex(t)+"}, &\\quad{\\text{otherwise}}\\end{cases}"},a}var i=(n(4),n(71));e.name="ConditionalNode",e.path="expression.node",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,h){function p(t,e,n){if(!(this instanceof p))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof t)throw new TypeError('String expected for parameter "name"');if(!Array.isArray(e))throw new TypeError('Array containing strings or objects expected for parameter "params"');if(!n||!n.isNode)throw new TypeError('Node expected for parameter "expr"');if(t in i)throw new Error('Illegal function name, "'+t+'" is a reserved keyword');this.name=t,this.params=e.map(function(t){return t&&t.name||t}),this.types=e.map(function(t){return t&&t.type||"any"}),this.expr=n}function d(t,e,n){if(!(t instanceof p))throw new TypeError("No valid FunctionAssignmentNode");e.typed=h,e.setSafeProperty=f;var r=Object.create(n),i=a(t.params,function(t){return r[t]=l(r),r[t]}),u=v(t.expr,e,r),c=o(t.name);return"setSafeProperty(scope, "+c+",   (function () {    var fn = typed("+c+", {      "+o(s(t.types,","))+": function ("+s(i,",")+") {        return "+u+"      }    });    fn.syntax = "+o(t.name+"("+s(t.params,", ")+")")+";    return fn;  })())"}function m(t,e){var n=c.getPrecedence(t,e),r=c.getPrecedence(t.expr,e);return"all"===e||null!==r&&r<=n}var g=r(n(7)).register,v=r(n(7)).compile,y=r(n(14));return p.prototype=new y,p.prototype.type="FunctionAssignmentNode",p.prototype.isFunctionAssignmentNode=!0,g(p.prototype.type,d),p.prototype.forEach=function(t){t(this.expr,"expr",this)},p.prototype.map=function(t){var e=this._ifNode(t(this.expr,"expr",this));return new p(this.name,this.params.slice(0),e)},p.prototype.clone=function(){return new p(this.name,this.params.slice(0),this.expr)},p.prototype._toString=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",n=this.expr.toString(t);return m(this,e)&&(n="("+n+")"),this.name+"("+this.params.join(", ")+") = "+n},p.prototype._toTex=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",n=this.expr.toTex(t);return m(this,e)&&(n="\\left("+n+"\\right)"),"\\mathrm{"+this.name+"}\\left("+this.params.map(u.toSymbol).join(",")+"\\right):="+n},p}var i=n(115),o=n(12).stringify,a=n(3).map,s=n(3).join,u=n(4),c=n(71),f=n(18).setSafeProperty,l=n(169);e.name="FunctionAssignmentNode",e.path="expression.node",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,s){function u(t){if(!(this instanceof u))throw new SyntaxError("Constructor must be called with the new operator");if(this.properties=t||{},t&&("object"!=typeof t||Object.keys(t).some(function(e){return!t[e]||!t[e].isNode})))throw new TypeError("Object containing Nodes expected")}function c(t,e,n){if(!(t instanceof u))throw new TypeError("No valid ObjectNode");var r=[];for(var s in t.properties)if(a(t.properties,s)){if(!o(s))throw new Error('No access to property "'+s+'"');r.push(i(s)+": "+l(t.properties[s],e,n))}return"{"+r.join(", ")+"}"}var f=r(n(7)).register,l=r(n(7)).compile,h=r(n(14));return u.prototype=new h,u.prototype.type="ObjectNode",u.prototype.isObjectNode=!0,f(u.prototype.type,c),u.prototype.forEach=function(t){for(var e in this.properties)this.properties.hasOwnProperty(e)&&t(this.properties[e],"properties["+i(e)+"]",this)},u.prototype.map=function(t){var e={};for(var n in this.properties)this.properties.hasOwnProperty(n)&&(e[n]=this._ifNode(t(this.properties[n],"properties["+i(n)+"]",this)));return new u(e)},u.prototype.clone=function(){var t={};for(var e in this.properties)this.properties.hasOwnProperty(e)&&(t[e]=this.properties[e]);return new u(t)},u.prototype._toString=function(t){var e=[];for(var n in this.properties)this.properties.hasOwnProperty(n)&&e.push(i(n)+": "+this.properties[n].toString(t));return"{"+e.join(", ")+"}"},u.prototype._toTex=function(t){var e=[];for(var n in this.properties)this.properties.hasOwnProperty(n)&&e.push("\\mathbf{"+n+":} & "+this.properties[n].toTex(t)+"\\\\");return"\\left\\{\\begin{array}{ll}"+e.join("\n")+"\\end{array}\\right\\}"},u}var i=n(12).stringify,o=n(18).isSafeProperty,a=n(5).hasOwnProperty;e.name="ObjectNode",e.path="expression.node",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,a){var s=r(n(90)),u=r(n(0));return function(t,e){try{if(Array.isArray(t))return u(t).subset(e).valueOf();if(t&&"function"==typeof t.subset)return t.subset(e);if("string"==typeof t)return s(t,e);if("object"==typeof t){if(!e.isObjectProperty())throw new TypeError("Cannot apply a numeric index as object property");return o(t,e.getObjectProperty())}throw new TypeError("Cannot apply index: unsupported type of object")}catch(t){throw i(t)}}}var i=n(46).transform,o=n(18).getSafeProperty;e.factory=r},function(t,e){function n(t){return"arg"+Object.keys(t).length}t.exports=n},function(t,e,n){"use strict";function r(t,e,r,i){var a=r(n(0)),s=r(n(37)),u=r(n(22)),c=r(n(20)),f=r(n(25)),l=r(n(23)),h=r(n(41)),p=r(n(11)),d=r(n(47)),m=t.SparseMatrix,g=t.DenseMatrix,v=t.Spa,y=i("lup",{DenseMatrix:function(t){return x(t)},SparseMatrix:function(t){return w(t)},Array:function(t){var e=a(t),n=x(e);return{L:n.L.valueOf(),U:n.U.valueOf(),p:n.p}}}),x=function(t){var e,n,r,i=t._size[0],a=t._size[1],d=Math.min(i,a),m=o.clone(t._data),v=[],y=[i,d],x=[],w=[d,a],b=[];for(e=0;e<i;e++)b[e]=e;for(n=0;n<a;n++){if(n>0)for(e=0;e<i;e++){var _=Math.min(e,n),N=0;for(r=0;r<_;r++)N=u(N,f(m[e][r],m[r][n]));m[e][n]=l(m[e][n],N)}var E=n,M=0,S=0;for(e=n;e<i;e++){var A=m[e][n],O=s(A);h(O,M)&&(E=e,M=O,S=A)}if(n!==E&&(b[n]=[b[E],b[E]=b[n]][0],g._swapRows(n,E,m)),n<i)for(e=n+1;e<i;e++){var C=m[e][n];p(C,0)||(m[e][n]=c(m[e][n],S))}}for(n=0;n<a;n++)for(e=0;e<i;e++)0===n&&(e<a&&(x[e]=[]),v[e]=[]),e<n?(e<a&&(x[e][n]=m[e][n]),n<i&&(v[e][n]=0)):e!==n?(e<a&&(x[e][n]=0),n<i&&(v[e][n]=m[e][n])):(e<a&&(x[e][n]=m[e][n]),n<i&&(v[e][n]=1));var T=new g({data:v,size:y}),P=new g({data:x,size:w}),z=[];for(e=0,d=b.length;e<d;e++)z[b[e]]=e;return{L:T,U:P,p:z,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}},w=function(t){var e,n,r,i=t._size[0],o=t._size[1],a=Math.min(i,o),u=t._values,l=t._index,g=t._ptr,y=[],x=[],w=[],b=[i,a],_=[],N=[],E=[],M=[a,o],S=[],A=[];for(e=0;e<i;e++)S[e]=e,A[e]=e;for(n=0;n<o;n++){var O=new v;n<i&&(w.push(y.length),y.push(1),x.push(n)),E.push(_.length);var C=g[n],T=g[n+1];for(r=C;r<T;r++)e=l[r],O.set(S[e],u[r]);n>0&&O.forEach(0,n-1,function(t,e){m._forEachRow(t,y,x,w,function(n,r){n>t&&O.accumulate(n,d(f(r,e)))})});var P=n,z=O.get(n),k=s(z);O.forEach(n+1,i-1,function(t,e){var n=s(e);h(n,k)&&(P=t,k=n,z=e)}),n!==P&&(m._swapRows(n,P,b[1],y,x,w),m._swapRows(n,P,M[1],_,N,E),O.swap(n,P),function(t,e){var n=A[t],r=A[e];S[n]=e,S[r]=t,A[t]=r,A[e]=n}(n,P)),O.forEach(0,i-1,function(t,e){t<=n?(_.push(e),N.push(t)):(e=c(e,z),p(e,0)||(y.push(e),x.push(t)))})}return E.push(_.length),w.push(y.length),{L:new m({values:y,index:x,ptr:w,size:b}),U:new m({values:_,index:N,ptr:E,size:M}),p:S,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}};return y}var i=n(33),o=i.object;e.name="lup",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,i){var o=r(n(553)),s=r(n(548));return i("slu",{"SparseMatrix, number, number":function(t,e,n){if(!a(e)||e<0||e>3)throw new Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");if(n<0||n>1)throw new Error("Partial pivoting threshold must be a number from 0 to 1");var r=o(e,t,!1),i=s(t,r,n);return{L:i.L,U:i.U,p:i.pinv,q:r.q,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\np: "+this.p.toString()+(this.q?"\nq: "+this.q.toString():"")+"\n"}}}})}var i=n(33),o=i.number,a=o.isInteger;e.name="slu",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,i,o){function a(t){return t.transform(function(t,e,n){return t.isParenthesisNode?t.content:t})}function s(t){for(var e=[],n=0;n<t.length;n++){var r,i=t[n],o=typeof i;switch(o){case"string":var s=i.split("->");if(2!==s.length)throw SyntaxError("Could not parse rule: "+i);i={l:s[0],r:s[1]};case"object":if(r={l:a(m(i.l)),r:a(m(i.r))},i.context&&(r.evaluate=i.context),i.evaluate&&(r.evaluate=m(i.evaluate)),r.l.isOperatorNode&&E(r.l)){var c=O(r.l),f=u();r.expanded={},r.expanded.l=c([r.l.clone(),f]),M(r.expanded.l),S(r.expanded.l),r.expanded.r=c([r.r,f])}break;case"function":r=i;break;default:throw TypeError("Unsupported type of rule: "+o)}e.push(r)}return e}function u(){return new w("_p"+P++)}function c(t,e){var n,r,i=[],o=O(t);if(N(t,e))for(var a=0;a<t.args.length;a++)r=t.args.slice(0),r.splice(a,1),n=1===r.length?r[0]:o(r),i.push(o([t.args[a],n]));else r=t.args.slice(1),n=1===r.length?r[0]:o(r),i.push(o([t.args[0],n]));return i}function f(t,e){var n={placeholders:{}};if(!t.placeholders&&!e.placeholders)return n;if(!t.placeholders)return e;if(!e.placeholders)return t;for(var r in t.placeholders)if(n.placeholders[r]=t.placeholders[r],e.placeholders.hasOwnProperty(r)&&!d(t.placeholders[r],e.placeholders[r]))return null;for(var r in e.placeholders)n.placeholders[r]=e.placeholders[r];return n}function l(t,e){var n=[];if(0===t.length||0===e.length)return n;for(var r,i=0;i<t.length;i++)for(var o=0;o<e.length;o++)(r=f(t[i],e[o]))&&n.push(r);return n}function h(t){if(0===t.length)return t;for(var e=t.reduce(l),n=[],r={},i=0;i<e.length;i++){var o=JSON.stringify(e[i]);r[o]||(r[o]=!0,n.push(e[i]))}return n}function p(t,e,n){var r=[{placeholders:{}}];if(t instanceof y&&e instanceof y||t instanceof v&&e instanceof v){if(t instanceof y){if(t.op!==e.op||t.fn!==e.fn)return[]}else if(t instanceof v&&t.name!==e.name)return[];if((1!==e.args.length||1!==t.args.length)&&E(e)&&!n){if(e.args.length>=2&&2===t.args.length){for(var i=c(e,t.context),a=[],s=0;s<i.length;s++){var u=p(t,i[s],!0);a=a.concat(u)}return a}if(t.args.length>2)throw Error("Unexpected non-binary associative function: "+t.toString());return[]}for(var f=[],s=0;s<t.args.length;s++){var l=p(t.args[s],e.args[s]);if(0===l.length)return[];f.push(l)}r=h(f)}else if(t instanceof w){if(0===t.name.length)throw new Error("Symbol in rule has 0 length...!?");if(o.hasOwnProperty(t.name)){if(!T[t.name])throw new Error("Built in constant: "+t.name+" is not supported by simplify.");if(t.name!==e.name)return[]}else if("n"==t.name[0]||"_p"==t.name.substring(0,2))r[0].placeholders[t.name]=e;else if("v"==t.name[0]){if(e.isConstantNode)return[];r[0].placeholders[t.name]=e}else{if("c"!=t.name[0])throw new Error("Invalid symbol in rule: "+t.name);if(!(e instanceof g))return[];r[0].placeholders[t.name]=e}}else{if(!(t instanceof g))return[];if(t.value!==e.value)return[]}return r}function d(t,e){if(t instanceof g&&e instanceof g){if(t.value!==e.value)return!1}else if(t instanceof w&&e instanceof w){if(t.name!==e.name)return!1}else{if(!(t instanceof y&&e instanceof y||t instanceof v&&e instanceof v))return!1;if(t instanceof y){if(t.op!==e.op||t.fn!==e.fn)return!1}else if(t instanceof v&&t.name!==e.name)return!1;if(t.args.length!==e.args.length)return!1;for(var n=0;n<t.args.length;n++)if(!d(t.args[n],e.args[n]))return!1}return!0}var m=r(n(45)),g=r(n(69)),v=r(n(70)),y=r(n(87)),x=r(n(88)),w=r(n(40)),b=(r(n(14)),r(n(539))),_=r(n(173)),N=_.isCommutative,E=_.isAssociative,M=_.flatten,S=_.unflattenr,A=_.unflattenl,O=_.createMakeNodeFunction,C=i("simplify",{string:function(t){return C(m(t),C.rules)},"string, Array":function(t,e){return C(m(t),e)},Node:function(t){return C(t,C.rules)},"Node, Array":function(t,e){e=s(e);for(var n=a(t),r={},i=n.toString({parenthesis:"all"});!r[i];){r[i]=!0,P=0;for(var o=0;o<e.length;o++)"function"==typeof e[o]?n=e[o](n):(M(n),n=z(n,e[o])),A(n);i=n.toString({parenthesis:"all"})}return n}}),T={true:!0,false:!0,e:!0,i:!0,Infinity:!0,LN2:!0,LN10:!0,LOG2E:!0,LOG10E:!0,NaN:!0,phi:!0,pi:!0,SQRT1_2:!0,SQRT2:!0,tau:!0};C.rules=[{l:"n+0",r:"n"},{l:"n^0",r:"1"},{l:"0*n",r:"0"},{l:"n/n",r:"1"},{l:"n^1",r:"n"},{l:"+n1",r:"n1"},{l:"n--n1",r:"n+n1"},{l:"log(e)",r:"1"},{l:"n-n1",r:"n+-n1"},{l:"-(c*v)",r:"(-c) * v"},{l:"-v",r:"(-1) * v"},{l:"n/n1^n2",r:"n*n1^-n2"},{l:"n/n1",r:"n*n1^-1"},{l:"n*n",r:"n^2"},{l:"n * n^n1",r:"n^(n1+1)"},{l:"n^n1 * n^n2",r:"n^(n1+n2)"},{l:"n+n",r:"2*n"},{l:"n+-n",r:"0"},{l:"n1*n2 + n2",r:"(n1+1)*n2"},{l:"n1*n3 + n2*n3",r:"(n1+n2)*n3"},b,{l:"(-n)*n1",r:"-(n*n1)"},{l:"c+v",r:"v+c",context:{add:{commutative:!1}}},{l:"v*c",r:"c*v",context:{multiply:{commutative:!1}}},{l:"(-1) * n",r:"-n"},{l:"n+-n1",r:"n-n1"},{l:"n*(n1^-1)",r:"n/n1"},{l:"n*n1^-n2",r:"n/n1^n2"},{l:"n1^-1",r:"1/n1"},{l:"n*(n1/n2)",r:"(n*n1)/n2"},{l:"n-(n1+n2)",r:"n-n1-n2"},{l:"1*n",r:"n"}];var P=0,z=i("applyRule",{"Node, Object":function(t,e){var n=t;if(n instanceof y||n instanceof v){if(n.args)for(var r=0;r<n.args.length;r++)n.args[r]=z(n.args[r],e)}else n instanceof x&&n.content&&(n.content=z(n.content,e));var i=e.r,o=p(e.l,n)[0];return!o&&e.expanded&&(i=e.expanded.r,o=p(e.expanded.l,n)[0]),o&&(n=i.clone(),n=n.transform(function(t,e,n){if(t.isSymbolNode&&o.placeholders.hasOwnProperty(t.name)){return o.placeholders[t.name].clone()}return t})),n}});return C}e.math=!0,e.name="simplify",e.factory=r},function(t,e,n){"use strict";function r(t,e,n,r,i){function o(t,e){if(!t.args||t.args.length<=1)return!0;var n=t.fn.toString();return e&&e.hasOwnProperty(n)&&e[n].hasOwnProperty("commutative")?e[n].commutative:m[n]||!1}function a(t,e){if(!t.args||t.args.length<=1)return!0;var n=t.fn.toString();return e&&e.hasOwnProperty(n)&&e[n].hasOwnProperty("associative")?e[n].associative:g[n]||!1}function s(t){if(!t.args||0===t.args.length)return t;t.args=u(t);for(var e=0;e<t.args.length;e++)s(t.args[e])}function u(t){var e,n=[],r=function(t){for(var i=0;i<t.args.length;i++){var o=t.args[i];o.isOperatorNode&&e===o.op?r(o):n.push(o)}};return t.isOperatorNode&&a(t)?(e=t.op,r(t),n):t.args}function c(t){if(t.args&&0!==t.args.length){for(var e=l(t),n=t.args.length,r=0;r<n;r++)c(t.args[r]);if(n>2&&a(t)){for(var i=t.args.pop();t.args.length>0;)i=e([t.args.pop(),i]);t.args=i.args}}}function f(t){if(t.args&&0!==t.args.length){for(var e=l(t),n=t.args.length,r=0;r<n;r++)f(t.args[r]);if(n>2&&a(t)){for(var i=t.args.shift();t.args.length>0;)i=e([i,t.args.shift()]);t.args=i.args}}}function l(t){return t.isOperatorNode?function(e){try{return new p(t.op,t.fn,e)}catch(t){return console.error(t),[]}}:function(e){return new h(new d(t.name),e)}}var h=i.expression.node.FunctionNode,p=i.expression.node.OperatorNode,d=i.expression.node.SymbolNode,m={add:!0,multiply:!0},g={add:!0,multiply:!0};return{createMakeNodeFunction:l,isCommutative:o,isAssociative:a,flatten:s,allChildren:u,unflattenr:c,unflattenl:f}}e.factory=r,e.math=!0},function(t,e,n){"use strict";function r(t,e,r,i){var o=r(n(0)),a=r(n(20)),s=r(n(25)),u=r(n(23)),c=r(n(11)),f=r(n(119)),l=t.DenseMatrix,h=i("lsolve",{"SparseMatrix, Array | Matrix":function(t,e){return d(t,e)},"DenseMatrix, Array | Matrix":function(t,e){return p(t,e)},"Array, Array | Matrix":function(t,e){var n=o(t);return p(n,e).valueOf()}}),p=function(t,e){e=f(t,e,!0);for(var n=e._data,r=t._size[0],i=t._size[1],o=[],h=t._data,p=0;p<i;p++){var d,m=n[p][0]||0;if(c(m,0))d=0;else{var g=h[p][p];if(c(g,0))throw new Error("Linear system cannot be solved since matrix is singular");d=a(m,g);for(var v=p+1;v<r;v++)n[v]=[u(n[v][0]||0,s(d,h[v][p]))]}o[p]=[d]}return new l({data:o,size:[r,1]})},d=function(t,e){e=f(t,e,!0);for(var n,r,i=e._data,o=t._size[0],h=t._size[1],p=t._values,d=t._index,m=t._ptr,g=[],v=0;v<h;v++){var y=i[v][0]||0;if(c(y,0))g[v]=[0];else{var x=0,w=[],b=[],_=m[v+1];for(r=m[v];r<_;r++)n=d[r],n===v?x=p[r]:n>v&&(w.push(p[r]),b.push(n));if(c(x,0))throw new Error("Linear system cannot be solved since matrix is singular");var N=a(y,x);for(r=0,_=b.length;r<_;r++)n=b[r],i[n]=[u(i[n][0]||0,s(N,w[r]))];g[v]=[N]}}return new l({data:g,size:[o,1]})};return h}e.name="lsolve",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,i){var o=r(n(0)),a=r(n(20)),s=r(n(25)),u=r(n(23)),c=r(n(11)),f=r(n(119)),l=t.DenseMatrix,h=i("usolve",{"SparseMatrix, Array | Matrix":function(t,e){return d(t,e)},"DenseMatrix, Array | Matrix":function(t,e){return p(t,e)},"Array, Array | Matrix":function(t,e){var n=o(t);return p(n,e).valueOf()}}),p=function(t,e){e=f(t,e,!0);for(var n=e._data,r=t._size[0],i=t._size[1],o=[],h=t._data,p=i-1;p>=0;p--){var d,m=n[p][0]||0;if(c(m,0))d=0;else{var g=h[p][p];if(c(g,0))throw new Error("Linear system cannot be solved since matrix is singular");d=a(m,g);for(var v=p-1;v>=0;v--)n[v]=[u(n[v][0]||0,s(d,h[v][p]))]}o[p]=[d]}return new l({data:o,size:[r,1]})},d=function(t,e){e=f(t,e,!0);for(var n,r,i=e._data,o=t._size[0],h=t._size[1],p=t._values,d=t._index,m=t._ptr,g=[],v=h-1;v>=0;v--){var y=i[v][0]||0;if(c(y,0))g[v]=[0];else{var x=0,w=[],b=[],_=m[v],N=m[v+1];for(r=N-1;r>=_;r--)n=d[r],n===v?x=p[r]:n<v&&(w.push(p[r]),b.push(n));if(c(x,0))throw new Error("Linear system cannot be solved since matrix is singular");var E=a(y,x);for(r=0,N=b.length;r<N;r++)n=b[r],i[n]=[u(i[n][0],s(E,w[r]))];g[v]=[E]}}return new l({data:g,size:[o,1]})};return h}e.name="usolve",e.factory=r},function(t,e,n){"use strict";function r(t,e,r){var i=r(n(120));return function(t,e){t[e]=i(t[e])}}e.name="cs_mark",e.path="sparse",e.factory=r},function(t,e,n){"use strict";function r(){return function(t,e){return t[e]<0}}e.name="cs_marked",e.path="sparse",e.factory=r},function(t,e,n){"use strict";function r(){return function(t,e,n,r,i,o,a){var s=0;for(n[a]=t;s>=0;){var u=n[a+s],c=n[r+u];-1==c?(s--,o[e++]=u):(n[r+u]=n[i+c],++s,n[a+s]=c)}return e}}e.name="cs_tdfs",e.path="sparse",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,i){var o=r(n(0)),a=r(n(20)),s=n(4),u=r(n(27)),c=r(n(15)),f=r(n(32)),l=r(n(16)),h=r(n(17)),p=r(n(9)),d=r(n(6)),m=i("dotDivide",{"any, any":a,"Matrix, Matrix":function(t,e){var n;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":n=f(t,e,a,!1);break;default:n=u(e,t,a,!0)}break;default:switch(e.storage()){case"sparse":n=c(t,e,a,!1);break;default:n=p(t,e,a)}}return n},"Array, Array":function(t,e){return m(o(t),o(e)).valueOf()},"Array, Matrix":function(t,e){return m(o(t),e)},"Matrix, Array":function(t,e){return m(t,o(e))},"Matrix, any":function(t,e){var n;switch(t.storage()){case"sparse":n=l(t,e,a,!1);break;default:n=d(t,e,a,!1)}return n},"any, Matrix":function(t,e){var n;switch(e.storage()){case"sparse":n=h(e,t,a,!0);break;default:n=d(e,t,a,!0)}return n},"Array, any":function(t,e){return d(o(t),e,a,!1).valueOf()},"any, Array":function(t,e){return d(o(e),t,a,!0).valueOf()}});return m.toTex={2:"\\left(${args[0]}"+s.operators.dotDivide+"${args[1]}\\right)"},m}e.name="dotDivide",e.factory=r},function(t,e,n){"use strict";function r(t,e,n,r){var o=r("fix",{number:function(t){return t>0?Math.floor(t):Math.ceil(t)},Complex:function(e){return new t.Complex(e.re>0?Math.floor(e.re):Math.ceil(e.re),e.im>0?Math.floor(e.im):Math.ceil(e.im))},BigNumber:function(t){return t.isNegative()?t.ceil():t.floor()},Fraction:function(t){return t.s<0?t.ceil():t.floor()},"Array | Matrix":function(t){return i(t,o,!0)}});return o.toTex={1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},o}var i=n(1);e.name="fix",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,o){var a=r(n(20)),s=o("log",{number:function(n){return n>=0||e.predictable?Math.log(n):new t.Complex(n,0).log()},Complex:function(t){return t.log()},BigNumber:function(n){return!n.isNegative()||e.predictable?n.ln():new t.Complex(n.toNumber(),0).log()},"Array | Matrix":function(t){return i(t,s)},"any, any":function(t,e){return a(s(t),s(e))}});return s.toTex={1:"\\ln\\left(${args[0]}\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}\\right)"},s}var i=n(1);e.name="log",e.factory=r},function(t,e,n){"use strict";function r(t,e,n,r){var a=r("sign",{number:i.sign,Complex:function(t){return t.sign()},BigNumber:function(e){return new t.BigNumber(e.cmp(0))},Fraction:function(e){return new t.Fraction(e.s,1)},"Array | Matrix":function(t){return o(t,a,!0)},Unit:function(t){return a(t.value)}});return a.toTex={1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},a}var i=n(2),o=n(1);e.name="sign",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,i){var o=r(n(19)),a=r(n(23)),s=r(n(13)),u=r(n(57)),c=r(n(58)),f=r(n(93)),l=r(n(92)),h=r(n(74)),p=r(n(60)),d=r(n(41)),m=i("stirlingS2",{"number | BigNumber, number | BigNumber":function(t,e){if(!p(t)||h(t)||!p(e)||h(e))throw new TypeError("Non-negative integer value expected in function stirlingS2");if(d(e,t))throw new TypeError("k must be less than or equal to n in function stirlingS2");for(var n=f(e),r=0,i=0;i<=e;i++){var m=c(-1,a(e,i)),g=l(e,i),v=c(i,t);r=o(r,s(s(g,v),m))}return u(r,n)}});return m.toTex={2:"\\mathrm{S}\\left(${args}\\right)"},m}e.name="stirlingS2",e.factory=r},function(t,e,n){"use strict";function r(t,e,n,r){var o=r("conj",{number:function(t){return t},BigNumber:function(t){return t},Complex:function(t){return t.conjugate()},"Array | Matrix":function(t){return i(t,o)}});return o.toTex={1:"\\left(${args[0]}\\right)^*"},o}var i=n(1);e.name="conj",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,o){var a=n(4),s=o("not",{number:function(t){return!t},Complex:function(t){return 0===t.re&&0===t.im},BigNumber:function(t){return t.isZero()||t.isNaN()},Unit:function(t){return s(t.value)},"Array | Matrix":function(t){return i(t,s)}});return s.toTex={1:a.operators.not+"\\left(${args[0]}\\right)"},s}var i=n(1);e.name="not",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,f){var l=r(n(0)),h=f("concat",{"...Array | Matrix | number | BigNumber":function(t){var e,n,r=t.length,f=-1,h=!1,p=[];for(e=0;e<r;e++){var d=t[e];if(d&&!0===d.isMatrix&&(h=!0),"number"==typeof d||d&&!0===d.isBigNumber){if(e!==r-1)throw new Error("Dimension must be specified as last argument");if(n=f,f=d.valueOf(),!a(f))throw new TypeError("Integer number expected for dimension");if(f<0||e>0&&f>n)throw new u(f,n+1)}else{var m=o(d).valueOf(),g=s.size(m);if(p[e]=m,n=f,f=g.length-1,e>0&&f!=n)throw new c(n+1,f+1)}}if(0==p.length)throw new SyntaxError("At least one matrix expected");for(var v=p.shift();p.length;)v=i(v,p.shift(),f,0);return h?l(v):v},"...string":function(t){return t.join("")}});return h.toTex=void 0,h}function i(t,e,n,r){if(r<n){if(t.length!=e.length)throw new c(t.length,e.length);for(var o=[],a=0;a<t.length;a++)o[a]=i(t[a],e[a],n,r+1);return o}return t.concat(e)}var o=n(5).clone,a=n(2).isInteger,s=n(3),u=n(68),c=n(10);e.name="concat",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,i){function s(t,e,n){if(1==e)return o.clone(t[0][0]);if(2==e)return f(l(t[0][0],t[1][1]),l(t[1][0],t[0][1]));for(var r=t,i=0;i<e-1;i++)r=l(function(t){var e,n,r=new Array(t.length),i=0;for(e=1;e<t.length;e++)i=c(i,t[e][e]);for(e=0;e<t.length;e++){for(r[e]=new Array(t.length),r[e][e]=h(i),n=0;n<e;n++)r[e][n]=0;for(n=e+1;n<t.length;n++)r[e][n]=t[e][n];e+1<t.length&&(i=f(i,t[e+1][e+1]))}return r}(r),t);return e%2==0?h(r[0][0]):r[0][0]}var u=r(n(0)),c=r(n(19)),f=r(n(23)),l=r(n(13)),h=r(n(47)),p=i("det",{any:function(t){return o.clone(t)},"Array | Matrix":function(t){var e;switch(t&&!0===t.isMatrix?e=t.size():Array.isArray(t)?(t=u(t),e=t.size()):e=[],e.length){case 0:return o.clone(t);case 1:if(1==e[0])return o.clone(t.valueOf()[0]);throw new RangeError("Matrix must be square (size: "+a.format(e)+")");case 2:var n=e[0],r=e[1];if(n==r)return s(t.clone().valueOf(),n,r);throw new RangeError("Matrix must be square (size: "+a.format(e)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+a.format(e)+")")}}});return p.toTex={1:"\\det\\left(${args[0]}\\right)"},p}var i=n(33),o=i.object,a=i.string;e.name="det",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,a){var s=r(n(0)),u=a("filter",{"Array, function":i,"Array, RegExp":o,"Matrix, function":function(t,e){return s(i(t.toArray(),e))},"Matrix, RegExp":function(t,e){return s(o(t.toArray(),e))}});return u.toTex=void 0,u}function i(t,e){if(1!==a(t).length)throw new Error("Only one dimensional matrices supported");var n=s(e);return t.filter(function(t,r,i){return 1===n?e(t):2===n?e(t,[r]):e(t,[r],i)})}function o(t,e){if(1!==a(t).length)throw new Error("Only one dimensional matrices supported");return t.filter(function(t){return e.test(t)})}var a=n(3).size,s=n(52).maxArgumentCount;e.name="filter",e.factory=r},function(t,e,n){"use strict";function r(t,e,n,r){var o=r("forEach",{"Array, function":i,"Matrix, function":function(t,e){return t.forEach(e)}});return o.toTex=void 0,o}function i(t,e){var n=o(e),r=function(i,o){Array.isArray(i)?i.forEach(function(t,e){r(t,o.concat(e))}):1===n?e(i):2===n?e(i,o):e(i,o,t)};r(t,[])}var o=n(52).maxArgumentCount;e.name="forEach",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,o){function a(t,e,n){var r,i,o,a,s;if(1==e){if(0==(a=t[0][0]))throw Error("Cannot calculate inverse, determinant is zero");return[[u(1,a)]]}if(2==e){var d=h(t);if(0==d)throw Error("Cannot calculate inverse, determinant is zero");return[[u(t[1][1],d),u(l(t[0][1]),d)],[u(l(t[1][0]),d),u(t[0][0],d)]]}var m=t.concat();for(r=0;r<e;r++)m[r]=m[r].concat();for(var g=p(e).valueOf(),v=0;v<n;v++){for(r=v;r<e&&0==m[r][v];)r++;if(r==e||0==m[r][v])throw Error("Cannot calculate inverse, determinant is zero");r!=v&&(s=m[v],m[v]=m[r],m[r]=s,s=g[v],g[v]=g[r],g[r]=s);var y=m[v],x=g[v];for(r=0;r<e;r++){var w=m[r],b=g[r];if(r!=v){if(0!=w[v]){for(o=u(l(w[v]),y[v]),i=v;i<n;i++)w[i]=c(w[i],f(o,y[i]));for(i=0;i<n;i++)b[i]=c(b[i],f(o,x[i]))}}else{for(o=y[v],i=v;i<n;i++)w[i]=u(w[i],o);for(i=0;i<n;i++)b[i]=u(b[i],o)}}}return g}var s=r(n(0)),u=r(n(20)),c=r(n(22)),f=r(n(13)),l=r(n(47)),h=r(n(187)),p=r(n(89)),d=o("inv",{"Array | Matrix":function(t){var e=!0===t.isMatrix?t.size():i.array.size(t);switch(e.length){case 1:if(1==e[0])return!0===t.isMatrix?s([u(1,t.valueOf()[0])]):[u(1,t[0])];throw new RangeError("Matrix must be square (size: "+i.string.format(e)+")");case 2:var n=e[0],r=e[1];if(n==r)return!0===t.isMatrix?s(a(t.valueOf(),n,r),t.storage()):a(t,n,r);throw new RangeError("Matrix must be square (size: "+i.string.format(e)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+i.string.format(e)+")")}},any:function(t){return u(1,t)}});return d.toTex={1:"\\left(${args[0]}\\right)^{-1}"},d}var i=n(33);e.name="inv",e.factory=r},function(t,e,n){"use strict";function r(t,e,n,r){var o=r("map",{"Array, function":i,"Matrix, function":function(t,e){return t.map(e)}});return o.toTex=void 0,o}function i(t,e){var n=o(e),r=function(i,o){return Array.isArray(i)?i.map(function(t,e){return r(t,o.concat(e))}):1===n?e(i):2===n?e(i,o):e(i,o,t)};return r(t,[])}var o=n(52).maxArgumentCount;e.name="map",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,i){function o(t){return"Array"===e.matrix?t:h(t)}function a(n,r){var i=l(n);if(!i)throw new SyntaxError('String "'+n+'" is no valid range');var a;return"BigNumber"===e.number?(a=r?f:c,o(a(new t.BigNumber(i.start),new t.BigNumber(i.end),new t.BigNumber(i.step)))):(a=r?u:s,o(a(i.start,i.end,i.step)))}function s(t,e,n){var r=[],i=t;if(n>0)for(;i<e;)r.push(i),i+=n;else if(n<0)for(;i>e;)r.push(i),i+=n;return r}function u(t,e,n){var r=[],i=t;if(n>0)for(;i<=e;)r.push(i),i+=n;else if(n<0)for(;i>=e;)r.push(i),i+=n;return r}function c(t,e,n){var r=[],i=t;if(n.gt(p))for(;i.lt(e);)r.push(i),i=i.plus(n);else if(n.lt(p))for(;i.gt(e);)r.push(i),i=i.plus(n);return r}function f(t,e,n){var r=[],i=t;if(n.gt(p))for(;i.lte(e);)r.push(i),i=i.plus(n);else if(n.lt(p))for(;i.gte(e);)r.push(i),i=i.plus(n);return r}function l(t){var e=t.split(":"),n=e.map(function(t){return Number(t)});if(n.some(function(t){return isNaN(t)}))return null;switch(n.length){case 2:return{start:n[0],end:n[1],step:1};case 3:return{start:n[0],end:n[2],step:n[1]};default:return null}}var h=r(n(0)),p=new t.BigNumber(0),d=new t.BigNumber(1),m=i("range",{string:a,"string, boolean":a,"number, number":function(t,e){return o(s(t,e,1))},"number, number, number":function(t,e,n){return o(s(t,e,n))},"number, number, boolean":function(t,e,n){return o(n?u(t,e,1):s(t,e,1))},"number, number, number, boolean":function(t,e,n,r){return o(r?u(t,e,n):s(t,e,n))},"BigNumber, BigNumber":function(t,e){return o(c(t,e,d))},"BigNumber, BigNumber, BigNumber":function(t,e,n){return o(c(t,e,n))},"BigNumber, BigNumber, boolean":function(t,e,n){return o(n?f(t,e,d):c(t,e,d))},"BigNumber, BigNumber, BigNumber, boolean":function(t,e,n,r){return o(r?f(t,e,n):c(t,e,n))}});return m.toTex=void 0,m}e.name="range",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,a){var s=r(n(0)),u=r(n(19)),c=a("trace",{Array:function(t){return c(s(t))},Matrix:function(t){var e;switch(t.storage()){case"dense":e=f(t);break;case"sparse":e=l(t)}return e},any:i}),f=function(t){var e=t._size,n=t._data;switch(e.length){case 1:if(1==e[0])return i(n[0]);throw new RangeError("Matrix must be square (size: "+o(e)+")");case 2:var r=e[0];if(r===e[1]){for(var a=0,s=0;s<r;s++)a=u(a,n[s][s]);return a}throw new RangeError("Matrix must be square (size: "+o(e)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+o(e)+")")}},l=function(t){var e=t._values,n=t._index,r=t._ptr,i=t._size,a=i[0],s=i[1];if(a===s){var c=0;if(e.length>0)for(var f=0;f<s;f++)for(var l=r[f],h=r[f+1],p=l;p<h;p++){var d=n[p];if(d===f){c=u(c,e[p]);break}if(d>f)break}return c}throw new RangeError("Matrix must be square (size: "+o(i)+")")};return c.toTex={1:"\\mathrm{tr}\\left(${args[0]}\\right)"},c}var i=n(5).clone,o=n(12).format;e.name="trace",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,u){function c(n){if(n.isZero())return new t.BigNumber(1);for(var r=e.precision+(0|Math.log(n.toNumber())),i=t.BigNumber.clone({precision:r}),o=new i(n),a=n.toNumber()-1;a>1;)o=o.times(a),a--;return new t.BigNumber(o.toPrecision(t.BigNumber.precision))}var f=r(n(13)),l=r(n(58)),h=u("gamma",{number:function(t){var e,n;if(o(t)){if(t<=0)return isFinite(t)?1/0:NaN;if(t>171)return 1/0;for(var r=t-2,i=t-1;r>1;)i*=r,r--;return 0==i&&(i=1),i}if(t<.5)return Math.PI/(Math.sin(Math.PI*t)*h(1-t));if(t>=171.35)return 1/0;if(t>85){var u=t*t,c=u*t,f=c*t,l=f*t;return Math.sqrt(2*Math.PI/t)*Math.pow(t/Math.E,t)*(1+1/(12*t)+1/(288*u)-139/(51840*c)-571/(2488320*f)+163879/(209018880*l)+5246819/(75246796800*l*t))}--t,n=s[0];for(var p=1;p<s.length;++p)n+=s[p]/(t+p);return e=t+a+.5,Math.sqrt(2*Math.PI)*Math.pow(e,t+.5)*Math.exp(-e)*n},Complex:function(e){var n,r;if(0==e.im)return h(e.re);e=new t.Complex(e.re-1,e.im),r=new t.Complex(s[0],0);for(var i=1;i<s.length;++i){var o=e.re+i,u=o*o+e.im*e.im;0!=u?(r.re+=s[i]*o/u,r.im+=-s[i]*e.im/u):r.re=s[i]<0?-1/0:1/0}n=new t.Complex(e.re+a+.5,e.im);var c=Math.sqrt(2*Math.PI);e.re+=.5;var p=l(n,e);0==p.im?p.re*=c:0==p.re?p.im*=c:(p.re*=c,p.im*=c);var d=Math.exp(-n.re);return n.re=d*Math.cos(-n.im),n.im=d*Math.sin(-n.im),f(f(p,n),r)},BigNumber:function(e){if(e.isInteger())return e.isNegative()||e.isZero()?new t.BigNumber(1/0):c(e.minus(1));if(!e.isFinite())return new t.BigNumber(e.isNegative()?NaN:1/0);throw new Error("Integer BigNumber expected")},"Array | Matrix":function(t){return i(t,h)}});return h.toTex={1:"\\Gamma\\left(${args[0]}\\right)"},h}var i=n(1),o=n(2).isInteger,a=4.7421875,s=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];e.name="gamma",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,a){var s=r(n(0)),u=r(n(15)),c=r(n(32)),f=r(n(17)),l=r(n(9)),h=r(n(6)),p=n(4),d=a("largerEq",{"boolean, boolean":function(t,e){return t>=e},"number, number":function(t,n){return t>=n||i(t,n,e.epsilon)},"BigNumber, BigNumber":function(t,n){return t.gte(n)||o(t,n,e.epsilon)},"Fraction, Fraction":function(t,e){return-1!==t.compare(e)},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return d(t.value,e.value)},"string, string":function(t,e){return t>=e},"Matrix, Matrix":function(t,e){var n;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":n=c(t,e,d);break;default:n=u(e,t,d,!0)}break;default:switch(e.storage()){case"sparse":n=u(t,e,d,!1);break;default:n=l(t,e,d)}}return n},"Array, Array":function(t,e){return d(s(t),s(e)).valueOf()},"Array, Matrix":function(t,e){return d(s(t),e)},"Matrix, Array":function(t,e){return d(t,s(e))},"Matrix, any":function(t,e){var n;switch(t.storage()){case"sparse":n=f(t,e,d,!1);break;default:n=h(t,e,d,!1)}return n},"any, Matrix":function(t,e){var n;switch(e.storage()){case"sparse":n=f(e,t,d,!0);break;default:n=h(e,t,d,!0)}return n},"Array, any":function(t,e){return h(s(t),e,d,!1).valueOf()},"any, Array":function(t,e){return h(s(e),t,d,!0).valueOf()}});return d.toTex={2:"\\left(${args[0]}"+p.operators.largerEq+"${args[1]}\\right)"},d}var i=n(2).nearlyEqual,o=n(50);e.name="largerEq",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,a){var s=r(n(0)),u=r(n(15)),c=r(n(32)),f=r(n(17)),l=r(n(9)),h=r(n(6)),p=n(4),d=a("unequal",{"any, any":function(t,e){return null===t?null!==e:null===e?null!==t:void 0===t?void 0!==e:void 0===e?void 0!==t:m(t,e)},"Matrix, Matrix":function(t,e){var n;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":n=c(t,e,m);break;default:n=u(e,t,m,!0)}break;default:switch(e.storage()){case"sparse":n=u(t,e,m,!1);break;default:n=l(t,e,m)}}return n},"Array, Array":function(t,e){return d(s(t),s(e)).valueOf()},"Array, Matrix":function(t,e){return d(s(t),e)},"Matrix, Array":function(t,e){return d(t,s(e))},"Matrix, any":function(t,e){var n;switch(t.storage()){case"sparse":n=f(t,e,m,!1);break;default:n=h(t,e,m,!1)}return n},"any, Matrix":function(t,e){var n;switch(e.storage()){case"sparse":n=f(e,t,m,!0);break;default:n=h(e,t,m,!0)}return n},"Array, any":function(t,e){return h(s(t),e,m,!1).valueOf()},"any, Array":function(t,e){return h(s(e),t,m,!0).valueOf()}}),m=a("_unequal",{"boolean, boolean":function(t,e){return t!==e},"number, number":function(t,n){return!i(t,n,e.epsilon)},"BigNumber, BigNumber":function(t,n){return!o(t,n,e.epsilon)},"Fraction, Fraction":function(t,e){return!t.equals(e)},"Complex, Complex":function(t,e){return!t.equals(e)},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return d(t.value,e.value)},"string, string":function(t,e){return t!==e}});return d.toTex={2:"\\left(${args[0]}"+p.operators.unequal+"${args[1]}\\right)"},d}var i=n(2).nearlyEqual,o=n(50);e.name="unequal",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,s){function u(t,e){return f(t,e)?t:e}function c(t){var e=void 0;if(i(t,function(t){(void 0===e||f(t,e))&&(e=t)}),void 0===e)throw new Error("Cannot calculate max of an empty array");return e}var f=r(n(41)),l=s("max",{"Array | Matrix":c,"Array | Matrix, number | BigNumber":function(t,e){return o(t,e.valueOf(),u)},"...":function(t){if(a(t))throw new TypeError("Scalar values expected in function max");return c(t)}});return l.toTex="\\max\\left(${args}\\right)",l}var i=n(51),o=n(97),a=n(96);e.name="max",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,u){function c(t,e){var n=a(t,e,l),r=Array.isArray(t)?i(t):t.size();return h(n,r[e])}function f(t){var e=0,n=0;if(o(t,function(t){e=l(e,t),n++}),0===n)throw new Error("Cannot calculate mean of an empty array");return h(e,n)}var l=r(n(19)),h=r(n(57)),p=u("mean",{"Array | Matrix":f,"Array | Matrix, number | BigNumber":c,"...":function(t){if(s(t))throw new TypeError("Scalar values expected in function mean");return f(t)}});return p.toTex=void 0,p}var i=n(3).size,o=n(51),a=n(97),s=n(96);e.name="mean",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,a){function s(t){t=i(t.valueOf());var e=t.length;if(0==e)throw new Error("Cannot calculate median of an empty array");if(e%2==0){for(var n=e/2-1,r=l(t,n+1),o=t[n],a=0;a<n;++a)f(t[a],o)>0&&(o=t[a]);return d(o,r)}var s=l(t,(e-1)/2);return p(s)}var u=r(n(22)),c=r(n(20)),f=r(n(73)),l=r(n(121)),h=a("median",{"Array | Matrix":s,"Array | Matrix, number | BigNumber":function(t,e){throw new Error("median(A, dim) is not yet supported")},"...":function(t){if(o(t))throw new TypeError("Scalar values expected in function median");return s(t)}}),p=a({"number | BigNumber | Unit":function(t){return t}}),d=a({"number | BigNumber | Unit, number | BigNumber | Unit":function(t,e){return c(u(t,e),2)}});return h.toTex=void 0,h}var i=n(3).flatten,o=(n(97),n(96));e.name="median",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,s){function u(t,e){return f(t,e)?t:e}function c(t){var e=void 0;if(i(t,function(t){(void 0===e||f(t,e))&&(e=t)}),void 0===e)throw new Error("Cannot calculate min of an empty array");return e}var f=r(n(59)),l=s("min",{"Array | Matrix":c,"Array | Matrix, number | BigNumber":function(t,e){return o(t,e.valueOf(),u)},"...":function(t){if(a(t))throw new TypeError("Scalar values expected in function min");return c(t)}});return l.toTex="\\min\\left(${args}\\right)",l}var i=n(51),o=n(97),a=n(96);e.name="min",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,o){function a(n){var r=void 0;if(i(n,function(t){r=void 0===r?t:s(r,t)}),void 0===r)switch(e.number){case"number":return 0;case"BigNumber":return new t.BigNumber(0);case"Fraction":return new t.Fraction(0);default:return 0}return r}var s=r(n(22)),u=o("sum",{"Array | Matrix":function(t){return a(t)},"Array | Matrix, number | BigNumber":function(){throw new Error("sum(A, dim) is not yet supported")},"...":function(t){return a(t)}});return u.toTex=void 0,u}var i=n(51);e.name="sum",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,a){function s(e,n){var r=0,i=0;if(0==e.length)throw new SyntaxError("Function var requires one or more parameters (0 provided)");if(o(e,function(t){r=u(r,t),i++}),0===i)throw new Error("Cannot calculate var of an empty array");var a=l(r,i);switch(r=0,o(e,function(t){var e=c(t,a);r=u(r,f(e,e))}),n){case"uncorrected":return l(r,i);case"biased":return l(r,i+1);case"unbiased":var s=r&&!0===r.isBigNumber?new t.BigNumber(0):0;return 1==i?s:l(r,i-1);default:throw new Error('Unknown normalization "'+n+'". Choose "unbiased" (default), "uncorrected", or "biased".')}}var u=r(n(22)),c=r(n(23)),f=r(n(25)),l=r(n(20)),h=a("variance",{"Array | Matrix":function(t){return s(t,i)},"Array | Matrix, string":s,"...":function(t){return s(t,i)}});return h.toTex="\\mathrm{Var}\\left(${args}\\right)",h}var i="unbiased",o=n(51);e.name="var",e.factory=r},function(t,e,n){"use strict";function r(t,e,n,r){var o=r("format",{any:i.format,"any, Object | function | number":i.format});return o.toTex=void 0,o}var i=n(12);e.name="format",e.factory=r},function(t,e,n){"use strict";function r(t,e,n,r){var a=r("acosh",{number:function(n){return n>=1||e.predictable?o(n):n<=-1?new t.Complex(Math.log(Math.sqrt(n*n-1)-n),Math.PI):new t.Complex(n,0).acosh()},Complex:function(t){return t.acosh()},BigNumber:function(t){return t.acosh()},"Array | Matrix":function(t){return i(t,a)}});return a.toTex={1:"\\cosh^{-1}\\left(${args[0]}\\right)"},a}var i=n(1),o=Math.acosh||function(t){return Math.log(Math.sqrt(t*t-1)+t)};e.name="acosh",e.factory=r},function(t,e,n){"use strict";function r(t,e,n,r){var o=r("clone",{any:i.clone});return o.toTex=void 0,o}var i=n(5);e.name="clone",e.factory=r},function(t,e,n){"use strict";function r(t,e,n,r){var o=r("_typeof",{any:function(t){var e=i.type(t);if("Object"===e){if(!0===t.isBigNumber)return"BigNumber";if(!0===t.isComplex)return"Complex";if(!0===t.isFraction)return"Fraction";if(!0===t.isMatrix)return"Matrix";if(!0===t.isUnit)return"Unit";if(!0===t.isIndex)return"Index";if(!0===t.isRange)return"Range";if(!0===t.isChain)return"Chain";if(!0===t.isHelp)return"Help"}return e}});return o.toTex=void 0,o}var i=n(98);e.name="typeof",e.factory=r},function(t,e,n){function r(t,e,n,r,s){return i.prototype.type="Complex",i.prototype.isComplex=!0,i.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},i.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},i.prototype.format=function(t){var e=this.im,n=this.re,r=o(this.re,t),i=o(this.im,t),s=a(t)?t:t?t.precision:null;if(null!==s){var u=Math.pow(10,-s);Math.abs(n/e)<u&&(n=0),Math.abs(e/n)<u&&(e=0)}return 0==e?r:0==n?1==e?"i":-1==e?"-i":i+"i":e<0?-1==e?r+" - i":r+" - "+(/[\d-.]/.test(i.charAt(0))?i.substring(1):i)+"i":1==e?r+" + i":r+" + "+i+"i"},i.fromPolar=function(t){switch(arguments.length){case 1:var e=arguments[0];if("object"==typeof e)return i(e);throw new TypeError("Input has to be an object with r and phi keys.");case 2:var n=arguments[0],r=arguments[1];if(a(n)){if(r&&r.isUnit&&r.hasBase("ANGLE")&&(r=r.toNumber("rad")),a(r))return new i({r:n,phi:r});throw new TypeError("Phi is not a number nor an angle unit.")}throw new TypeError("Radius r is not a number.");default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},i.prototype.valueOf=i.prototype.toString,i.fromJSON=function(t){return new i(t)},i.EPSILON=e.epsilon,s.on("config",function(t,e){t.epsilon!==e.epsilon&&(i.EPSILON=t.epsilon)}),i}var i=n(223),o=n(2).format,a=n(2).isNumber;e.name="Complex",e.path="type",e.factory=r,e.math=!0},function(t,e,n){"use strict";function r(t,e,n,r){var o=r("fraction",{number:function(e){if(!isFinite(e)||isNaN(e))throw new Error(e+" cannot be represented as a fraction");return new t.Fraction(e)},string:function(e){return new t.Fraction(e)},"number, number":function(e,n){return new t.Fraction(e,n)},BigNumber:function(e){return new t.Fraction(e.toString())},Fraction:function(t){return t},Object:function(e){return new t.Fraction(e)},"Array | Matrix":function(t){return i(t,o)}});return o}var i=n(1);e.name="fraction",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,c){function m(t,e){if(!(this instanceof m))throw new SyntaxError("Constructor must be called with the new operator");if(e&&!p(e))throw new Error("Invalid datatype: "+e);if(t&&!0===t.isMatrix)"DenseMatrix"===t.type?(this._data=u.clone(t._data),this._size=u.clone(t._size),this._datatype=e||t._datatype):(this._data=t.toArray(),this._size=t.size(),this._datatype=e||t._datatype);else if(t&&f(t.data)&&f(t.size))this._data=t.data,this._size=t.size,this._datatype=e||t.datatype;else if(f(t))this._data=b(t),this._size=s.size(this._data),s.validate(this._data,this._size),this._datatype=e;else{if(t)throw new TypeError("Unsupported type of data ("+i.types.type(t)+")");this._data=[],this._size=[0],this._datatype=e}}function g(t,e){if(!e||!0!==e.isIndex)throw new TypeError("Invalid index");if(e.isScalar())return t.get(e.min());var n=e.size();if(n.length!=t._size.length)throw new o(n.length,t._size.length);for(var r=e.min(),i=e.max(),a=0,s=t._size.length;a<s;a++)d(r[a],t._size[a]),d(i[a],t._size[a]);return new m(v(t._data,e,n.length,0),t._datatype)}function v(t,e,n,r){var i=r===n-1,o=e.dimension(r);return i?o.map(function(e){return d(e,t.length),t[e]}).valueOf():o.map(function(i){return d(i,t.length),v(t[i],e,n,r+1)}).valueOf()}function y(t,e,n,r){if(!e||!0!==e.isIndex)throw new TypeError("Invalid index");var i,a=e.size(),c=e.isScalar();if(n&&!0===n.isMatrix?(i=n.size(),n=n.valueOf()):i=s.size(n),c){if(0!==i.length)throw new TypeError("Scalar expected");t.set(e.min(),n,r)}else{if(a.length<t._size.length)throw new o(a.length,t._size.length,"<");if(i.length<a.length){for(var f=0,l=0;1===a[f]&&1===i[f];)f++;for(;1===a[f];)l++,f++;n=s.unsqueeze(n,a.length,l,i)}if(!u.deepEqual(a,i))throw new o(a,i,">");w(t,e.max().map(function(t){return t+1}),r);var h=a.length;x(t._data,e,n,h,0)}return t}function x(t,e,n,r,i){var o=i===r-1,a=e.dimension(i);o?a.forEach(function(e,r){d(e),t[e]=n[r[0]]}):a.forEach(function(o,a){d(o),x(t[o],e,n[a[0]],r,i+1)})}function w(t,e,n){for(var r=t._size.slice(0),i=!1;r.length<e.length;)r.push(0),i=!0;for(var o=0,a=e.length;o<a;o++)e[o]>r[o]&&(r[o]=e[o],i=!0);i&&N(t,r,n)}function b(t){for(var e=0,n=t.length;e<n;e++){var r=t[e];f(r)?t[e]=b(r):r&&!0===r.isMatrix&&(t[e]=b(r.valueOf()))}return t}var _=r(n(126));m.prototype=new _,m.prototype.type="DenseMatrix",m.prototype.isDenseMatrix=!0,m.prototype.storage=function(){return"dense"},m.prototype.datatype=function(){return this._datatype},m.prototype.create=function(t,e){return new m(t,e)},m.prototype.subset=function(t,e,n){switch(arguments.length){case 1:return g(this,t);case 2:case 3:return y(this,t,e,n);default:throw new SyntaxError("Wrong number of arguments")}},m.prototype.get=function(t){if(!f(t))throw new TypeError("Array expected");if(t.length!=this._size.length)throw new o(t.length,this._size.length);for(var e=0;e<t.length;e++)d(t[e],this._size[e]);for(var n=this._data,r=0,i=t.length;r<i;r++){var a=t[r];d(a,n.length),n=n[a]}return n},m.prototype.set=function(t,e,n){if(!f(t))throw new TypeError("Array expected");if(t.length<this._size.length)throw new o(t.length,this._size.length,"<");var r,i,a;w(this,t.map(function(t){return t+1}),n);var s=this._data;for(r=0,i=t.length-1;r<i;r++)a=t[r],d(a,s.length),s=s[a];return a=t[t.length-1],d(a,s.length),s[a]=e,this},m.prototype.resize=function(t,e,n){if(!f(t))throw new TypeError("Array expected");var r=n?this.clone():this;return N(r,t,e)};var N=function(t,e,n){if(0===e.length){for(var r=t._data;f(r);)r=r[0];return r}return t._size=e.slice(0),t._data=s.resize(t._data,t._size,n),t};return m.prototype.reshape=function(t,e){var n=e?this.clone():this;return n._data=s.reshape(n._data,t),n._size=t.slice(0),n},m.prototype.clone=function(){return new m({data:u.clone(this._data),size:u.clone(this._size),datatype:this._datatype})},m.prototype.size=function(){return this._size.slice(0)},m.prototype.map=function(t){var e=this,n=function(r,i){return f(r)?r.map(function(t,e){return n(t,i.concat(e))}):t(r,i,e)};return new m({data:n(this._data,[]),size:u.clone(this._size),datatype:this._datatype})},m.prototype.forEach=function(t){var e=this,n=function(r,i){f(r)?r.forEach(function(t,e){n(t,i.concat(e))}):t(r,i,e)};n(this._data,[])},m.prototype.toArray=function(){return u.clone(this._data)},m.prototype.valueOf=function(){return this._data},m.prototype.format=function(t){return a.format(this._data,t)},m.prototype.toString=function(){return a.format(this._data)},m.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},m.prototype.diagonal=function(t){if(t){if(!0===t.isBigNumber&&(t=t.toNumber()),!l(t)||!h(t))throw new TypeError("The parameter k must be an integer number")}else t=0;for(var e=t>0?t:0,n=t<0?-t:0,r=this._size[0],i=this._size[1],o=Math.min(r-n,i-e),a=[],s=0;s<o;s++)a[s]=this._data[s+n][s+e];return new m({data:a,size:[o],datatype:this._datatype})},m.diagonal=function(e,n,r,i,o){if(!f(e))throw new TypeError("Array expected, size parameter");if(2!==e.length)throw new Error("Only two dimensions matrix are supported");if(e=e.map(function(t){if(t&&!0===t.isBigNumber&&(t=t.toNumber()),!l(t)||!h(t)||t<1)throw new Error("Size values must be positive integers");return t}),r){if(r&&!0===r.isBigNumber&&(r=r.toNumber()),!l(r)||!h(r))throw new TypeError("The parameter k must be an integer number")}else r=0;i&&p(o)&&(i=c.convert(i,o));var a,u=r>0?r:0,d=r<0?-r:0,g=e[0],v=e[1],y=Math.min(g-d,v-u);if(f(n)){if(n.length!==y)throw new Error("Invalid value array length");a=function(t){return n[t]}}else if(n&&!0===n.isMatrix){var x=n.size();if(1!==x.length||x[0]!==y)throw new Error("Invalid matrix length");a=function(t){return n.get([t])}}else a=function(){return n};i||(i=a(0)&&!0===a(0).isBigNumber?new t.BigNumber(0):0);var w=[];if(e.length>0){w=s.resize(w,e,i);for(var b=0;b<y;b++)w[b+d][b+u]=a(b)}return new m({data:w,size:[g,v]})},m.fromJSON=function(t){return new m(t)},m.prototype.swapRows=function(t,e){if(!(l(t)&&h(t)&&l(e)&&h(e)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return d(t,this._size[0]),d(e,this._size[0]),m._swapRows(t,e,this._data),this},m._swapRows=function(t,e,n){var r=n[t];n[t]=n[e],n[e]=r},t.Matrix._storage.dense=m,t.Matrix._storage.default=m,m}var i=n(33),o=n(10),a=(n(18).getSafeProperty,n(18).setSafeProperty,i.string),s=i.array,u=i.object,c=i.number,f=Array.isArray,l=c.isNumber,h=c.isInteger,p=a.isString,d=s.validateIndex;e.name="DenseMatrix",e.path="type",e.factory=r,e.lazy=!1},function(t,e,n){"use strict";function r(t,e,n,r){function o(t,e,n){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");if(null!=t)if(!0===t.isBigNumber)t=t.toNumber();else if("number"!=typeof t)throw new TypeError("Parameter start must be a number");if(null!=e)if(!0===e.isBigNumber)e=e.toNumber();else if("number"!=typeof e)throw new TypeError("Parameter end must be a number");if(null!=n)if(!0===n.isBigNumber)n=n.toNumber();else if("number"!=typeof n)throw new TypeError("Parameter step must be a number");this.start=null!=t?parseFloat(t):0,this.end=null!=e?parseFloat(e):0,this.step=null!=n?parseFloat(n):1}return o.prototype.type="Range",o.prototype.isRange=!0,o.parse=function(t){if("string"!=typeof t)return null;var e=t.split(":"),n=e.map(function(t){return parseFloat(t)});if(n.some(function(t){return isNaN(t)}))return null;switch(n.length){case 2:return new o(n[0],n[1]);case 3:return new o(n[0],n[2],n[1]);default:return null}},o.prototype.clone=function(){return new o(this.start,this.end,this.step)},o.prototype.size=function(){var t=0,e=this.start,n=this.step,r=this.end,o=r-e;return i.sign(n)==i.sign(o)?t=Math.ceil(o/n):0==o&&(t=0),isNaN(t)&&(t=0),[t]},o.prototype.min=function(){var t=this.size()[0];return t>0?this.step>0?this.start:this.start+(t-1)*this.step:void 0},o.prototype.max=function(){var t=this.size()[0];return t>0?this.step>0?this.start+(t-1)*this.step:this.start:void 0},o.prototype.forEach=function(t){var e=this.start,n=this.step,r=this.end,i=0;if(n>0)for(;e<r;)t(e,[i],this),e+=n,i++;else if(n<0)for(;e>r;)t(e,[i],this),e+=n,i++},o.prototype.map=function(t){var e=[];return this.forEach(function(n,r,i){e[r[0]]=t(n,r,i)}),e},o.prototype.toArray=function(){var t=[];return this.forEach(function(e,n){t[n[0]]=e}),t},o.prototype.valueOf=function(){return this.toArray()},o.prototype.format=function(t){var e=i.format(this.start,t);return 1!=this.step&&(e+=":"+i.format(this.step,t)),e+=":"+i.format(this.end,t)},o.prototype.toString=function(){return this.format()},o.prototype.toJSON=function(){return{mathjs:"Range",start:this.start,end:this.end,step:this.step}},o.fromJSON=function(t){return new o(t.start,t.end,t.step)},o}var i=n(2);e.name="Range",e.path="type",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,o){var a=r(n(11)),s=t.SparseMatrix;return function(t,e,n){var r=t._values,u=t._index,c=t._ptr,f=t._size,l=t._datatype,h=e._values,p=e._index,d=e._ptr,m=e._size,g=e._datatype;if(f.length!==m.length)throw new i(f.length,m.length);if(f[0]!==m[0]||f[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+f+") must match Matrix B ("+m+")");var v,y=f[0],x=f[1],w=a,b=0,_=n;"string"==typeof l&&l===g&&(v=l,w=o.find(a,[v,v]),b=o.convert(0,v),_=o.find(n,[v,v]));var N,E,M,S,A,O=r&&h?[]:void 0,C=[],T=[],P=new s({values:O,index:C,ptr:T,size:[y,x],datatype:v}),z=O?[]:void 0,k=[];for(E=0;E<x;E++){T[E]=C.length;var I=E+1;if(z)for(S=d[E],A=d[E+1],M=S;M<A;M++)N=p[M],k[N]=I,z[N]=h[M];for(S=c[E],A=c[E+1],M=S;M<A;M++)if(N=u[M],z){var B=k[N]===I?z[N]:b,j=_(r[M],B);w(j,b)||(C.push(N),O.push(j))}else C.push(N)}return T[x]=C.length,P}}var i=n(10);e.name="algorithm09",e.factory=r},function(t,e,n){"use strict";function r(t,e,n,r){function i(t){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this.entries=t||[]}return i.prototype.type="ResultSet",i.prototype.isResultSet=!0,i.prototype.valueOf=function(){return this.entries},i.prototype.toString=function(){return"["+this.entries.join(", ")+"]"},i.prototype.toJSON=function(){return{mathjs:"ResultSet",entries:this.entries}},i.fromJSON=function(t){return new i(t.entries)},i}e.name="ResultSet",e.path="type",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,s,u){function c(t,e){if(!(this instanceof c))throw new Error("Constructor must be called with the new operator");if(void 0!==t&&!C(t)&&!t.isComplex)throw new TypeError("First parameter in Unit constructor must be number, BigNumber, Fraction, Complex, or undefined");if(void 0!=e&&("string"!=typeof e||""==e))throw new TypeError("Second parameter in Unit constructor must be a string");if(void 0!=e){var n=c.parse(e);this.units=n.units,this.dimensions=n.dimensions}else{this.units=[{unit:V,prefix:L.NONE,power:0}],this.dimensions=[];for(var r=0;r<q.length;r++)this.dimensions[r]=0}this.value=void 0!=t?this._normalize(t):null,this.fixPrefix=!1,this.isUnitListSimplified=!0}function f(){for(;" "==j||"\t"==j;)p()}function l(t){return t>="0"&&t<="9"||"."==t}function h(t){return t>="0"&&t<="9"}function p(){B++,j=I.charAt(B)}function d(t){B=t,j=I.charAt(B)}function m(){var t,e="";if(t=B,"+"==j?p():"-"==j&&(e+=j,p()),!l(j))return d(t),null;if("."==j){if(e+=j,p(),!h(j))return d(t),null}else{for(;h(j);)e+=j,p();"."==j&&(e+=j,p())}for(;h(j);)e+=j,p();if("E"==j||"e"==j){var n="",r=B;if(n+=j,p(),"+"!=j&&"-"!=j||(n+=j,p()),!h(j))return d(r),e;for(e+=n;h(j);)e+=j,p()}return e}function g(){for(var t="",e=I.charCodeAt(B);e>=48&&e<=57||e>=65&&e<=90||e>=97&&e<=122;)t+=j,p(),e=I.charCodeAt(B);return e=t.charCodeAt(0),e>=65&&e<=90||e>=97&&e<=122?t||null:null}function v(t){return j===t?(p(),t):null}function y(t){if(H.hasOwnProperty(t)){var e=H[t],n=e.prefixes[""];return{unit:e,prefix:n}}for(var r in H)if(H.hasOwnProperty(r)&&i(t,r)){var e=H[r],o=t.length-r.length,a=t.substring(0,o),n=e.prefixes.hasOwnProperty(a)?e.prefixes[a]:void 0;if(void 0!==n)return{unit:e,prefix:n}}return null}function x(e){if("BigNumber"===e.number){var n=a.pi(t.BigNumber);H.rad.value=new t.BigNumber(1),H.deg.value=n.div(180),H.grad.value=n.div(200),H.cycle.value=n.times(2),H.arcsec.value=n.div(648e3),H.arcmin.value=n.div(10800)}else H.rad.value=1,H.deg.value=Math.PI/180,H.grad.value=Math.PI/200,H.cycle.value=2*Math.PI,H.arcsec.value=Math.PI/648e3,H.arcmin.value=Math.PI/10800}function w(t){for(var e=0;e<t.length;e++){var n=t.charAt(e),r=function(t){return/^[a-zA-Z]$/.test(t)};if(0===e&&!r(n))throw new Error('Invalid unit name (must begin with alpha character): "'+t+'"');if(e>0&&!r(n)&&!function(t){return t>="0"&&t<="9"}(n))throw new Error('Invalid unit name (only alphanumeric characters are allowed): "'+t+'"')}}var b=r(n(22)),_=r(n(23)),N=r(n(25)),E=r(n(20)),M=r(n(58)),S=r(n(37)),A=r(n(180)),O=r(n(123)),C=r(n(124)),T=r(n(203)),P=r(n(206)),z=r(n(129)),k=r(n(207));c.prototype.type="Unit",c.prototype.isUnit=!0;var I,B,j;c.parse=function(n,r){if(r=r||{},I=n,B=-1,j="","string"!=typeof I)throw new TypeError("Invalid argument in Unit.parse, string expected");var i=new c;i.units=[],p(),f();var o=m(),a=null;o&&(a="BigNumber"===e.number?new t.BigNumber(o):"Fraction"===e.number?new t.Fraction(o):parseFloat(o)),f();for(var s=1,u=!1,l=[],h=1;;){for(f();"("===j;)l.push(s),h*=s,s=1,p(),f();if(!j)break;var d=j,x=g();if(null==x)throw new SyntaxError('Unexpected "'+d+'" in "'+I+'" at index '+B.toString());var w=y(x);if(null==w)throw new SyntaxError('Unit "'+x+'" not found.');var b=s*h;if(f(),v("^")){f();var _=m();if(null==_)throw new SyntaxError('In "'+n+'", "^" must be followed by a floating-point number');b*=_}i.units.push({unit:w.unit,prefix:w.prefix,power:b});for(var N=0;N<q.length;N++)i.dimensions[N]+=(w.unit.dimensions[N]||0)*b;for(f();")"===j;){if(0===l.length)throw new SyntaxError('Unmatched ")" in "'+I+'" at index '+B.toString());h/=l.pop(),p(),f()}if(u=!1,v("*")?(s=1,u=!0):v("/")?(s=-1,u=!0):s=1,w.unit.base){var E=w.unit.base.key;G.auto[E]={unit:w.unit,prefix:w.prefix}}}if(f(),j)throw new SyntaxError('Could not parse: "'+n+'"');if(u)throw new SyntaxError('Trailing characters: "'+n+'"');if(0!==l.length)throw new SyntaxError('Unmatched "(" in "'+I+'"');if(0==i.units.length&&!r.allowNoUnits)throw new SyntaxError('"'+n+'" contains no units');return i.value=void 0!=a?i._normalize(a):null,i},c.prototype.clone=function(){var t=new c;t.fixPrefix=this.fixPrefix,t.isUnitListSimplified=this.isUnitListSimplified,t.value=o(this.value),t.dimensions=this.dimensions.slice(0),t.units=[];for(var e=0;e<this.units.length;e++){t.units[e]={};for(var n in this.units[e])this.units[e].hasOwnProperty(n)&&(t.units[e][n]=this.units[e][n])}return t},c.prototype._isDerived=function(){return 0!==this.units.length&&(this.units.length>1||Math.abs(this.units[0].power-1)>1e-15)},c.prototype._normalize=function(t){var e,n,r,i,o;if(null==t||0===this.units.length)return t;if(this._isDerived()){var a=t;o=c._getNumberConverter(P(t));for(var s=0;s<this.units.length;s++)e=o(this.units[s].unit.value),i=o(this.units[s].prefix.value),r=o(this.units[s].power),a=N(a,M(N(e,i),r));return a}return o=c._getNumberConverter(P(t)),e=o(this.units[0].unit.value),n=o(this.units[0].unit.offset),i=o(this.units[0].prefix.value),N(b(t,n),N(e,i))},c.prototype._denormalize=function(t,e){var n,r,i,o,a;if(null==t||0===this.units.length)return t;if(this._isDerived()){var s=t;a=c._getNumberConverter(P(t));for(var u=0;u<this.units.length;u++)n=a(this.units[u].unit.value),o=a(this.units[u].prefix.value),i=a(this.units[u].power),s=E(s,M(N(n,o),i));return s}return a=c._getNumberConverter(P(t)),n=a(this.units[0].unit.value),o=a(this.units[0].prefix.value),r=a(this.units[0].unit.offset),void 0==e?_(E(E(t,n),o),r):_(E(E(t,n),e),r)},c.isValuelessUnit=function(t){return null!=y(t)},c.prototype.hasBase=function(t){if("string"==typeof t&&(t=U[t]),!t)return!1;for(var e=0;e<q.length;e++)if(Math.abs((this.dimensions[e]||0)-(t.dimensions[e]||0))>1e-12)return!1;return!0},c.prototype.equalBase=function(t){for(var e=0;e<q.length;e++)if(Math.abs((this.dimensions[e]||0)-(t.dimensions[e]||0))>1e-12)return!1;return!0},c.prototype.equals=function(t){return this.equalBase(t)&&O(this.value,t.value)},c.prototype.multiply=function(t){for(var e=this.clone(),n=0;n<q.length;n++)e.dimensions[n]=(this.dimensions[n]||0)+(t.dimensions[n]||0);for(var n=0;n<t.units.length;n++){var r={};for(var i in t.units[n])r[i]=t.units[n][i];e.units.push(r)}if(null!=this.value||null!=t.value){var o=null==this.value?this._normalize(1):this.value,a=null==t.value?t._normalize(1):t.value;e.value=N(o,a)}else e.value=null;return e.isUnitListSimplified=!1,R(e)},c.prototype.divide=function(t){for(var e=this.clone(),n=0;n<q.length;n++)e.dimensions[n]=(this.dimensions[n]||0)-(t.dimensions[n]||0);for(var n=0;n<t.units.length;n++){var r={};for(var i in t.units[n])r[i]=t.units[n][i];r.power=-r.power,e.units.push(r)}if(null!=this.value||null!=t.value){var o=null==this.value?this._normalize(1):this.value,a=null==t.value?t._normalize(1):t.value;e.value=E(o,a)}else e.value=null;return e.isUnitListSimplified=!1,R(e)},c.prototype.pow=function(t){for(var e=this.clone(),n=0;n<q.length;n++)e.dimensions[n]=(this.dimensions[n]||0)*t;for(var n=0;n<e.units.length;n++)e.units[n].power*=t;return null!=e.value?e.value=M(e.value,t):e.value=null,e.isUnitListSimplified=!1,R(e)};var R=function(t){return t.equalBase(U.NONE)&&null!==t.value&&!e.predictable?t.value:t};c.prototype.abs=function(){var t=this.clone();t.value=S(t.value);for(var e in t.units)"VA"!==t.units[e].unit.name&&"VAR"!==t.units[e].unit.name||(t.units[e].unit=H.W);return t},c.prototype.to=function(t){var e,n=null==this.value?this._normalize(1):this.value;if("string"==typeof t){if(e=c.parse(t),!this.equalBase(e))throw new Error("Units do not match");if(null!==e.value)throw new Error("Cannot convert to a unit with a value");return e.value=o(n),e.fixPrefix=!0,e.isUnitListSimplified=!0,e}if(t&&t.isUnit){if(!this.equalBase(t))throw new Error("Units do not match");if(null!==t.value)throw new Error("Cannot convert to a unit with a value");return e=t.clone(),e.value=o(n),e.fixPrefix=!0,e.isUnitListSimplified=!0,e}throw new Error("String or Unit expected as parameter")},c.prototype.toNumber=function(t){return z(this.toNumeric(t))},c.prototype.toNumeric=function(t){var e=this;return t&&(e=this.to(t)),e._isDerived()?e._denormalize(e.value):e._denormalize(e.value,e.units[0].prefix.value)},c.prototype.toString=function(){return this.format()},c.prototype.toJSON=function(){return{mathjs:"Unit",value:this._denormalize(this.value),unit:this.formatUnits(),fixPrefix:this.fixPrefix}},c.fromJSON=function(t){var e=new c(t.value,t.unit);return e.fixPrefix=t.fixPrefix||!1,e},c.prototype.valueOf=c.prototype.toString,c.prototype.simplifyUnitListLazy=function(){if(!this.isUnitListSimplified&&null!=this.value){var t,e=[];for(var n in Z)if(this.hasBase(U[n])){t=n;break}if("NONE"===t)this.units=[];else{var r;t&&Z.hasOwnProperty(t)&&(r=Z[t]);if(r)this.units=[{unit:r.unit,prefix:r.prefix,power:1}];else{for(var i=!1,o=0;o<q.length;o++){var a=q[o];Math.abs(this.dimensions[o]||0)>1e-12&&(Z.hasOwnProperty(a)?e.push({unit:Z[a].unit,prefix:Z[a].prefix,power:this.dimensions[o]||0}):i=!0)}e.length<this.units.length&&!i&&(this.units=e)}}this.isUnitListSimplified=!0}},c.prototype.toSI=function(){for(var t=this.clone(),e=[],n=0;n<q.length;n++){var r=q[n];if(Math.abs(t.dimensions[n]||0)>1e-12){if(!G.si.hasOwnProperty(r))throw new Error("Cannot express custom unit "+r+" in SI units");e.push({unit:G.si[r].unit,prefix:G.si[r].prefix,power:t.dimensions[n]||0})}}return t.units=e,t.isUnitListSimplified=!0,t},c.prototype.formatUnits=function(){this.simplifyUnitListLazy();for(var t="",e="",n=0,r=0,i=0;i<this.units.length;i++)this.units[i].power>0?(n++,t+=" "+this.units[i].prefix.name+this.units[i].unit.name,Math.abs(this.units[i].power-1)>1e-15&&(t+="^"+this.units[i].power)):this.units[i].power<0&&r++;if(r>0)for(var i=0;i<this.units.length;i++)this.units[i].power<0&&(n>0?(e+=" "+this.units[i].prefix.name+this.units[i].unit.name,Math.abs(this.units[i].power+1)>1e-15&&(e+="^"+-this.units[i].power)):(e+=" "+this.units[i].prefix.name+this.units[i].unit.name,e+="^"+this.units[i].power));t=t.substr(1),e=e.substr(1),n>1&&r>0&&(t="("+t+")"),r>1&&n>0&&(e="("+e+")");var o=t;return n>0&&r>0&&(o+=" / "),o+=e},c.prototype.format=function(t){this.simplifyUnitListLazy();var e=!1;void 0!==this.value&&null!==this.value&&this.value.isComplex&&(e=Math.abs(this.value.re)<1e-14,Math.abs(this.value.im));for(var n in this.units)this.units[n].unit&&("VA"===this.units[n].unit.name&&e?this.units[n].unit=H.VAR:"VAR"!==this.units[n].unit.name||e||(this.units[n].unit=H.VA));1!==this.units.length||this.fixPrefix||Math.abs(this.units[0].power-Math.round(this.units[0].power))<1e-14&&(this.units[0].prefix=this._bestPrefix());var r=this._denormalize(this.value),i=null!==this.value?T(r,t||{}):"",o=this.formatUnits();return this.value&&this.value.isComplex&&(i="("+i+")"),o.length>0&&i.length>0&&(i+=" "),i+=o},c.prototype._bestPrefix=function(){if(1!==this.units.length)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");if(Math.abs(this.units[0].power-Math.round(this.units[0].power))>=1e-14)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");var t=S(this.value),e=S(this.units[0].unit.value),n=this.units[0].prefix;if(0===t)return n;var r=this.units[0].power,i=Math.log(t/Math.pow(n.value*e,r))/Math.LN10-1.2;if(i>-2.200001&&i<1.800001)return n;i=Math.abs(i);var o=this.units[0].unit.prefixes;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];if(s.scientific){var u=Math.abs(Math.log(t/Math.pow(s.value*e,r))/Math.LN10-1.2);(u<i||u===i&&s.name.length<n.name.length)&&(n=s,i=u)}}return n},c.prototype.splitUnit=function(t){for(var e=this.clone(),n=[],r=0;r<t.length&&(e=e.to(t[r]),r!=t.length-1);r++){var i=A(e.toNumeric()),o=new c(i,t[r].toString());n.push(o),e=_(e,o)}return n.push(e),n};var L={NONE:{"":{name:"",value:1,scientific:!0}},SHORT:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:10,scientific:!1},h:{name:"h",value:100,scientific:!1},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},d:{name:"d",value:.1,scientific:!1},c:{name:"c",value:.01,scientific:!1},m:{name:"m",value:.001,scientific:!0},u:{name:"u",value:1e-6,scientific:!0},n:{name:"n",value:1e-9,scientific:!0},p:{name:"p",value:1e-12,scientific:!0},f:{name:"f",value:1e-15,scientific:!0},a:{name:"a",value:1e-18,scientific:!0},z:{name:"z",value:1e-21,scientific:!0},y:{name:"y",value:1e-24,scientific:!0}},LONG:{"":{name:"",value:1,scientific:!0},deca:{name:"deca",value:10,scientific:!1},hecto:{name:"hecto",value:100,scientific:!1},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},deci:{name:"deci",value:.1,scientific:!1},centi:{name:"centi",value:.01,scientific:!1},milli:{name:"milli",value:.001,scientific:!0},micro:{name:"micro",value:1e-6,scientific:!0},nano:{name:"nano",value:1e-9,scientific:!0},pico:{name:"pico",value:1e-12,scientific:!0},femto:{name:"femto",value:1e-15,scientific:!0},atto:{name:"atto",value:1e-18,scientific:!0},zepto:{name:"zepto",value:1e-21,scientific:!0},yocto:{name:"yocto",value:1e-24,scientific:!0}},SQUARED:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:100,scientific:!1},h:{name:"h",value:1e4,scientific:!1},k:{name:"k",value:1e6,scientific:!0},M:{name:"M",value:1e12,scientific:!0},G:{name:"G",value:1e18,scientific:!0},T:{name:"T",value:1e24,scientific:!0},P:{name:"P",value:1e30,scientific:!0},E:{name:"E",value:1e36,scientific:!0},Z:{name:"Z",value:1e42,scientific:!0},Y:{name:"Y",value:1e48,scientific:!0},d:{name:"d",value:.01,scientific:!1},c:{name:"c",value:1e-4,scientific:!1},m:{name:"m",value:1e-6,scientific:!0},u:{name:"u",value:1e-12,scientific:!0},n:{name:"n",value:1e-18,scientific:!0},p:{name:"p",value:1e-24,scientific:!0},f:{name:"f",value:1e-30,scientific:!0},a:{name:"a",value:1e-36,scientific:!0},z:{name:"z",value:1e-42,scientific:!0},y:{name:"y",value:1e-48,scientific:!0}},CUBIC:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:1e3,scientific:!1},h:{name:"h",value:1e6,scientific:!1},k:{name:"k",value:1e9,scientific:!0},M:{name:"M",value:1e18,scientific:!0},G:{name:"G",value:1e27,scientific:!0},T:{name:"T",value:1e36,scientific:!0},P:{name:"P",value:1e45,scientific:!0},E:{name:"E",value:1e54,scientific:!0},Z:{name:"Z",value:1e63,scientific:!0},Y:{name:"Y",value:1e72,scientific:!0},d:{name:"d",value:.001,scientific:!1},c:{name:"c",value:1e-6,scientific:!1},m:{name:"m",value:1e-9,scientific:!0},u:{name:"u",value:1e-18,scientific:!0},n:{name:"n",value:1e-27,scientific:!0},p:{name:"p",value:1e-36,scientific:!0},f:{name:"f",value:1e-45,scientific:!0},a:{name:"a",value:1e-54,scientific:!0},z:{name:"z",value:1e-63,scientific:!0},y:{name:"y",value:1e-72,scientific:!0}},BINARY_SHORT:{"":{name:"",value:1,scientific:!0},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},Ki:{name:"Ki",value:1024,scientific:!0},Mi:{name:"Mi",value:Math.pow(1024,2),scientific:!0},Gi:{name:"Gi",value:Math.pow(1024,3),scientific:!0},Ti:{name:"Ti",value:Math.pow(1024,4),scientific:!0},Pi:{name:"Pi",value:Math.pow(1024,5),scientific:!0},Ei:{name:"Ei",value:Math.pow(1024,6),scientific:!0},Zi:{name:"Zi",value:Math.pow(1024,7),scientific:!0},Yi:{name:"Yi",value:Math.pow(1024,8),scientific:!0}},BINARY_LONG:{"":{name:"",value:1,scientific:!0},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},kibi:{name:"kibi",value:1024,scientific:!0},mebi:{name:"mebi",value:Math.pow(1024,2),scientific:!0},gibi:{name:"gibi",value:Math.pow(1024,3),scientific:!0},tebi:{name:"tebi",value:Math.pow(1024,4),scientific:!0},pebi:{name:"pebi",value:Math.pow(1024,5),scientific:!0},exi:{name:"exi",value:Math.pow(1024,6),scientific:!0},zebi:{name:"zebi",value:Math.pow(1024,7),scientific:!0},yobi:{name:"yobi",value:Math.pow(1024,8),scientific:!0}},BTU:{"":{name:"",value:1,scientific:!0},MM:{name:"MM",value:1e6,scientific:!0}}};L.SHORTLONG={};for(var F in L.SHORT)L.SHORT.hasOwnProperty(F)&&(L.SHORTLONG[F]=L.SHORT[F]);for(var F in L.LONG)L.LONG.hasOwnProperty(F)&&(L.SHORTLONG[F]=L.LONG[F]);var q=["MASS","LENGTH","TIME","CURRENT","TEMPERATURE","LUMINOUS_INTENSITY","AMOUNT_OF_SUBSTANCE","ANGLE","BIT"],U={NONE:{dimensions:[0,0,0,0,0,0,0,0,0]},MASS:{dimensions:[1,0,0,0,0,0,0,0,0]},LENGTH:{dimensions:[0,1,0,0,0,0,0,0,0]},TIME:{dimensions:[0,0,1,0,0,0,0,0,0]},CURRENT:{dimensions:[0,0,0,1,0,0,0,0,0]},TEMPERATURE:{dimensions:[0,0,0,0,1,0,0,0,0]},LUMINOUS_INTENSITY:{dimensions:[0,0,0,0,0,1,0,0,0]},AMOUNT_OF_SUBSTANCE:{dimensions:[0,0,0,0,0,0,1,0,0]},FORCE:{dimensions:[1,1,-2,0,0,0,0,0,0]},SURFACE:{dimensions:[0,2,0,0,0,0,0,0,0]},VOLUME:{dimensions:[0,3,0,0,0,0,0,0,0]},ENERGY:{dimensions:[1,2,-2,0,0,0,0,0,0]},POWER:{dimensions:[1,2,-3,0,0,0,0,0,0]},PRESSURE:{dimensions:[1,-1,-2,0,0,0,0,0,0]},ELECTRIC_CHARGE:{dimensions:[0,0,1,1,0,0,0,0,0]},ELECTRIC_CAPACITANCE:{dimensions:[-1,-2,4,2,0,0,0,0,0]},ELECTRIC_POTENTIAL:{dimensions:[1,2,-3,-1,0,0,0,0,0]},ELECTRIC_RESISTANCE:{dimensions:[1,2,-3,-2,0,0,0,0,0]},ELECTRIC_INDUCTANCE:{dimensions:[1,2,-2,-2,0,0,0,0,0]},ELECTRIC_CONDUCTANCE:{dimensions:[-1,-2,3,2,0,0,0,0,0]},MAGNETIC_FLUX:{dimensions:[1,2,-2,-1,0,0,0,0,0]},MAGNETIC_FLUX_DENSITY:{dimensions:[1,0,-2,-1,0,0,0,0,0]},FREQUENCY:{dimensions:[0,0,-1,0,0,0,0,0,0]},ANGLE:{dimensions:[0,0,0,0,0,0,0,1,0]},BIT:{dimensions:[0,0,0,0,0,0,0,0,1]}};for(var F in U)U[F].key=F;var D={},V={name:"",base:D,value:1,offset:0,dimensions:[0,0,0,0,0,0,0,0,0]},H={meter:{name:"meter",base:U.LENGTH,prefixes:L.LONG,value:1,offset:0},inch:{name:"inch",base:U.LENGTH,prefixes:L.NONE,value:.0254,offset:0},foot:{name:"foot",base:U.LENGTH,prefixes:L.NONE,value:.3048,offset:0},yard:{name:"yard",base:U.LENGTH,prefixes:L.NONE,value:.9144,offset:0},mile:{name:"mile",base:U.LENGTH,prefixes:L.NONE,value:1609.344,offset:0},link:{name:"link",base:U.LENGTH,prefixes:L.NONE,value:.201168,offset:0},rod:{name:"rod",base:U.LENGTH,prefixes:L.NONE,value:5.02921,offset:0},chain:{name:"chain",base:U.LENGTH,prefixes:L.NONE,value:20.1168,offset:0},angstrom:{name:"angstrom",base:U.LENGTH,prefixes:L.NONE,value:1e-10,offset:0},m:{name:"m",base:U.LENGTH,prefixes:L.SHORT,value:1,offset:0},in:{name:"in",base:U.LENGTH,prefixes:L.NONE,value:.0254,offset:0},ft:{name:"ft",base:U.LENGTH,prefixes:L.NONE,value:.3048,offset:0},yd:{name:"yd",base:U.LENGTH,prefixes:L.NONE,value:.9144,offset:0},mi:{name:"mi",base:U.LENGTH,prefixes:L.NONE,value:1609.344,offset:0},li:{name:"li",base:U.LENGTH,prefixes:L.NONE,value:.201168,offset:0},rd:{name:"rd",base:U.LENGTH,prefixes:L.NONE,value:5.02921,offset:0},ch:{name:"ch",base:U.LENGTH,prefixes:L.NONE,value:20.1168,offset:0},mil:{name:"mil",base:U.LENGTH,prefixes:L.NONE,value:254e-7,offset:0},m2:{name:"m2",base:U.SURFACE,prefixes:L.SQUARED,value:1,offset:0},sqin:{name:"sqin",base:U.SURFACE,prefixes:L.NONE,value:64516e-8,offset:0},sqft:{name:"sqft",base:U.SURFACE,prefixes:L.NONE,value:.09290304,offset:0},sqyd:{name:"sqyd",base:U.SURFACE,prefixes:L.NONE,value:.83612736,offset:0},sqmi:{name:"sqmi",base:U.SURFACE,prefixes:L.NONE,value:2589988.110336,offset:0},sqrd:{name:"sqrd",base:U.SURFACE,prefixes:L.NONE,value:25.29295,offset:0},sqch:{name:"sqch",base:U.SURFACE,prefixes:L.NONE,value:404.6873,offset:0},sqmil:{name:"sqmil",base:U.SURFACE,prefixes:L.NONE,value:6.4516e-10,offset:0},acre:{name:"acre",base:U.SURFACE,prefixes:L.NONE,value:4046.86,offset:0},hectare:{name:"hectare",base:U.SURFACE,prefixes:L.NONE,value:1e4,offset:0},m3:{name:"m3",base:U.VOLUME,prefixes:L.CUBIC,value:1,offset:0},L:{name:"L",base:U.VOLUME,prefixes:L.SHORT,value:.001,offset:0},l:{name:"l",base:U.VOLUME,prefixes:L.SHORT,value:.001,offset:0},litre:{name:"litre",base:U.VOLUME,prefixes:L.LONG,value:.001,offset:0},cuin:{name:"cuin",base:U.VOLUME,prefixes:L.NONE,value:16387064e-12,offset:0},cuft:{name:"cuft",base:U.VOLUME,prefixes:L.NONE,value:.028316846592,offset:0},cuyd:{name:"cuyd",base:U.VOLUME,prefixes:L.NONE,value:.764554857984,offset:0},teaspoon:{name:"teaspoon",base:U.VOLUME,prefixes:L.NONE,value:5e-6,offset:0},tablespoon:{name:"tablespoon",base:U.VOLUME,prefixes:L.NONE,value:15e-6,offset:0},drop:{name:"drop",base:U.VOLUME,prefixes:L.NONE,value:5e-8,offset:0},gtt:{name:"gtt",base:U.VOLUME,prefixes:L.NONE,value:5e-8,offset:0},minim:{name:"minim",base:U.VOLUME,prefixes:L.NONE,value:6.161152e-8,offset:0},fluiddram:{name:"fluiddram",base:U.VOLUME,prefixes:L.NONE,value:36966911e-13,offset:0},fluidounce:{name:"fluidounce",base:U.VOLUME,prefixes:L.NONE,value:2957353e-11,offset:0},gill:{name:"gill",base:U.VOLUME,prefixes:L.NONE,value:.0001182941,offset:0},cc:{name:"cc",base:U.VOLUME,prefixes:L.NONE,value:1e-6,offset:0},cup:{name:"cup",base:U.VOLUME,prefixes:L.NONE,value:.0002365882,offset:0},pint:{name:"pint",base:U.VOLUME,prefixes:L.NONE,value:.0004731765,offset:0},quart:{name:"quart",base:U.VOLUME,prefixes:L.NONE,value:.0009463529,offset:0},gallon:{name:"gallon",base:U.VOLUME,prefixes:L.NONE,value:.003785412,offset:0},beerbarrel:{name:"beerbarrel",base:U.VOLUME,prefixes:L.NONE,value:.1173478,offset:0},oilbarrel:{name:"oilbarrel",base:U.VOLUME,prefixes:L.NONE,value:.1589873,offset:0},hogshead:{name:"hogshead",base:U.VOLUME,prefixes:L.NONE,value:.238481,offset:0},fldr:{name:"fldr",base:U.VOLUME,prefixes:L.NONE,value:36966911e-13,offset:0},floz:{name:"floz",base:U.VOLUME,prefixes:L.NONE,value:2957353e-11,offset:0},gi:{name:"gi",base:U.VOLUME,prefixes:L.NONE,value:.0001182941,offset:0},cp:{name:"cp",base:U.VOLUME,prefixes:L.NONE,value:.0002365882,offset:0},pt:{name:"pt",base:U.VOLUME,prefixes:L.NONE,value:.0004731765,offset:0},qt:{name:"qt",base:U.VOLUME,prefixes:L.NONE,value:.0009463529,offset:0},gal:{name:"gal",base:U.VOLUME,prefixes:L.NONE,value:.003785412,offset:0},bbl:{name:"bbl",base:U.VOLUME,prefixes:L.NONE,value:.1173478,offset:0},obl:{name:"obl",base:U.VOLUME,prefixes:L.NONE,value:.1589873,offset:0},g:{name:"g",base:U.MASS,prefixes:L.SHORT,value:.001,offset:0},gram:{name:"gram",base:U.MASS,prefixes:L.LONG,value:.001,offset:0},ton:{name:"ton",base:U.MASS,prefixes:L.SHORT,value:907.18474,offset:0},tonne:{name:"tonne",base:U.MASS,prefixes:L.SHORT,value:1e3,offset:0},grain:{name:"grain",base:U.MASS,prefixes:L.NONE,value:6479891e-11,offset:0},dram:{name:"dram",base:U.MASS,prefixes:L.NONE,value:.0017718451953125,offset:0},ounce:{name:"ounce",base:U.MASS,prefixes:L.NONE,value:.028349523125,offset:0},poundmass:{name:"poundmass",base:U.MASS,prefixes:L.NONE,value:.45359237,offset:0},hundredweight:{name:"hundredweight",base:U.MASS,prefixes:L.NONE,value:45.359237,offset:0},stick:{name:"stick",base:U.MASS,prefixes:L.NONE,value:.115,offset:0},stone:{name:"stone",base:U.MASS,prefixes:L.NONE,value:6.35029318,offset:0},gr:{name:"gr",base:U.MASS,prefixes:L.NONE,value:6479891e-11,offset:0},dr:{name:"dr",base:U.MASS,prefixes:L.NONE,value:.0017718451953125,offset:0},oz:{name:"oz",base:U.MASS,prefixes:L.NONE,value:.028349523125,offset:0},lbm:{name:"lbm",base:U.MASS,prefixes:L.NONE,value:.45359237,offset:0},cwt:{name:"cwt",base:U.MASS,prefixes:L.NONE,value:45.359237,offset:0},s:{name:"s",base:U.TIME,prefixes:L.SHORT,value:1,offset:0},min:{name:"min",base:U.TIME,prefixes:L.NONE,value:60,offset:0},h:{name:"h",base:U.TIME,prefixes:L.NONE,value:3600,offset:0},second:{name:"second",base:U.TIME,prefixes:L.LONG,value:1,offset:0},sec:{name:"sec",base:U.TIME,prefixes:L.LONG,value:1,offset:0},minute:{name:"minute",base:U.TIME,prefixes:L.NONE,value:60,offset:0},hour:{name:"hour",base:U.TIME,prefixes:L.NONE,value:3600,offset:0},day:{name:"day",base:U.TIME,prefixes:L.NONE,value:86400,offset:0},week:{name:"week",base:U.TIME,prefixes:L.NONE,value:604800,offset:0},month:{name:"month",base:U.TIME,prefixes:L.NONE,value:2629800,offset:0},year:{name:"year",base:U.TIME,prefixes:L.NONE,value:31557600,offset:0},decade:{name:"year",base:U.TIME,prefixes:L.NONE,value:315576e3,offset:0},century:{name:"century",base:U.TIME,prefixes:L.NONE,value:315576e4,offset:0},millennium:{name:"millennium",base:U.TIME,prefixes:L.NONE,value:315576e5,offset:0},hertz:{name:"Hertz",base:U.FREQUENCY,prefixes:L.LONG,value:1,offset:0,reciprocal:!0},Hz:{name:"Hz",base:U.FREQUENCY,prefixes:L.SHORT,value:1,offset:0,reciprocal:!0},rad:{name:"rad",base:U.ANGLE,prefixes:L.LONG,value:1,offset:0},deg:{name:"deg",base:U.ANGLE,prefixes:L.LONG,value:null,offset:0},grad:{name:"grad",base:U.ANGLE,prefixes:L.LONG,value:null,offset:0},cycle:{name:"cycle",base:U.ANGLE,prefixes:L.NONE,value:null,offset:0},arcsec:{name:"arcsec",base:U.ANGLE,prefixes:L.NONE,value:null,offset:0},arcmin:{name:"arcmin",base:U.ANGLE,prefixes:L.NONE,value:null,offset:0},A:{name:"A",base:U.CURRENT,prefixes:L.SHORT,value:1,offset:0},ampere:{name:"ampere",base:U.CURRENT,prefixes:L.LONG,value:1,offset:0},K:{name:"K",base:U.TEMPERATURE,prefixes:L.NONE,value:1,offset:0},degC:{name:"degC",base:U.TEMPERATURE,prefixes:L.NONE,value:1,offset:273.15},degF:{name:"degF",base:U.TEMPERATURE,prefixes:L.NONE,value:1/1.8,offset:459.67},degR:{name:"degR",base:U.TEMPERATURE,prefixes:L.NONE,value:1/1.8,offset:0},kelvin:{name:"kelvin",base:U.TEMPERATURE,prefixes:L.NONE,value:1,offset:0},celsius:{name:"celsius",base:U.TEMPERATURE,prefixes:L.NONE,value:1,offset:273.15},fahrenheit:{name:"fahrenheit",base:U.TEMPERATURE,prefixes:L.NONE,value:1/1.8,offset:459.67},rankine:{name:"rankine",base:U.TEMPERATURE,prefixes:L.NONE,value:1/1.8,offset:0},mol:{name:"mol",base:U.AMOUNT_OF_SUBSTANCE,prefixes:L.SHORT,value:1,offset:0},mole:{name:"mole",base:U.AMOUNT_OF_SUBSTANCE,prefixes:L.LONG,value:1,offset:0},cd:{name:"cd",base:U.LUMINOUS_INTENSITY,prefixes:L.NONE,value:1,offset:0},candela:{name:"candela",base:U.LUMINOUS_INTENSITY,prefixes:L.NONE,value:1,offset:0},N:{name:"N",base:U.FORCE,prefixes:L.SHORT,value:1,offset:0},newton:{name:"newton",base:U.FORCE,prefixes:L.LONG,value:1,offset:0},dyn:{name:"dyn",base:U.FORCE,prefixes:L.SHORT,value:1e-5,offset:0},dyne:{name:"dyne",base:U.FORCE,prefixes:L.LONG,value:1e-5,offset:0},lbf:{name:"lbf",base:U.FORCE,prefixes:L.NONE,value:4.4482216152605,offset:0},poundforce:{name:"poundforce",base:U.FORCE,prefixes:L.NONE,value:4.4482216152605,offset:0},kip:{name:"kip",base:U.FORCE,prefixes:L.LONG,value:4448.2216,offset:0},J:{name:"J",base:U.ENERGY,prefixes:L.SHORT,value:1,offset:0},joule:{name:"joule",base:U.ENERGY,prefixes:L.SHORT,value:1,offset:0},erg:{name:"erg",base:U.ENERGY,prefixes:L.NONE,value:1e-5,offset:0},Wh:{name:"Wh",base:U.ENERGY,prefixes:L.SHORT,value:3600,offset:0},BTU:{name:"BTU",base:U.ENERGY,prefixes:L.BTU,value:1055.05585262,offset:0},eV:{name:"eV",base:U.ENERGY,prefixes:L.SHORT,value:1.602176565e-19,offset:0},electronvolt:{name:"electronvolt",base:U.ENERGY,prefixes:L.LONG,value:1.602176565e-19,offset:0},W:{name:"W",base:U.POWER,prefixes:L.SHORT,value:1,offset:0},watt:{name:"W",base:U.POWER,prefixes:L.LONG,value:1,offset:0},hp:{name:"hp",base:U.POWER,prefixes:L.NONE,value:745.6998715386,offset:0},VAR:{name:"VAR",base:U.POWER,prefixes:L.SHORT,value:k.I,offset:0},VA:{name:"VA",base:U.POWER,prefixes:L.SHORT,value:1,offset:0},Pa:{name:"Pa",base:U.PRESSURE,prefixes:L.SHORT,value:1,offset:0},psi:{name:"psi",base:U.PRESSURE,prefixes:L.NONE,value:6894.75729276459,offset:0},atm:{name:"atm",base:U.PRESSURE,prefixes:L.NONE,value:101325,offset:0},bar:{name:"bar",base:U.PRESSURE,prefixes:L.NONE,value:1e5,offset:0},torr:{name:"torr",base:U.PRESSURE,prefixes:L.NONE,value:133.322,offset:0},mmHg:{name:"mmHg",base:U.PRESSURE,prefixes:L.NONE,value:133.322,offset:0},mmH2O:{name:"mmH2O",base:U.PRESSURE,prefixes:L.NONE,value:9.80665,offset:0},cmH2O:{name:"cmH2O",base:U.PRESSURE,prefixes:L.NONE,value:98.0665,offset:0},coulomb:{name:"coulomb",base:U.ELECTRIC_CHARGE,prefixes:L.LONG,value:1,offset:0},C:{name:"C",base:U.ELECTRIC_CHARGE,prefixes:L.SHORT,value:1,offset:0},farad:{name:"farad",base:U.ELECTRIC_CAPACITANCE,prefixes:L.LONG,value:1,offset:0},F:{name:"F",base:U.ELECTRIC_CAPACITANCE,prefixes:L.SHORT,value:1,offset:0},volt:{name:"volt",base:U.ELECTRIC_POTENTIAL,prefixes:L.LONG,value:1,offset:0},V:{name:"V",base:U.ELECTRIC_POTENTIAL,prefixes:L.SHORT,value:1,offset:0},ohm:{name:"ohm",base:U.ELECTRIC_RESISTANCE,prefixes:L.SHORTLONG,value:1,offset:0},henry:{name:"henry",base:U.ELECTRIC_INDUCTANCE,prefixes:L.LONG,value:1,offset:0},H:{name:"H",base:U.ELECTRIC_INDUCTANCE,prefixes:L.SHORT,value:1,offset:0},siemens:{name:"siemens",base:U.ELECTRIC_CONDUCTANCE,prefixes:L.LONG,value:1,offset:0},S:{name:"S",base:U.ELECTRIC_CONDUCTANCE,prefixes:L.SHORT,value:1,offset:0},weber:{name:"weber",base:U.MAGNETIC_FLUX,prefixes:L.LONG,value:1,offset:0},Wb:{name:"Wb",base:U.MAGNETIC_FLUX,prefixes:L.SHORT,value:1,offset:0},tesla:{name:"tesla",base:U.MAGNETIC_FLUX_DENSITY,prefixes:L.LONG,value:1,offset:0},T:{name:"T",base:U.MAGNETIC_FLUX_DENSITY,prefixes:L.SHORT,value:1,offset:0},b:{name:"b",base:U.BIT,prefixes:L.BINARY_SHORT,value:1,offset:0},bits:{name:"bits",base:U.BIT,prefixes:L.BINARY_LONG,value:1,offset:0},B:{name:"B",base:U.BIT,prefixes:L.BINARY_SHORT,value:8,offset:0},bytes:{name:"bytes",base:U.BIT,prefixes:L.BINARY_LONG,value:8,offset:0}},$={meters:"meter",inches:"inch",feet:"foot",yards:"yard",miles:"mile",links:"link",rods:"rod",chains:"chain",angstroms:"angstrom",lt:"l",litres:"litre",liter:"litre",liters:"litre",teaspoons:"teaspoon",tablespoons:"tablespoon",minims:"minim",fluiddrams:"fluiddram",fluidounces:"fluidounce",gills:"gill",cups:"cup",pints:"pint",quarts:"quart",gallons:"gallon",beerbarrels:"beerbarrel",oilbarrels:"oilbarrel",hogsheads:"hogshead",gtts:"gtt",grams:"gram",tons:"ton",tonnes:"tonne",grains:"grain",drams:"dram",ounces:"ounce",poundmasses:"poundmass",hundredweights:"hundredweight",sticks:"stick",lb:"lbm",lbs:"lbm",kips:"kip",acres:"acre",hectares:"hectare",sqfeet:"sqft",sqyard:"sqyd",sqmile:"sqmi",sqmiles:"sqmi",mmhg:"mmHg",mmh2o:"mmH2O",cmh2o:"cmH2O",seconds:"second",secs:"second",minutes:"minute",mins:"minute",hours:"hour",hr:"hour",hrs:"hour",days:"day",weeks:"week",months:"month",years:"year",hertz:"hertz",radians:"rad",degree:"deg",degrees:"deg",gradian:"grad",gradians:"grad",cycles:"cycle",arcsecond:"arcsec",arcseconds:"arcsec",arcminute:"arcmin",arcminutes:"arcmin",BTUs:"BTU",watts:"watt",joules:"joule",amperes:"ampere",coulombs:"coulomb",volts:"volt",ohms:"ohm",farads:"farad",webers:"weber",teslas:"tesla",electronvolts:"electronvolt",moles:"mole"};x(e),u.on("config",function(t,e){t.number!==e.number&&x(t)});var G={si:{NONE:{unit:V,prefix:L.NONE[""]},LENGTH:{unit:H.m,prefix:L.SHORT[""]},MASS:{unit:H.g,prefix:L.SHORT.k},TIME:{unit:H.s,prefix:L.SHORT[""]},CURRENT:{unit:H.A,prefix:L.SHORT[""]},TEMPERATURE:{unit:H.K,prefix:L.SHORT[""]},LUMINOUS_INTENSITY:{unit:H.cd,prefix:L.SHORT[""]},AMOUNT_OF_SUBSTANCE:{unit:H.mol,prefix:L.SHORT[""]},ANGLE:{unit:H.rad,prefix:L.SHORT[""]},BIT:{unit:H.bit,prefix:L.SHORT[""]},FORCE:{unit:H.N,prefix:L.SHORT[""]},ENERGY:{unit:H.J,prefix:L.SHORT[""]},POWER:{unit:H.W,prefix:L.SHORT[""]},PRESSURE:{unit:H.Pa,prefix:L.SHORT[""]},ELECTRIC_CHARGE:{unit:H.C,prefix:L.SHORT[""]},ELECTRIC_CAPACITANCE:{unit:H.F,prefix:L.SHORT[""]},ELECTRIC_POTENTIAL:{unit:H.V,prefix:L.SHORT[""]},ELECTRIC_RESISTANCE:{unit:H.ohm,prefix:L.SHORT[""]},ELECTRIC_INDUCTANCE:{unit:H.H,prefix:L.SHORT[""]},ELECTRIC_CONDUCTANCE:{unit:H.S,prefix:L.SHORT[""]},MAGNETIC_FLUX:{unit:H.Wb,prefix:L.SHORT[""]},MAGNETIC_FLUX_DENSITY:{unit:H.T,prefix:L.SHORT[""]},FREQUENCY:{unit:H.Hz,prefix:L.SHORT[""]}}};G.cgs=JSON.parse(JSON.stringify(G.si)),G.cgs.LENGTH={unit:H.m,prefix:L.SHORT.c},G.cgs.MASS={unit:H.g,prefix:L.SHORT[""]},G.cgs.FORCE={unit:H.dyn,prefix:L.SHORT[""]},G.cgs.ENERGY={unit:H.erg,prefix:L.NONE[""]},G.us=JSON.parse(JSON.stringify(G.si)),G.us.LENGTH={unit:H.ft,prefix:L.NONE[""]},G.us.MASS={unit:H.lbm,prefix:L.NONE[""]},G.us.TEMPERATURE={unit:H.degF,prefix:L.NONE[""]},G.us.FORCE={unit:H.lbf,prefix:L.NONE[""]},G.us.ENERGY={unit:H.BTU,prefix:L.BTU[""]},G.us.POWER={unit:H.hp,prefix:L.NONE[""]},G.us.PRESSURE={unit:H.psi,prefix:L.NONE[""]},G.auto=JSON.parse(JSON.stringify(G.si));var Z=G.auto;c.setUnitSystem=function(t){if(!G.hasOwnProperty(t))throw new Error("Unit system "+t+" does not exist. Choices are: "+Object.keys(G).join(", "));Z=G[t]},c.getUnitSystem=function(){for(var t in G)if(G[t]===Z)return t},c.typeConverters={BigNumber:function(e){return new t.BigNumber(e+"")},Fraction:function(e){return new t.Fraction(e)},Complex:function(t){return t},number:function(t){return t}},c._getNumberConverter=function(t){if(!c.typeConverters[t])throw new TypeError('Unsupported type "'+t+'"');return c.typeConverters[t]};for(var F in H){var W=H[F];W.dimensions=W.base.dimensions}for(var Y in $)if($.hasOwnProperty(Y)){var W=H[$[Y]],J={};for(var F in W)W.hasOwnProperty(F)&&(J[F]=W[F]);J.name=Y,H[Y]=J}return c.createUnit=function(t,e){if("object"!=typeof t)throw new TypeError("createUnit expects first parameter to be of type 'Object'");if(e&&e.override)for(var n in t)if(t.hasOwnProperty(n)&&c.deleteUnit(n),t[n].aliases)for(var r=0;r<t[n].aliases.length;r++)c.deleteUnit(t[n].aliases[r]);var i;for(var n in t)t.hasOwnProperty(n)&&(i=c.createUnitSingle(n,t[n]));return i},c.createUnitSingle=function(t,e,n){if(void 0!==e&&null!==e||(e={}),"string"!=typeof t)throw new TypeError("createUnitSingle expects first parameter to be of type 'string'");if(H.hasOwnProperty(t))throw new Error('Cannot create unit "'+t+'": a unit with that name already exists');w(t);var r,i,o=null,a=[],s=0;if(e&&"Unit"===e.type)o=e.clone();else if("string"==typeof e)""!==e&&(r=e);else{if("object"!=typeof e)throw new TypeError('Cannot create unit "'+t+'" from "'+e.toString()+'": expecting "string" or "Unit" or "Object"');r=e.definition,i=e.prefixes,s=e.offset,e.aliases&&(a=e.aliases.valueOf())}if(a)for(var u=0;u<a.length;u++)if(H.hasOwnProperty(a[u]))throw new Error('Cannot create alias "'+a[u]+'": a unit with that name already exists');if(r&&"string"==typeof r&&!o)try{o=c.parse(r,{allowNoUnits:!0})}catch(e){throw e.message='Could not create unit "'+t+'" from "'+r+'": '+e.message,e}else r&&"Unit"===r.type&&(o=r.clone());a=a||[],s=s||0,i=i&&i.toUpperCase?L[i.toUpperCase()]||L.NONE:L.NONE;var f={};if(o){f={name:t,value:o.value,dimensions:o.dimensions.slice(0),prefixes:i,offset:s};var l=!1;for(var u in U)if(U.hasOwnProperty(u)){for(var h=!0,p=0;p<q.length;p++)if(Math.abs((f.dimensions[p]||0)-(U[u].dimensions[p]||0))>1e-12){h=!1;break}if(h){l=!0;break}}if(!l){var d=t+"_STUFF",m={dimensions:o.dimensions.slice(0)};m.key=d,U[d]=m,Z[d]={unit:f,prefix:L.NONE[""]},f.base=d}}else{var d=t+"_STUFF";if(q.indexOf(d)>=0)throw new Error('Cannot create new base unit "'+t+'": a base unit with that name already exists (and cannot be overridden)');q.push(d);for(var g in U)U.hasOwnProperty(g)&&(U[g].dimensions[q.length-1]=0);for(var m={dimensions:[]},u=0;u<q.length;u++)m.dimensions[u]=0;m.dimensions[q.length-1]=1,m.key=d,U[d]=m,f={name:t,value:1,dimensions:U[d].dimensions.slice(0),prefixes:i,offset:s,base:d},Z[d]={unit:f,prefix:L.NONE[""]}}c.UNITS[t]=f;for(var u=0;u<a.length;u++){var v=a[u],y={};for(var x in f)f.hasOwnProperty(x)&&(y[x]=f[x]);y.name=v,c.UNITS[v]=y}return new c(null,t)},c.deleteUnit=function(t){delete c.UNITS[t]},c.PREFIXES=L,c.BASE_DIMENSIONS=q,c.BASE_UNITS=U,c.UNIT_SYSTEMS=G,c.UNITS=H,c}var i=n(12).endsWith,o=n(5).clone,a=n(214);e.name="Unit",e.path="type",e.factory=r,e.math=!0},function(t,e,n){function r(t){return t[0].precision}var i=n(52).memoize;e.e=i(function(t){return new t(1).exp()},r),e.phi=i(function(t){return new t(1).plus(new t(5).sqrt()).div(2)},r),e.pi=i(function(t){return t.acos(-1)},r),e.tau=i(function(t){return e.pi(t).times(2)},r)},function(t,e,n){var r=n(701);e.mixin=function(t){var e=new r;return t.on=e.on.bind(e),t.off=e.off.bind(e),t.once=e.once.bind(e),t.emit=e.emit.bind(e),t}},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";n(225),n(224)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var i=n(76),o=r(i),a=n(62),s=n(222),u=r(s),c=n(220),f=r(c),l=n(221),h=r(l);o.default.setup(document.querySelector("#app"));var p=(0,u.default)(),d=(0,a.populator)(p),m=(0,f.default)(),g=(0,h.default)();d(m,20),d(g,5),p.alive()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(112),i=function(t){return t&&t.__esModule?t:{default:t}}(r);e.default=function(){var t=-1,e={applyForce:a.applyForce,updateForce:a.updateForce,seek:a.seek,behavior:[s.observe,s.separate,s.seekMouse],set position(t){this.body.position=t},get position(){return this.body.position}};return function(n){var r={id:t+=1,type:"plankter"};(0,a.body)(r,{fillColor:"#ffc107",radius:8}),(0,a.physics)(r,{maxForce:.5,maxSpeed:3});var s=(0,i.default)(e,r);return s.position=(0,o.getPosition)(n),s}};var o=n(62),a=n(133),s=n(132)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(112),i=function(t){return t&&t.__esModule?t:{default:t}}(r);e.default=function(){var t=-1,e={applyForce:a.applyForce,updateForce:a.updateForce,seek:a.seek,behavior:[s.observe,s.separate,s.seekMouse],set position(t){this.body.position=t},get position(){return this.body.position}};return function(n){var r={id:t+=1,type:"predator"};(0,a.body)(r,{fillColor:"#e0244d",radius:24}),(0,a.physics)(r,{maxForce:.5,maxSpeed:7});var s=(0,i.default)(e,r);return s.position=(0,o.getPosition)(n),s}};var o=n(62),a=n(133),s=n(132)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){return function(e){return(0,c.default)(t,function(t){return e(t)})}}function o(t){return function(e,n){var r=e.position,i=[];return(0,c.default)(t,function(t){if(e!==t){var o=r.getDistance(t.position);o<n&&i.push([o,t])}}),i.sort(function(t,e){return t[0]-e[0]}).map(function(t){return t[1]})}}function a(){var t=this;p.default.view.on("frame",function(e){s(e)&&t.each(function(n){if(n.behavior){var r={};(0,c.default)(n.behavior,function(i){i(n,t,r,e)}),r=null}n.updateForce&&n.updateForce()})})}function s(t){return d<=1||t.count%d==0}Object.defineProperty(e,"__esModule",{value:!0});var u=n(113),c=r(u),f=n(112),l=r(f);e.default=function(){var t=[],e={content:t},n={alive:a,each:i(t),radius:o(t),get width(){return p.default.view.size.width},get height(){return p.default.view.size.height}};return(0,l.default)(n,e)};var h=n(76),p=r(h),d=1},function(t,e,n){var r,i;/**
 * @license Complex.js v2.0.1 11/02/2016
 *
 * Copyright (c) 2016, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/
!function(n){"use strict";function o(t,e){var n=Math.abs(t),r=Math.abs(e);return 0===t?Math.log(r):0===e?Math.log(n):n<3e3&&r<3e3?.5*Math.log(t*t+e*e):Math.log(t/Math.cos(Math.atan2(e,t)))}function a(t,e){if(!(this instanceof a))return new a(t,e);c(t,e),this.re=s.re,this.im=s.im}var s={re:0,im:0};Math.cosh=Math.cosh||function(t){return.5*(Math.exp(t)+Math.exp(-t))},Math.sinh=Math.sinh||function(t){return.5*(Math.exp(t)-Math.exp(-t))};var u=function(){throw SyntaxError("Invalid Param")},c=function(t,e){if(void 0===t||null===t)s.re=s.im=0;else if(void 0!==e)s.re=t,s.im=e;else switch(typeof t){case"object":"im"in t&&"re"in t?(s.re=t.re,s.im=t.im):"abs"in t&&"arg"in t?(s.re=t.abs*Math.cos(t.arg),s.im=t.abs*Math.sin(t.arg)):"r"in t&&"phi"in t?(s.re=t.r*Math.cos(t.phi),s.im=t.r*Math.sin(t.phi)):u();break;case"string":s.im=s.re=0;var n=t.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),r=1,i=0;null===n&&u();for(var o=0;o<n.length;o++){var a=n[o];" "===a||"\t"===a||"\n"===a||("+"===a?r++:"-"===a?i++:"i"===a||"I"===a?(r+i===0&&u()," "===n[o+1]||isNaN(n[o+1])?s.im+=parseFloat((i%2?"-":"")+"1"):(s.im+=parseFloat((i%2?"-":"")+n[o+1]),o++),r=i=0):((r+i===0||isNaN(a))&&u(),"i"===n[o+1]||"I"===n[o+1]?(s.im+=parseFloat((i%2?"-":"")+a),o++):s.re+=parseFloat((i%2?"-":"")+a),r=i=0))}r+i>0&&u();break;case"number":s.im=0,s.re=t;break;default:u()}isNaN(s.re)||isNaN(s.im)};a.prototype={re:0,im:0,sign:function(){var t=this.abs();return new a(this.re/t,this.im/t)},add:function(t,e){return c(t,e),new a(this.re+s.re,this.im+s.im)},sub:function(t,e){return c(t,e),new a(this.re-s.re,this.im-s.im)},mul:function(t,e){return c(t,e),0===s.im&&0===this.im?new a(this.re*s.re,0):new a(this.re*s.re-this.im*s.im,this.re*s.im+this.im*s.re)},div:function(t,e){c(t,e),t=this.re,e=this.im;var n,r,i=s.re,o=s.im;return 0===i&&0===o?new a(0!==t?t/0:0,0!==e?e/0:0):0===o?new a(t/i,e/i):Math.abs(i)<Math.abs(o)?(r=i/o,n=i*r+o,new a((t*r+e)/n,(e*r-t)/n)):(r=o/i,n=o*r+i,new a((t+e*r)/n,(e-t*r)/n))},pow:function(t,e){if(c(t,e),t=this.re,e=this.im,0===t&&0===e)return new a(0,0);var n=Math.atan2(e,t),r=o(t,e);if(0===s.im){if(0===e&&t>=0)return new a(Math.pow(t,s.re),0);if(0===t)switch(s.re%4){case 0:return new a(Math.pow(e,s.re),0);case 1:return new a(0,Math.pow(e,s.re));case 2:return new a(-Math.pow(e,s.re),0);case 3:return new a(0,-Math.pow(e,s.re))}}return t=Math.exp(s.re*r-s.im*n),e=s.im*r+s.re*n,new a(t*Math.cos(e),t*Math.sin(e))},sqrt:function(){var t,e,n=this.re,r=this.im,i=this.abs();return n>=0&&0===r?new a(Math.sqrt(n),0):(t=n>=0?.5*Math.sqrt(2*(i+n)):Math.abs(r)/Math.sqrt(2*(i-n)),e=n<=0?.5*Math.sqrt(2*(i-n)):Math.abs(r)/Math.sqrt(2*(i+n)),new a(t,r>=0?e:-e))},exp:function(){var t=Math.exp(this.re);return this.im,new a(t*Math.cos(this.im),t*Math.sin(this.im))},log:function(){var t=this.re,e=this.im;return new a(o(t,e),Math.atan2(e,t))},abs:function(){var t=Math.abs(this.re),e=Math.abs(this.im);return t<3e3&&e<3e3?Math.sqrt(t*t+e*e):(t<e?(t=e,e=this.re/this.im):e=this.im/this.re,t*Math.sqrt(1+e*e))},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var t=this.re,e=this.im;return new a(Math.sin(t)*Math.cosh(e),Math.cos(t)*Math.sinh(e))},cos:function(){var t=this.re,e=this.im;return new a(Math.cos(t)*Math.cosh(e),-Math.sin(t)*Math.sinh(e))},tan:function(){var t=2*this.re,e=2*this.im,n=Math.cos(t)+Math.cosh(e);return new a(Math.sin(t)/n,Math.sinh(e)/n)},cot:function(){var t=2*this.re,e=2*this.im,n=Math.cos(t)-Math.cosh(e);return new a(-Math.sin(t)/n,Math.sinh(e)/n)},sec:function(){var t=this.re,e=this.im,n=.5*Math.cosh(2*e)+.5*Math.cos(2*t);return new a(Math.cos(t)*Math.cosh(e)/n,Math.sin(t)*Math.sinh(e)/n)},csc:function(){var t=this.re,e=this.im,n=.5*Math.cosh(2*e)-.5*Math.cos(2*t);return new a(Math.sin(t)*Math.cosh(e)/n,-Math.cos(t)*Math.sinh(e)/n)},asin:function(){var t=this.re,e=this.im,n=new a(e*e-t*t+1,-2*t*e).sqrt(),r=new a(n.re-e,n.im+t).log();return new a(r.im,-r.re)},acos:function(){var t=this.re,e=this.im,n=new a(e*e-t*t+1,-2*t*e).sqrt(),r=new a(n.re-e,n.im+t).log();return new a(Math.PI/2-r.im,r.re)},atan:function(){var t=this.re,e=this.im;if(0===t){if(1===e)return new a(0,1/0);if(-1===e)return new a(0,-1/0)}var n=t*t+(1-e)*(1-e),r=new a((1-e*e-t*t)/n,-2*t/n).log();return new a(-.5*r.im,.5*r.re)},acot:function(){var t=this.re,e=this.im;if(0===e)return new a(Math.atan2(1,t),0);var n=t*t+e*e;return 0!==n?new a(t/n,-e/n).atan():new a(0!==t?t/0:0,0!==e?-e/0:0).atan()},asec:function(){var t=this.re,e=this.im;if(0===t&&0===e)return new a(0,1/0);var n=t*t+e*e;return 0!==n?new a(t/n,-e/n).acos():new a(0!==t?t/0:0,0!==e?-e/0:0).acos()},acsc:function(){var t=this.re,e=this.im;if(0===t&&0===e)return new a(Math.PI/2,1/0);var n=t*t+e*e;return 0!==n?new a(t/n,-e/n).asin():new a(0!==t?t/0:0,0!==e?-e/0:0).asin()},sinh:function(){var t=this.re,e=this.im;return new a(Math.sinh(t)*Math.cos(e),Math.cosh(t)*Math.sin(e))},cosh:function(){var t=this.re,e=this.im;return new a(Math.cosh(t)*Math.cos(e),Math.sinh(t)*Math.sin(e))},tanh:function(){var t=2*this.re,e=2*this.im,n=Math.cosh(t)+Math.cos(e);return new a(Math.sinh(t)/n,Math.sin(e)/n)},coth:function(){var t=2*this.re,e=2*this.im,n=Math.cosh(t)-Math.cos(e);return new a(Math.sinh(t)/n,-Math.sin(e)/n)},csch:function(){var t=this.re,e=this.im,n=Math.cos(2*e)-Math.cosh(2*t);return new a(-2*Math.sinh(t)*Math.cos(e)/n,2*Math.cosh(t)*Math.sin(e)/n)},sech:function(){var t=this.re,e=this.im,n=Math.cos(2*e)+Math.cosh(2*t);return new a(2*Math.cosh(t)*Math.cos(e)/n,-2*Math.sinh(t)*Math.sin(e)/n)},asinh:function(){var t=this.im;this.im=-this.re,this.re=t;var e=this.asin();return this.re=-this.im,this.im=t,t=e.re,e.re=-e.im,e.im=t,e},acosh:function(){var t,e=this.acos();return e.im<=0?(t=e.re,e.re=-e.im,e.im=t):(t=e.im,e.im=-e.re,e.re=t),e},atanh:function(){var t=this.re,e=this.im,n=t>1&&0===e,r=1-t,i=1+t,s=r*r+e*e,u=0!==s?new a((i*r-e*e)/s,(e*r+i*e)/s):new a(-1!==t?t/0:0,0!==e?e/0:0),c=u.re;return u.re=o(u.re,u.im)/2,u.im=Math.atan2(u.im,c)/2,n&&(u.im=-u.im),u},acoth:function(){var t=this.re,e=this.im;if(0===t&&0===e)return new a(0,Math.PI/2);var n=t*t+e*e;return 0!==n?new a(t/n,-e/n).atanh():new a(0!==t?t/0:0,0!==e?-e/0:0).atanh()},acsch:function(){var t=this.re,e=this.im;if(0===e)return new a(0!==t?Math.log(t+Math.sqrt(t*t+1)):1/0,0);var n=t*t+e*e;return 0!==n?new a(t/n,-e/n).asinh():new a(0!==t?t/0:0,0!==e?-e/0:0).asinh()},asech:function(){var t=this.re,e=this.im;if(0===t&&0===e)return new a(1/0,0);var n=t*t+e*e;return 0!==n?new a(t/n,-e/n).acosh():new a(0!==t?t/0:0,0!==e?-e/0:0).acosh()},inverse:function(){var t=this.re,e=this.im,n=t*t+e*e;return new a(0!==t?t/n:0,0!==e?-e/n:0)},conjugate:function(){return new a(this.re,-this.im)},neg:function(){return new a(-this.re,-this.im)},ceil:function(t){return t=Math.pow(10,t||0),new a(Math.ceil(this.re*t)/t,Math.ceil(this.im*t)/t)},floor:function(t){return t=Math.pow(10,t||0),new a(Math.floor(this.re*t)/t,Math.floor(this.im*t)/t)},round:function(t){return t=Math.pow(10,t||0),new a(Math.round(this.re*t)/t,Math.round(this.im*t)/t)},equals:function(t,e){return c(t,e),Math.abs(s.re-this.re)<=a.EPSILON&&Math.abs(s.im-this.im)<=a.EPSILON},clone:function(){return new a(this.re,this.im)},toString:function(){var t=this.re,e=this.im,n="";return isNaN(t)||isNaN(e)?"NaN":(0!==t&&(n+=t),0!==e&&(0!==t?n+=e<0?" - ":" + ":e<0&&(n+="-"),e=Math.abs(e),1!==e&&(n+=e),n+="i"),n||"0")},toVector:function(){return[this.re,this.im]},valueOf:function(){return 0===this.im?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)}},a.ZERO=new a(0,0),a.ONE=new a(1,0),a.I=new a(0,1),a.PI=new a(Math.PI,0),a.E=new a(Math.E,0),a.EPSILON=1e-16,r=[],void 0!==(i=function(){return a}.apply(e,r))&&(t.exports=i)}()},function(t,e,n){n(282),n(253),n(251),n(258),n(255),n(261),n(263),n(250),n(257),n(247),n(262),n(245),n(260),n(259),n(252),n(256),n(244),n(246),n(249),n(248),n(264),n(254),t.exports=n(44).Array},function(t,e,n){n(283),n(266),n(268),n(267),n(270),n(272),n(277),n(271),n(269),n(279),n(278),n(274),n(275),n(273),n(265),n(276),n(280),n(281),t.exports=n(44).Object},function(t,e,n){"use strict";var r=n(31),i=n(83),o=n(39);t.exports=[].copyWithin||function(t,e){var n=r(this),a=o(n.length),s=i(t,a),u=i(e,a),c=arguments.length>2?arguments[2]:void 0,f=Math.min((void 0===c?a:i(c,a))-u,a-s),l=1;for(u<s&&s<u+f&&(l=-1,u+=f-1,s+=f-1);f-- >0;)u in n?n[s]=n[u]:delete n[s],s+=l,u+=l;return n}},function(t,e,n){"use strict";var r=n(31),i=n(83),o=n(39);t.exports=function(t){for(var e=r(this),n=o(e.length),a=arguments.length,s=i(a>1?arguments[1]:void 0,n),u=a>2?arguments[2]:void 0,c=void 0===u?n:i(u,n);c>s;)e[s++]=t;return e}},function(t,e,n){var r=n(24),i=n(102),o=n(21)("species");t.exports=function(t){var e;return i(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!i(e.prototype)||(e=void 0),r(e)&&null===(e=e[o])&&(e=void 0)),void 0===e?Array:e}},function(t,e,n){var r=n(228);t.exports=function(t,e){return new(r(t))(e)}},function(t,e,n){var r=n(55),i=n(106),o=n(81);t.exports=function(t){var e=r(t),n=i.f;if(n)for(var a,s=n(t),u=o.f,c=0;s.length>c;)u.call(t,a=s[c++])&&e.push(a);return e}},function(t,e,n){var r=n(79),i=n(21)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||o[i]===t)}},function(t,e,n){var r=n(53);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&r(o.call(t)),e}}},function(t,e,n){"use strict";var r=n(104),i=n(65),o=n(107),a={};n(54)(a,n(21)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(a,{next:i(1,n)}),o(t,e+" Iterator")}},function(t,e,n){var r=n(21)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},t(o)}catch(t){}return n}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){var r=n(55),i=n(30);t.exports=function(t,e){for(var n,o=i(t),a=r(o),s=a.length,u=0;s>u;)if(o[n=a[u++]]===e)return n}},function(t,e,n){"use strict";var r=n(55),i=n(106),o=n(81),a=n(31),s=n(64),u=Object.assign;t.exports=!u||n(28)(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=u({},t)[n]||Object.keys(u({},e)).join("")!=r})?function(t,e){for(var n=a(t),u=arguments.length,c=1,f=i.f,l=o.f;u>c;)for(var h,p=s(arguments[c++]),d=f?r(p).concat(f(p)):r(p),m=d.length,g=0;m>g;)l.call(p,h=d[g++])&&(n[h]=p[h]);return n}:u},function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},function(t,e,n){var r=n(24),i=n(53),o=function(t,e){if(i(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{r=n(78)(Function.call,n(105).f(Object.prototype,"__proto__").set,2),r(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:o}},function(t,e,n){"use strict";var r=n(35),i=n(36),o=n(34),a=n(21)("species");t.exports=function(t){var e=r[t];o&&e&&!e[a]&&i.f(e,a,{configurable:!0,get:function(){return this}})}},function(t,e,n){var r=n(84),i=n(100);t.exports=function(t){return function(e,n){var o,a,s=String(i(e)),u=r(n),c=s.length;return u<0||u>=c?t?"":void 0:(o=s.charCodeAt(u),o<55296||o>56319||u+1===c||(a=s.charCodeAt(u+1))<56320||a>57343?t?s.charAt(u):o:t?s.slice(u,u+2):a-56320+(o-55296<<10)+65536)}}},function(t,e,n){var r=n(35),i=n(44),o=n(103),a=n(147),s=n(36).f;t.exports=function(t){var e=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},function(t,e,n){var r=n(136),i=n(21)("iterator"),o=n(79);t.exports=n(44).getIteratorMethod=function(t){if(void 0!=t)return t[i]||t["@@iterator"]||o[r(t)]}},function(t,e,n){var r=n(8);r(r.P,"Array",{copyWithin:n(226)}),n(63)("copyWithin")},function(t,e,n){"use strict";var r=n(8),i=n(43)(4);r(r.P+r.F*!n(26)([].every,!0),"Array",{every:function(t){return i(this,t,arguments[1])}})},function(t,e,n){var r=n(8);r(r.P,"Array",{fill:n(227)}),n(63)("fill")},function(t,e,n){"use strict";var r=n(8),i=n(43)(2);r(r.P+r.F*!n(26)([].filter,!0),"Array",{filter:function(t){return i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(8),i=n(43)(6),o="findIndex",a=!0;o in[]&&Array(1)[o](function(){a=!1}),r(r.P+r.F*a,"Array",{findIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n(63)(o)},function(t,e,n){"use strict";var r=n(8),i=n(43)(5),o=!0;"find"in[]&&Array(1).find(function(){o=!1}),r(r.P+r.F*o,"Array",{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n(63)("find")},function(t,e,n){"use strict";var r=n(8),i=n(43)(0),o=n(26)([].forEach,!0);r(r.P+r.F*!o,"Array",{forEach:function(t){return i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(78),i=n(8),o=n(31),a=n(232),s=n(231),u=n(39),c=n(137),f=n(243);i(i.S+i.F*!n(234)(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,i,l,h=o(t),p="function"==typeof this?this:Array,d=arguments.length,m=d>1?arguments[1]:void 0,g=void 0!==m,v=0,y=f(h);if(g&&(m=r(m,d>2?arguments[2]:void 0,2)),void 0==y||p==Array&&s(y))for(e=u(h.length),n=new p(e);e>v;v++)c(n,v,g?m(h[v],v):h[v]);else for(l=y.call(h),n=new p;!(i=l.next()).done;v++)c(n,v,g?a(l,m,[i.value,v],!0):i.value);return n.length=v,n}})},function(t,e,n){"use strict";var r=n(8),i=n(134)(!1),o=[].indexOf,a=!!o&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(a||!n(26)(o)),"Array",{indexOf:function(t){return a?o.apply(this,arguments)||0:i(this,t,arguments[1])}})},function(t,e,n){var r=n(8);r(r.S,"Array",{isArray:n(102)})},function(t,e,n){"use strict";var r=n(63),i=n(235),o=n(79),a=n(30);t.exports=n(141)(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):"keys"==e?i(0,n):"values"==e?i(0,t[n]):i(0,[n,t[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(t,e,n){"use strict";var r=n(8),i=n(30),o=[].join;r(r.P+r.F*(n(64)!=Object||!n(26)(o)),"Array",{join:function(t){return o.call(i(this),void 0===t?",":t)}})},function(t,e,n){"use strict";var r=n(8),i=n(30),o=n(84),a=n(39),s=[].lastIndexOf,u=!!s&&1/[1].lastIndexOf(1,-0)<0;r(r.P+r.F*(u||!n(26)(s)),"Array",{lastIndexOf:function(t){if(u)return s.apply(this,arguments)||0;var e=i(this),n=a(e.length),r=n-1;for(arguments.length>1&&(r=Math.min(r,o(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in e&&e[r]===t)return r||0;return-1}})},function(t,e,n){"use strict";var r=n(8),i=n(43)(1);r(r.P+r.F*!n(26)([].map,!0),"Array",{map:function(t){return i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(8),i=n(137);r(r.S+r.F*n(28)(function(){function t(){}return!(Array.of.call(t)instanceof t)}),"Array",{of:function(){for(var t=0,e=arguments.length,n=new("function"==typeof this?this:Array)(e);e>t;)i(n,t,arguments[t++]);return n.length=e,n}})},function(t,e,n){"use strict";var r=n(8),i=n(135);r(r.P+r.F*!n(26)([].reduceRight,!0),"Array",{reduceRight:function(t){return i(this,t,arguments.length,arguments[1],!0)}})},function(t,e,n){"use strict";var r=n(8),i=n(135);r(r.P+r.F*!n(26)([].reduce,!0),"Array",{reduce:function(t){return i(this,t,arguments.length,arguments[1],!1)}})},function(t,e,n){"use strict";var r=n(8),i=n(139),o=n(77),a=n(83),s=n(39),u=[].slice;r(r.P+r.F*n(28)(function(){i&&u.call(i)}),"Array",{slice:function(t,e){var n=s(this.length),r=o(this);if(e=void 0===e?n:e,"Array"==r)return u.call(this,t,e);for(var i=a(t,n),c=a(e,n),f=s(c-i),l=Array(f),h=0;h<f;h++)l[h]="String"==r?this.charAt(i+h):this[i+h];return l}})},function(t,e,n){"use strict";var r=n(8),i=n(43)(3);r(r.P+r.F*!n(26)([].some,!0),"Array",{some:function(t){return i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(8),i=n(99),o=n(31),a=n(28),s=[].sort,u=[1,2,3];r(r.P+r.F*(a(function(){u.sort(void 0)})||!a(function(){u.sort(null)})||!n(26)(s)),"Array",{sort:function(t){return void 0===t?s.call(o(this)):s.call(o(this),i(t))}})},function(t,e,n){n(240)("Array")},function(t,e,n){var r=n(8);r(r.S+r.F,"Object",{assign:n(237)})},function(t,e,n){var r=n(8);r(r.S,"Object",{create:n(104)})},function(t,e,n){var r=n(8);r(r.S+r.F*!n(34),"Object",{defineProperties:n(142)})},function(t,e,n){var r=n(8);r(r.S+r.F*!n(34),"Object",{defineProperty:n(36).f})},function(t,e,n){var r=n(24),i=n(80).onFreeze;n(29)("freeze",function(t){return function(e){return t&&r(e)?t(i(e)):e}})},function(t,e,n){var r=n(30),i=n(105).f;n(29)("getOwnPropertyDescriptor",function(){return function(t,e){return i(r(t),e)}})},function(t,e,n){n(29)("getOwnPropertyNames",function(){return n(143).f})},function(t,e,n){var r=n(31),i=n(145);n(29)("getPrototypeOf",function(){return function(t){return i(r(t))}})},function(t,e,n){var r=n(24);n(29)("isExtensible",function(t){return function(e){return!!r(e)&&(!t||t(e))}})},function(t,e,n){var r=n(24);n(29)("isFrozen",function(t){return function(e){return!r(e)||!!t&&t(e)}})},function(t,e,n){var r=n(24);n(29)("isSealed",function(t){return function(e){return!r(e)||!!t&&t(e)}})},function(t,e,n){var r=n(8);r(r.S,"Object",{is:n(238)})},function(t,e,n){var r=n(31),i=n(55);n(29)("keys",function(){return function(t){return i(r(t))}})},function(t,e,n){var r=n(24),i=n(80).onFreeze;n(29)("preventExtensions",function(t){return function(e){return t&&r(e)?t(i(e)):e}})},function(t,e,n){var r=n(24),i=n(80).onFreeze;n(29)("seal",function(t){return function(e){return t&&r(e)?t(i(e)):e}})},function(t,e,n){var r=n(8);r(r.S,"Object",{setPrototypeOf:n(239).set})},function(t,e,n){"use strict";var r=n(136),i={};i[n(21)("toStringTag")]="z",i+""!="[object z]"&&n(82)(Object.prototype,"toString",function(){return"[object "+r(this)+"]"},!0)},function(t,e,n){"use strict";var r=n(241)(!0);n(141)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){"use strict";var r=n(35),i=n(38),o=n(34),a=n(8),s=n(82),u=n(80).KEY,c=n(28),f=n(109),l=n(107),h=n(66),p=n(21),d=n(147),m=n(242),g=n(236),v=n(230),y=n(102),x=n(53),w=n(30),b=n(110),_=n(65),N=n(104),E=n(143),M=n(105),S=n(36),A=n(55),O=M.f,C=S.f,T=E.f,P=r.Symbol,z=r.JSON,k=z&&z.stringify,I=p("_hidden"),B=p("toPrimitive"),j={}.propertyIsEnumerable,R=f("symbol-registry"),L=f("symbols"),F=f("op-symbols"),q=Object.prototype,U="function"==typeof P,D=r.QObject,V=!D||!D.prototype||!D.prototype.findChild,H=o&&c(function(){return 7!=N(C({},"a",{get:function(){return C(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=O(q,e);r&&delete q[e],C(t,e,n),r&&t!==q&&C(q,e,r)}:C,$=function(t){var e=L[t]=N(P.prototype);return e._k=t,e},G=U&&"symbol"==typeof P.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof P},Z=function(t,e,n){return t===q&&Z(F,e,n),x(t),e=b(e,!0),x(n),i(L,e)?(n.enumerable?(i(t,I)&&t[I][e]&&(t[I][e]=!1),n=N(n,{enumerable:_(0,!1)})):(i(t,I)||C(t,I,_(1,{})),t[I][e]=!0),H(t,e,n)):C(t,e,n)},W=function(t,e){x(t);for(var n,r=v(e=w(e)),i=0,o=r.length;o>i;)Z(t,n=r[i++],e[n]);return t},Y=function(t,e){return void 0===e?N(t):W(N(t),e)},J=function(t){var e=j.call(this,t=b(t,!0));return!(this===q&&i(L,t)&&!i(F,t))&&(!(e||!i(this,t)||!i(L,t)||i(this,I)&&this[I][t])||e)},X=function(t,e){if(t=w(t),e=b(e,!0),t!==q||!i(L,e)||i(F,e)){var n=O(t,e);return!n||!i(L,e)||i(t,I)&&t[I][e]||(n.enumerable=!0),n}},Q=function(t){for(var e,n=T(w(t)),r=[],o=0;n.length>o;)i(L,e=n[o++])||e==I||e==u||r.push(e);return r},K=function(t){for(var e,n=t===q,r=T(n?F:w(t)),o=[],a=0;r.length>a;)!i(L,e=r[a++])||n&&!i(q,e)||o.push(L[e]);return o};U||(P=function(){if(this instanceof P)throw TypeError("Symbol is not a constructor!");var t=h(arguments.length>0?arguments[0]:void 0),e=function(n){this===q&&e.call(F,n),i(this,I)&&i(this[I],t)&&(this[I][t]=!1),H(this,t,_(1,n))};return o&&V&&H(q,t,{configurable:!0,set:e}),$(t)},s(P.prototype,"toString",function(){return this._k}),M.f=X,S.f=Z,n(144).f=E.f=Q,n(81).f=J,n(106).f=K,o&&!n(103)&&s(q,"propertyIsEnumerable",J,!0),d.f=function(t){return $(p(t))}),a(a.G+a.W+a.F*!U,{Symbol:P});for(var tt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),et=0;tt.length>et;)p(tt[et++]);for(var tt=A(p.store),et=0;tt.length>et;)m(tt[et++]);a(a.S+a.F*!U,"Symbol",{for:function(t){return i(R,t+="")?R[t]:R[t]=P(t)},keyFor:function(t){if(G(t))return g(R,t);throw TypeError(t+" is not a symbol!")},useSetter:function(){V=!0},useSimple:function(){V=!1}}),a(a.S+a.F*!U,"Object",{create:Y,defineProperty:Z,defineProperties:W,getOwnPropertyDescriptor:X,getOwnPropertyNames:Q,getOwnPropertySymbols:K}),z&&a(a.S+a.F*(!U||c(function(){var t=P();return"[null]"!=k([t])||"{}"!=k({a:t})||"{}"!=k(Object(t))})),"JSON",{stringify:function(t){if(void 0!==t&&!G(t)){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);return e=r[1],"function"==typeof e&&(n=e),!n&&y(e)||(e=function(t,e){if(n&&(e=n.call(this,t,e)),!G(e))return e}),r[1]=e,k.apply(z,r)}}}),P.prototype[B]||n(54)(P.prototype,B,P.prototype.valueOf),l(P,"Symbol"),l(Math,"Math",!0),l(r.JSON,"JSON",!0)},function(t,e,n){var r;!function(i){"use strict";function o(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)r=t[e]+"",n=It-r.length,n&&(o+=g(n)),o+=r;a=t[e],r=a+"",n=It-r.length,n&&(o+=g(n))}else if(0===a)return"0";for(;a%10==0;)a/=10;return o+a}function a(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Et+t)}function s(t,e,n,r){var i,o,a,s;for(o=t[0];o>=10;o/=10)--e;return--e<0?(e+=It,i=0):(i=Math.ceil((e+1)/It),e%=It),o=Ot(10,It-e),s=t[i]%o|0,null==r?e<3?(0==e?s=s/100|0:1==e&&(s=s/10|0),a=n<4&&99999==s||n>3&&49999==s||5e4==s||0==s):a=(n<4&&s+1==o||n>3&&s+1==o/2)&&(t[i+1]/o/100|0)==Ot(10,e-2)-1||(s==o/2||0==s)&&0==(t[i+1]/o/100|0):e<4?(0==e?s=s/1e3|0:1==e?s=s/100|0:2==e&&(s=s/10|0),a=(r||n<4)&&9999==s||!r&&n>3&&4999==s):a=((r||n<4)&&s+1==o||!r&&n>3&&s+1==o/2)&&(t[i+1]/o/1e3|0)==Ot(10,e-3)-1,a}function u(t,e,n){for(var r,i,o=[0],a=0,s=t.length;a<s;){for(i=o.length;i--;)o[i]*=e;for(o[0]+=yt.indexOf(t.charAt(a++)),r=0;r<o.length;r++)o[r]>n-1&&(void 0===o[r+1]&&(o[r+1]=0),o[r+1]+=o[r]/n|0,o[r]%=n)}return o.reverse()}function c(t,e){var n,r,i=e.d.length;i<32?(n=Math.ceil(i/3),r=Math.pow(4,-n).toString()):(n=16,r="2.3283064365386962890625e-10"),t.precision+=n,e=S(t,1,e.times(r),new t(1));for(var o=n;o--;){var a=e.times(e);e=a.times(a).minus(a).times(8).plus(1)}return t.precision-=n,e}function f(t,e,n,r){var i,o,a,s,u,c,f,l,h,p=t.constructor;t:if(null!=e){if(!(l=t.d))return t;for(i=1,s=l[0];s>=10;s/=10)i++;if((o=e-i)<0)o+=It,a=e,f=l[h=0],u=f/Ot(10,i-a-1)%10|0;else if(h=Math.ceil((o+1)/It),s=l.length,h>=s){if(!r)break t;for(;s++<=h;)l.push(0);f=u=0,i=1,o%=It,a=o-It+1}else{for(f=s=l[h],i=1;s>=10;s/=10)i++;o%=It,a=o-It+i,u=a<0?0:f/Ot(10,i-a-1)%10|0}if(r=r||e<0||void 0!==l[h+1]||(a<0?f:f%Ot(10,i-a-1)),c=n<4?(u||r)&&(0==n||n==(t.s<0?3:2)):u>5||5==u&&(4==n||r||6==n&&(o>0?a>0?f/Ot(10,i-a):0:l[h-1])%10&1||n==(t.s<0?8:7)),e<1||!l[0])return l.length=0,c?(e-=t.e+1,l[0]=Ot(10,(It-e%It)%It),t.e=-e||0):l[0]=t.e=0,t;if(0==o?(l.length=h,s=1,h--):(l.length=h+1,s=Ot(10,It-o),l[h]=a>0?(f/Ot(10,i-a)%Ot(10,a)|0)*s:0),c)for(;;){if(0==h){for(o=1,a=l[0];a>=10;a/=10)o++;for(a=l[0]+=s,s=1;a>=10;a/=10)s++;o!=s&&(t.e++,l[0]==kt&&(l[0]=1));break}if(l[h]+=s,l[h]!=kt)break;l[h--]=0,s=1}for(o=l.length;0===l[--o];)l.pop()}return _t&&(t.e>p.maxE?(t.d=null,t.e=NaN):t.e<p.minE&&(t.e=0,t.d=[0])),t}function l(t,e,n){if(!t.isFinite())return _(t);var r,i=t.e,a=o(t.d),s=a.length;return e?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+g(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(t.e<0?"e":"e+")+t.e):i<0?(a="0."+g(-i-1)+a,n&&(r=n-s)>0&&(a+=g(r))):i>=s?(a+=g(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+g(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=g(r))),a}function h(t,e){var n=t[0];for(e*=It;n>=10;n/=10)e++;return e}function p(t,e,n){if(e>Bt)throw _t=!0,n&&(t.precision=n),Error(Mt);return f(new t(xt),e,1,!0)}function d(t,e,n){if(e>jt)throw Error(Mt);return f(new t(wt),e,n,!0)}function m(t){var e=t.length-1,n=e*It+1;if(e=t[e]){for(;e%10==0;e/=10)n--;for(e=t[0];e>=10;e/=10)n++}return n}function g(t){for(var e="";t--;)e+="0";return e}function v(t,e,n,r){var i,o=new t(1),a=Math.ceil(r/It+4);for(_t=!1;;){if(n%2&&(o=o.times(e),C(o.d,a)&&(i=!0)),0===(n=At(n/2))){n=o.d.length-1,i&&0===o.d[n]&&++o.d[n];break}e=e.times(e),C(e.d,a)}return _t=!0,o}function y(t){return 1&t.d[t.d.length-1]}function x(t,e,n){for(var r,i=new t(e[0]),o=0;++o<e.length;){if(r=new t(e[o]),!r.s){i=r;break}i[n](r)&&(i=r)}return i}function w(t,e){var n,r,i,a,u,c,l,h=0,p=0,d=0,m=t.constructor,g=m.rounding,v=m.precision;if(!t.d||!t.d[0]||t.e>17)return new m(t.d?t.d[0]?t.s<0?0:1/0:1:t.s?t.s<0?0:t:NaN);for(null==e?(_t=!1,l=v):l=e,c=new m(.03125);t.e>-2;)t=t.times(c),d+=5;for(r=Math.log(Ot(2,d))/Math.LN10*2+5|0,l+=r,n=a=u=new m(1),m.precision=l;;){if(a=f(a.times(t),l,1),n=n.times(++p),c=u.plus(Lt(a,n,l,1)),o(c.d).slice(0,l)===o(u.d).slice(0,l)){for(i=d;i--;)u=f(u.times(u),l,1);if(null!=e)return m.precision=v,u;if(!(h<3&&s(u.d,l-r,g,h)))return f(u,m.precision=v,g,_t=!0);m.precision=l+=10,n=a=c=new m(1),p=0,h++}u=c}}function b(t,e){var n,r,i,a,u,c,l,h,d,m,g,v=1,y=t,x=y.d,w=y.constructor,_=w.rounding,N=w.precision;if(y.s<0||!x||!x[0]||!y.e&&1==x[0]&&1==x.length)return new w(x&&!x[0]?-1/0:1!=y.s?NaN:x?0:y);if(null==e?(_t=!1,d=N):d=e,w.precision=d+=10,n=o(x),r=n.charAt(0),!(Math.abs(a=y.e)<15e14))return h=p(w,d+2,N).times(a+""),y=b(new w(r+"."+n.slice(1)),d-10).plus(h),w.precision=N,null==e?f(y,N,_,_t=!0):y;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)y=y.times(t),n=o(y.d),r=n.charAt(0),v++;for(a=y.e,r>1?(y=new w("0."+n),a++):y=new w(r+"."+n.slice(1)),m=y,l=u=y=Lt(y.minus(1),y.plus(1),d,1),g=f(y.times(y),d,1),i=3;;){if(u=f(u.times(g),d,1),h=l.plus(Lt(u,new w(i),d,1)),o(h.d).slice(0,d)===o(l.d).slice(0,d)){if(l=l.times(2),0!==a&&(l=l.plus(p(w,d+2,N).times(a+""))),l=Lt(l,new w(v),d,1),null!=e)return w.precision=N,l;if(!s(l.d,d-10,_,c))return f(l,w.precision=N,_,_t=!0);w.precision=d+=10,h=u=y=Lt(m.minus(1),m.plus(1),d,1),g=f(y.times(y),d,1),i=c=1}l=h,i+=2}}function _(t){return String(t.s*t.s/0)}function N(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;48===e.charCodeAt(r);r++);for(i=e.length;48===e.charCodeAt(i-1);--i);if(e=e.slice(r,i)){if(i-=r,t.e=n=n-r-1,t.d=[],r=(n+1)%It,n<0&&(r+=It),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=It;r<i;)t.d.push(+e.slice(r,r+=It));e=e.slice(r),r=It-e.length}else r-=i;for(;r--;)e+="0";t.d.push(+e),_t&&(t.e>t.constructor.maxE?(t.d=null,t.e=NaN):t.e<t.constructor.minE&&(t.e=0,t.d=[0]))}else t.e=0,t.d=[0];return t}function E(t,e){var n,r,i,o,a,s,c,f,l;if("Infinity"===e||"NaN"===e)return+e||(t.s=NaN),t.e=NaN,t.d=null,t;if(Tt.test(e))n=16,e=e.toLowerCase();else if(Ct.test(e))n=2;else{if(!Pt.test(e))throw Error(Et+e);n=8}for(o=e.search(/p/i),o>0?(c=+e.slice(o+1),e=e.substring(2,o)):e=e.slice(2),o=e.indexOf("."),a=o>=0,r=t.constructor,a&&(e=e.replace(".",""),s=e.length,o=s-o,i=v(r,new r(n),o,2*o)),f=u(e,n,kt),l=f.length-1,o=l;0===f[o];--o)f.pop();return o<0?new r(0*t.s):(t.e=h(f,l),t.d=f,_t=!1,a&&(t=Lt(t,i,4*s)),c&&(t=t.times(Math.abs(c)<54?Math.pow(2,c):bt.pow(2,c))),_t=!0,t)}function M(t,e){var n,r=e.d.length;if(r<3)return S(t,2,e,e);n=1.4*Math.sqrt(r),n=n>16?16:0|n,e=e.times(Math.pow(5,-n)),e=S(t,2,e,e);for(var i,o=new t(5),a=new t(16),s=new t(20);n--;)i=e.times(e),e=e.times(o.plus(i.times(a.times(i).minus(s))));return e}function S(t,e,n,r,i){var o,a,s,u,c=1,f=t.precision,l=Math.ceil(f/It);for(_t=!1,u=n.times(n),s=new t(r);;){if(a=Lt(s.times(u),new t(e++*e++),f,1),s=i?r.plus(a):r.minus(a),r=Lt(a.times(u),new t(e++*e++),f,1),a=s.plus(r),void 0!==a.d[l]){for(o=l;a.d[o]===s.d[o]&&o--;);if(-1==o)break}o=s,s=r,r=a,a=o,c++}return _t=!0,a.d.length=l+1,a}function A(t,e){var n,r=e.s<0,i=d(t,t.precision,1),o=i.times(.5);if(e=e.abs(),e.lte(o))return mt=r?4:1,e;if(n=e.divToInt(i),n.isZero())mt=r?3:2;else{if(e=e.minus(n.times(i)),e.lte(o))return mt=y(n)?r?2:3:r?4:1,e;mt=y(n)?r?1:4:r?3:2}return e.minus(i).abs()}function O(t,e,n,r){var i,o,s,c,f,h,p,d,m,g=t.constructor,v=void 0!==n;if(v?(a(n,1,vt),void 0===r?r=g.rounding:a(r,0,8)):(n=g.precision,r=g.rounding),t.isFinite()){for(p=l(t),s=p.indexOf("."),v?(i=2,16==e?n=4*n-3:8==e&&(n=3*n-2)):i=e,s>=0&&(p=p.replace(".",""),m=new g(1),m.e=p.length-s,m.d=u(l(m),10,i),m.e=m.d.length),d=u(p,10,i),o=f=d.length;0==d[--f];)d.pop();if(d[0]){if(s<0?o--:(t=new g(t),t.d=d,t.e=o,t=Lt(t,m,n,r,0,i),d=t.d,o=t.e,h=dt),s=d[n],c=i/2,h=h||void 0!==d[n+1],h=r<4?(void 0!==s||h)&&(0===r||r===(t.s<0?3:2)):s>c||s===c&&(4===r||h||6===r&&1&d[n-1]||r===(t.s<0?8:7)),d.length=n,h)for(;++d[--n]>i-1;)d[n]=0,n||(++o,d.unshift(1));for(f=d.length;!d[f-1];--f);for(s=0,p="";s<f;s++)p+=yt.charAt(d[s]);if(v){if(f>1)if(16==e||8==e){for(s=16==e?4:3,--f;f%s;f++)p+="0";for(d=u(p,i,e),f=d.length;!d[f-1];--f);for(s=1,p="1.";s<f;s++)p+=yt.charAt(d[s])}else p=p.charAt(0)+"."+p.slice(1);p=p+(o<0?"p":"p+")+o}else if(o<0){for(;++o;)p="0"+p;p="0."+p}else if(++o>f)for(o-=f;o--;)p+="0";else o<f&&(p=p.slice(0,o)+"."+p.slice(o))}else p=v?"0p+0":"0";p=(16==e?"0x":2==e?"0b":8==e?"0o":"")+p}else p=_(t);return t.s<0?"-"+p:p}function C(t,e){if(t.length>e)return t.length=e,!0}function T(t){return new this(t).abs()}function P(t){return new this(t).acos()}function z(t){return new this(t).acosh()}function k(t,e){return new this(t).plus(e)}function I(t){return new this(t).asin()}function B(t){return new this(t).asinh()}function j(t){return new this(t).atan()}function R(t){return new this(t).atanh()}function L(t,e){t=new this(t),e=new this(e);var n,r=this.precision,i=this.rounding,o=r+4;return t.s&&e.s?t.d||e.d?!e.d||t.isZero()?(n=e.s<0?d(this,r,i):new this(0),n.s=t.s):!t.d||e.isZero()?(n=d(this,o,1).times(.5),n.s=t.s):e.s<0?(this.precision=o,this.rounding=1,n=this.atan(Lt(t,e,o,1)),e=d(this,o,1),this.precision=r,this.rounding=i,n=t.s<0?n.minus(e):n.plus(e)):n=this.atan(Lt(t,e,o,1)):(n=d(this,o,1).times(e.s>0?.25:.75),n.s=t.s):n=new this(NaN),n}function F(t){return new this(t).cbrt()}function q(t){return f(t=new this(t),t.e+1,2)}function U(t){if(!t||"object"!=typeof t)throw Error(Nt+"Object expected");var e,n,r,i=["precision",1,vt,"rounding",0,8,"toExpNeg",-gt,0,"toExpPos",0,gt,"maxE",0,gt,"minE",-gt,0,"modulo",0,9];for(e=0;e<i.length;e+=3)if(void 0!==(r=t[n=i[e]])){if(!(At(r)===r&&r>=i[e+1]&&r<=i[e+2]))throw Error(Et+n+": "+r);this[n]=r}if(void 0!==(r=t[n="crypto"])){if(!0!==r&&!1!==r&&0!==r&&1!==r)throw Error(Et+n+": "+r);if(r){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error(St);this[n]=!0}else this[n]=!1}return this}function D(t){return new this(t).cos()}function V(t){return new this(t).cosh()}function H(t){function e(t){var n,r,i,o=this;if(!(o instanceof e))return new e(t);if(o.constructor=e,t instanceof e)return o.s=t.s,o.e=t.e,void(o.d=(t=t.d)?t.slice():t);if("number"===(i=typeof t)){if(0===t)return o.s=1/t<0?-1:1,o.e=0,void(o.d=[0]);if(t<0?(t=-t,o.s=-1):o.s=1,t===~~t&&t<1e7){for(n=0,r=t;r>=10;r/=10)n++;return o.e=n,void(o.d=[t])}return 0*t!=0?(t||(o.s=NaN),o.e=NaN,void(o.d=null)):N(o,t.toString())}if("string"!==i)throw Error(Et+t);return 45===t.charCodeAt(0)?(t=t.slice(1),o.s=-1):o.s=1,zt.test(t)?N(o,t):E(o,t)}var n,r,i;if(e.prototype=Rt,e.ROUND_UP=0,e.ROUND_DOWN=1,e.ROUND_CEIL=2,e.ROUND_FLOOR=3,e.ROUND_HALF_UP=4,e.ROUND_HALF_DOWN=5,e.ROUND_HALF_EVEN=6,e.ROUND_HALF_CEIL=7,e.ROUND_HALF_FLOOR=8,e.EUCLID=9,e.config=e.set=U,e.clone=H,e.abs=T,e.acos=P,e.acosh=z,e.add=k,e.asin=I,e.asinh=B,e.atan=j,e.atanh=R,e.atan2=L,e.cbrt=F,e.ceil=q,e.cos=D,e.cosh=V,e.div=$,e.exp=G,e.floor=Z,e.hypot=W,e.ln=Y,e.log=J,e.log10=Q,e.log2=X,e.max=K,e.min=tt,e.mod=et,e.mul=nt,e.pow=rt,e.random=it,e.round=ot,e.sign=at,e.sin=st,e.sinh=ut,e.sqrt=ct,e.sub=ft,e.tan=lt,e.tanh=ht,e.trunc=pt,void 0===t&&(t={}),t)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],n=0;n<i.length;)t.hasOwnProperty(r=i[n++])||(t[r]=this[r]);return e.config(t),e}function $(t,e){return new this(t).div(e)}function G(t){return new this(t).exp()}function Z(t){return f(t=new this(t),t.e+1,3)}function W(){var t,e,n=new this(0);for(_t=!1,t=0;t<arguments.length;)if(e=new this(arguments[t++]),e.d)n.d&&(n=n.plus(e.times(e)));else{if(e.s)return _t=!0,new this(1/0);n=e}return _t=!0,n.sqrt()}function Y(t){return new this(t).ln()}function J(t,e){return new this(t).log(e)}function X(t){return new this(t).log(2)}function Q(t){return new this(t).log(10)}function K(){return x(this,arguments,"lt")}function tt(){return x(this,arguments,"gt")}function et(t,e){return new this(t).mod(e)}function nt(t,e){return new this(t).mul(e)}function rt(t,e){return new this(t).pow(e)}function it(t){var e,n,r,i,o=0,s=new this(1),u=[];if(void 0===t?t=this.precision:a(t,1,vt),r=Math.ceil(t/It),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(r));o<r;)i=e[o],i>=429e7?e[o]=crypto.getRandomValues(new Uint32Array(1))[0]:u[o++]=i%1e7;else{if(!crypto.randomBytes)throw Error(St);for(e=crypto.randomBytes(r*=4);o<r;)i=e[o]+(e[o+1]<<8)+(e[o+2]<<16)+((127&e[o+3])<<24),i>=214e7?crypto.randomBytes(4).copy(e,o):(u.push(i%1e7),o+=4);o=r/4}else for(;o<r;)u[o++]=1e7*Math.random()|0;for(r=u[--o],t%=It,r&&t&&(i=Ot(10,It-t),u[o]=(r/i|0)*i);0===u[o];o--)u.pop();if(o<0)n=0,u=[0];else{for(n=-1;0===u[0];n-=It)u.shift();for(r=1,i=u[0];i>=10;i/=10)r++;r<It&&(n-=It-r)}return s.e=n,s.d=u,s}function ot(t){return f(t=new this(t),t.e+1,this.rounding)}function at(t){return t=new this(t),t.d?t.d[0]?t.s:0*t.s:t.s||NaN}function st(t){return new this(t).sin()}function ut(t){return new this(t).sinh()}function ct(t){return new this(t).sqrt()}function ft(t,e){return new this(t).sub(e)}function lt(t){return new this(t).tan()}function ht(t){return new this(t).tanh()}function pt(t){return f(t=new this(t),t.e+1,1)}var dt,mt,gt=9e15,vt=1e9,yt="0123456789abcdef",xt="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",wt="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",bt={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-gt,maxE:gt,crypto:!1},_t=!0,Nt="[DecimalError] ",Et=Nt+"Invalid argument: ",Mt=Nt+"Precision limit exceeded",St=Nt+"crypto unavailable",At=Math.floor,Ot=Math.pow,Ct=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,Tt=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,Pt=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,zt=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,kt=1e7,It=7,Bt=xt.length-1,jt=wt.length-1,Rt={};Rt.absoluteValue=Rt.abs=function(){var t=new this.constructor(this);return t.s<0&&(t.s=1),f(t)},Rt.ceil=function(){return f(new this.constructor(this),this.e+1,2)},Rt.comparedTo=Rt.cmp=function(t){var e,n,r,i,o=this,a=o.d,s=(t=new o.constructor(t)).d,u=o.s,c=t.s;if(!a||!s)return u&&c?u!==c?u:a===s?0:!a^u<0?1:-1:NaN;if(!a[0]||!s[0])return a[0]?u:s[0]?-c:0;if(u!==c)return u;if(o.e!==t.e)return o.e>t.e^u<0?1:-1;for(r=a.length,i=s.length,e=0,n=r<i?r:i;e<n;++e)if(a[e]!==s[e])return a[e]>s[e]^u<0?1:-1;return r===i?0:r>i^u<0?1:-1},Rt.cosine=Rt.cos=function(){var t,e,n=this,r=n.constructor;return n.d?n.d[0]?(t=r.precision,e=r.rounding,r.precision=t+Math.max(n.e,n.sd())+It,r.rounding=1,n=c(r,A(r,n)),r.precision=t,r.rounding=e,f(2==mt||3==mt?n.neg():n,t,e,!0)):new r(1):new r(NaN)},Rt.cubeRoot=Rt.cbrt=function(){var t,e,n,r,i,a,s,u,c,l,h=this,p=h.constructor;if(!h.isFinite()||h.isZero())return new p(h);for(_t=!1,a=h.s*Math.pow(h.s*h,1/3),a&&Math.abs(a)!=1/0?r=new p(a.toString()):(n=o(h.d),t=h.e,(a=(t-n.length+1)%3)&&(n+=1==a||-2==a?"0":"00"),a=Math.pow(n,1/3),t=At((t+1)/3)-(t%3==(t<0?-1:2)),a==1/0?n="5e"+t:(n=a.toExponential(),n=n.slice(0,n.indexOf("e")+1)+t),r=new p(n),r.s=h.s),s=(t=p.precision)+3;;)if(u=r,c=u.times(u).times(u),l=c.plus(h),r=Lt(l.plus(h).times(u),l.plus(c),s+2,1),o(u.d).slice(0,s)===(n=o(r.d)).slice(0,s)){if("9999"!=(n=n.slice(s-3,s+1))&&(i||"4999"!=n)){+n&&(+n.slice(1)||"5"!=n.charAt(0))||(f(r,t+1,1),e=!r.times(r).times(r).eq(h));break}if(!i&&(f(u,t+1,0),u.times(u).times(u).eq(h))){r=u;break}s+=4,i=1}return _t=!0,f(r,t,p.rounding,e)},Rt.decimalPlaces=Rt.dp=function(){var t,e=this.d,n=NaN;if(e){if(t=e.length-1,n=(t-At(this.e/It))*It,t=e[t])for(;t%10==0;t/=10)n--;n<0&&(n=0)}return n},Rt.dividedBy=Rt.div=function(t){return Lt(this,new this.constructor(t))},Rt.dividedToIntegerBy=Rt.divToInt=function(t){var e=this,n=e.constructor;return f(Lt(e,new n(t),0,1,1),n.precision,n.rounding)},Rt.equals=Rt.eq=function(t){return 0===this.cmp(t)},Rt.floor=function(){return f(new this.constructor(this),this.e+1,3)},Rt.greaterThan=Rt.gt=function(t){return this.cmp(t)>0},Rt.greaterThanOrEqualTo=Rt.gte=function(t){var e=this.cmp(t);return 1==e||0===e},Rt.hyperbolicCosine=Rt.cosh=function(){var t,e,n,r,i,o=this,a=o.constructor,s=new a(1);if(!o.isFinite())return new a(o.s?1/0:NaN);if(o.isZero())return s;n=a.precision,r=a.rounding,a.precision=n+Math.max(o.e,o.sd())+4,a.rounding=1,i=o.d.length,i<32?(t=Math.ceil(i/3),e=Math.pow(4,-t).toString()):(t=16,e="2.3283064365386962890625e-10"),o=S(a,1,o.times(e),new a(1),!0);for(var u,c=t,l=new a(8);c--;)u=o.times(o),o=s.minus(u.times(l.minus(u.times(l))));return f(o,a.precision=n,a.rounding=r,!0)},Rt.hyperbolicSine=Rt.sinh=function(){var t,e,n,r,i=this,o=i.constructor;if(!i.isFinite()||i.isZero())return new o(i);if(e=o.precision,n=o.rounding,o.precision=e+Math.max(i.e,i.sd())+4,o.rounding=1,(r=i.d.length)<3)i=S(o,2,i,i,!0);else{t=1.4*Math.sqrt(r),t=t>16?16:0|t,i=i.times(Math.pow(5,-t)),i=S(o,2,i,i,!0);for(var a,s=new o(5),u=new o(16),c=new o(20);t--;)a=i.times(i),i=i.times(s.plus(a.times(u.times(a).plus(c))))}return o.precision=e,o.rounding=n,f(i,e,n,!0)},Rt.hyperbolicTangent=Rt.tanh=function(){var t,e,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+7,r.rounding=1,Lt(n.sinh(),n.cosh(),r.precision=t,r.rounding=e)):new r(n.s)},Rt.inverseCosine=Rt.acos=function(){var t,e=this,n=e.constructor,r=e.abs().cmp(1),i=n.precision,o=n.rounding;return-1!==r?0===r?e.isNeg()?d(n,i,o):new n(0):new n(NaN):e.isZero()?d(n,i+4,o).times(.5):(n.precision=i+6,n.rounding=1,e=e.asin(),t=d(n,i+4,o).times(.5),n.precision=i,n.rounding=o,t.minus(e))},Rt.inverseHyperbolicCosine=Rt.acosh=function(){var t,e,n=this,r=n.constructor;return n.lte(1)?new r(n.eq(1)?0:NaN):n.isFinite()?(t=r.precision,e=r.rounding,r.precision=t+Math.max(Math.abs(n.e),n.sd())+4,r.rounding=1,_t=!1,n=n.times(n).minus(1).sqrt().plus(n),_t=!0,r.precision=t,r.rounding=e,n.ln()):new r(n)},Rt.inverseHyperbolicSine=Rt.asinh=function(){var t,e,n=this,r=n.constructor;return!n.isFinite()||n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+2*Math.max(Math.abs(n.e),n.sd())+6,r.rounding=1,_t=!1,n=n.times(n).plus(1).sqrt().plus(n),_t=!0,r.precision=t,r.rounding=e,n.ln())},Rt.inverseHyperbolicTangent=Rt.atanh=function(){var t,e,n,r,i=this,o=i.constructor;return i.isFinite()?i.e>=0?new o(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(t=o.precision,e=o.rounding,r=i.sd(),Math.max(r,t)<2*-i.e-1?f(new o(i),t,e,!0):(o.precision=n=r-i.e,i=Lt(i.plus(1),new o(1).minus(i),n+t,1),o.precision=t+4,o.rounding=1,i=i.ln(),o.precision=t,o.rounding=e,i.times(.5))):new o(NaN)},Rt.inverseSine=Rt.asin=function(){var t,e,n,r,i=this,o=i.constructor;return i.isZero()?new o(i):(e=i.abs().cmp(1),n=o.precision,r=o.rounding,-1!==e?0===e?(t=d(o,n+4,r).times(.5),t.s=i.s,t):new o(NaN):(o.precision=n+6,o.rounding=1,i=i.div(new o(1).minus(i.times(i)).sqrt().plus(1)).atan(),o.precision=n,o.rounding=r,i.times(2)))},Rt.inverseTangent=Rt.atan=function(){var t,e,n,r,i,o,a,s,u,c=this,l=c.constructor,h=l.precision,p=l.rounding;if(c.isFinite()){if(c.isZero())return new l(c);if(c.abs().eq(1)&&h+4<=jt)return a=d(l,h+4,p).times(.25),a.s=c.s,a}else{if(!c.s)return new l(NaN);if(h+4<=jt)return a=d(l,h+4,p).times(.5),a.s=c.s,a}for(l.precision=s=h+10,l.rounding=1,n=Math.min(28,s/It+2|0),t=n;t;--t)c=c.div(c.times(c).plus(1).sqrt().plus(1));for(_t=!1,e=Math.ceil(s/It),r=1,u=c.times(c),a=new l(c),i=c;-1!==t;)if(i=i.times(u),o=a.minus(i.div(r+=2)),i=i.times(u),a=o.plus(i.div(r+=2)),void 0!==a.d[e])for(t=e;a.d[t]===o.d[t]&&t--;);return n&&(a=a.times(2<<n-1)),_t=!0,f(a,l.precision=h,l.rounding=p,!0)},Rt.isFinite=function(){return!!this.d},Rt.isInteger=Rt.isInt=function(){return!!this.d&&At(this.e/It)>this.d.length-2},Rt.isNaN=function(){return!this.s},Rt.isNegative=Rt.isNeg=function(){return this.s<0},Rt.isPositive=Rt.isPos=function(){return this.s>0},Rt.isZero=function(){return!!this.d&&0===this.d[0]},Rt.lessThan=Rt.lt=function(t){return this.cmp(t)<0},Rt.lessThanOrEqualTo=Rt.lte=function(t){return this.cmp(t)<1},Rt.logarithm=Rt.log=function(t){var e,n,r,i,a,u,c,l,h=this,d=h.constructor,m=d.precision,g=d.rounding;if(null==t)t=new d(10),e=!0;else{if(t=new d(t),n=t.d,t.s<0||!n||!n[0]||t.eq(1))return new d(NaN);e=t.eq(10)}if(n=h.d,h.s<0||!n||!n[0]||h.eq(1))return new d(n&&!n[0]?-1/0:1!=h.s?NaN:n?0:1/0);if(e)if(n.length>1)a=!0;else{for(i=n[0];i%10==0;)i/=10;a=1!==i}if(_t=!1,c=m+5,u=b(h,c),r=e?p(d,c+10):b(t,c),l=Lt(u,r,c,1),s(l.d,i=m,g))do{if(c+=10,u=b(h,c),r=e?p(d,c+10):b(t,c),l=Lt(u,r,c,1),!a){+o(l.d).slice(i+1,i+15)+1==1e14&&(l=f(l,m+1,0));break}}while(s(l.d,i+=10,g));return _t=!0,f(l,m,g)},Rt.minus=Rt.sub=function(t){var e,n,r,i,o,a,s,u,c,l,p,d,m=this,g=m.constructor;if(t=new g(t),!m.d||!t.d)return m.s&&t.s?m.d?t.s=-t.s:t=new g(t.d||m.s!==t.s?m:NaN):t=new g(NaN),t;if(m.s!=t.s)return t.s=-t.s,m.plus(t);if(c=m.d,d=t.d,s=g.precision,u=g.rounding,!c[0]||!d[0]){if(d[0])t.s=-t.s;else{if(!c[0])return new g(3===u?-0:0);t=new g(m)}return _t?f(t,s,u):t}if(n=At(t.e/It),l=At(m.e/It),c=c.slice(),o=l-n){for(p=o<0,p?(e=c,o=-o,a=d.length):(e=d,n=l,a=c.length),r=Math.max(Math.ceil(s/It),a)+2,o>r&&(o=r,e.length=1),e.reverse(),r=o;r--;)e.push(0);e.reverse()}else{for(r=c.length,a=d.length,p=r<a,p&&(a=r),r=0;r<a;r++)if(c[r]!=d[r]){p=c[r]<d[r];break}o=0}for(p&&(e=c,c=d,d=e,t.s=-t.s),a=c.length,r=d.length-a;r>0;--r)c[a++]=0;for(r=d.length;r>o;){if(c[--r]<d[r]){for(i=r;i&&0===c[--i];)c[i]=kt-1;--c[i],c[r]+=kt}c[r]-=d[r]}for(;0===c[--a];)c.pop();for(;0===c[0];c.shift())--n;return c[0]?(t.d=c,t.e=h(c,n),_t?f(t,s,u):t):new g(3===u?-0:0)},Rt.modulo=Rt.mod=function(t){var e,n=this,r=n.constructor;return t=new r(t),!n.d||!t.s||t.d&&!t.d[0]?new r(NaN):!t.d||n.d&&!n.d[0]?f(new r(n),r.precision,r.rounding):(_t=!1,9==r.modulo?(e=Lt(n,t.abs(),0,3,1),e.s*=t.s):e=Lt(n,t,0,r.modulo,1),e=e.times(t),_t=!0,n.minus(e))},Rt.naturalExponential=Rt.exp=function(){return w(this)},Rt.naturalLogarithm=Rt.ln=function(){return b(this)},Rt.negated=Rt.neg=function(){var t=new this.constructor(this);return t.s=-t.s,f(t)},Rt.plus=Rt.add=function(t){var e,n,r,i,o,a,s,u,c,l,p=this,d=p.constructor;if(t=new d(t),!p.d||!t.d)return p.s&&t.s?p.d||(t=new d(t.d||p.s===t.s?p:NaN)):t=new d(NaN),t;if(p.s!=t.s)return t.s=-t.s,p.minus(t);if(c=p.d,l=t.d,s=d.precision,u=d.rounding,!c[0]||!l[0])return l[0]||(t=new d(p)),_t?f(t,s,u):t;if(o=At(p.e/It),r=At(t.e/It),c=c.slice(),i=o-r){for(i<0?(n=c,i=-i,a=l.length):(n=l,r=o,a=c.length),o=Math.ceil(s/It),a=o>a?o+1:a+1,i>a&&(i=a,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(a=c.length,i=l.length,a-i<0&&(i=a,n=l,l=c,c=n),e=0;i;)e=(c[--i]=c[i]+l[i]+e)/kt|0,c[i]%=kt;for(e&&(c.unshift(e),++r),a=c.length;0==c[--a];)c.pop();return t.d=c,t.e=h(c,r),_t?f(t,s,u):t},Rt.precision=Rt.sd=function(t){var e,n=this;if(void 0!==t&&t!==!!t&&1!==t&&0!==t)throw Error(Et+t);return n.d?(e=m(n.d),t&&n.e+1>e&&(e=n.e+1)):e=NaN,e},Rt.round=function(){var t=this,e=t.constructor;return f(new e(t),t.e+1,e.rounding)},Rt.sine=Rt.sin=function(){var t,e,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+Math.max(n.e,n.sd())+It,r.rounding=1,n=M(r,A(r,n)),r.precision=t,r.rounding=e,f(mt>2?n.neg():n,t,e,!0)):new r(NaN)},Rt.squareRoot=Rt.sqrt=function(){var t,e,n,r,i,a,s=this,u=s.d,c=s.e,l=s.s,h=s.constructor;if(1!==l||!u||!u[0])return new h(!l||l<0&&(!u||u[0])?NaN:u?s:1/0);for(_t=!1,l=Math.sqrt(+s),0==l||l==1/0?(e=o(u),(e.length+c)%2==0&&(e+="0"),l=Math.sqrt(e),c=At((c+1)/2)-(c<0||c%2),l==1/0?e="1e"+c:(e=l.toExponential(),e=e.slice(0,e.indexOf("e")+1)+c),r=new h(e)):r=new h(l.toString()),n=(c=h.precision)+3;;)if(a=r,r=a.plus(Lt(s,a,n+2,1)).times(.5),o(a.d).slice(0,n)===(e=o(r.d)).slice(0,n)){if("9999"!=(e=e.slice(n-3,n+1))&&(i||"4999"!=e)){+e&&(+e.slice(1)||"5"!=e.charAt(0))||(f(r,c+1,1),t=!r.times(r).eq(s));break}if(!i&&(f(a,c+1,0),a.times(a).eq(s))){r=a;break}n+=4,i=1}return _t=!0,f(r,c,h.rounding,t)},Rt.tangent=Rt.tan=function(){var t,e,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+10,r.rounding=1,n=n.sin(),n.s=1,n=Lt(n,new r(1).minus(n.times(n)).sqrt(),t+10,0),r.precision=t,r.rounding=e,f(2==mt||4==mt?n.neg():n,t,e,!0)):new r(NaN)},Rt.times=Rt.mul=function(t){var e,n,r,i,o,a,s,u,c,l=this,p=l.constructor,d=l.d,m=(t=new p(t)).d;if(t.s*=l.s,!(d&&d[0]&&m&&m[0]))return new p(!t.s||d&&!d[0]&&!m||m&&!m[0]&&!d?NaN:d&&m?0*t.s:t.s/0);for(n=At(l.e/It)+At(t.e/It),u=d.length,c=m.length,u<c&&(o=d,d=m,m=o,a=u,u=c,c=a),o=[],a=u+c,r=a;r--;)o.push(0);for(r=c;--r>=0;){for(e=0,i=u+r;i>r;)s=o[i]+m[r]*d[i-r-1]+e,o[i--]=s%kt|0,e=s/kt|0;o[i]=(o[i]+e)%kt|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=h(o,n),_t?f(t,p.precision,p.rounding):t},Rt.toBinary=function(t,e){return O(this,2,t,e)},Rt.toDecimalPlaces=Rt.toDP=function(t,e){var n=this,r=n.constructor;return n=new r(n),void 0===t?n:(a(t,0,vt),void 0===e?e=r.rounding:a(e,0,8),f(n,t+n.e+1,e))},Rt.toExponential=function(t,e){var n,r=this,i=r.constructor;return void 0===t?n=l(r,!0):(a(t,0,vt),void 0===e?e=i.rounding:a(e,0,8),r=f(new i(r),t+1,e),n=l(r,!0,t+1)),r.isNeg()&&!r.isZero()?"-"+n:n},Rt.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return void 0===t?n=l(i):(a(t,0,vt),void 0===e?e=o.rounding:a(e,0,8),r=f(new o(i),t+i.e+1,e),n=l(r,!1,t+r.e+1)),i.isNeg()&&!i.isZero()?"-"+n:n},Rt.toFraction=function(t){var e,n,r,i,a,s,u,c,f,l,h,p,d=this,g=d.d,v=d.constructor;if(!g)return new v(d);if(f=n=new v(1),r=c=new v(0),e=new v(r),a=e.e=m(g)-d.e-1,s=a%It,e.d[0]=Ot(10,s<0?It+s:s),null==t)t=a>0?e:f;else{if(u=new v(t),!u.isInt()||u.lt(f))throw Error(Et+u);t=u.gt(e)?a>0?e:f:u}for(_t=!1,u=new v(o(g)),l=v.precision,v.precision=a=g.length*It*2;h=Lt(u,e,0,1,1),i=n.plus(h.times(r)),1!=i.cmp(t);)n=r,r=i,i=f,f=c.plus(h.times(i)),c=i,i=e,e=u.minus(h.times(i)),u=i;return i=Lt(t.minus(n),r,0,1,1),c=c.plus(i.times(f)),n=n.plus(i.times(r)),c.s=f.s=d.s,p=Lt(f,r,a,1).minus(d).abs().cmp(Lt(c,n,a,1).minus(d).abs())<1?[f,r]:[c,n],v.precision=l,_t=!0,p},Rt.toHexadecimal=Rt.toHex=function(t,e){return O(this,16,t,e)},Rt.toNearest=function(t,e){var n=this,r=n.constructor;if(n=new r(n),null==t){if(!n.d)return n;t=new r(1),e=r.rounding}else{if(t=new r(t),void 0!==e&&a(e,0,8),!n.d)return t.s?n:t;if(!t.d)return t.s&&(t.s=n.s),t}return t.d[0]?(_t=!1,e<4&&(e=[4,5,7,8][e]),n=Lt(n,t,0,e,1).times(t),_t=!0,f(n)):(t.s=n.s,n=t),n},Rt.toNumber=function(){return+this},Rt.toOctal=function(t,e){return O(this,8,t,e)},Rt.toPower=Rt.pow=function(t){var e,n,r,i,a,u,c,l=this,h=l.constructor,p=+(t=new h(t));if(!(l.d&&t.d&&l.d[0]&&t.d[0]))return new h(Ot(+l,p));if(l=new h(l),l.eq(1))return l;if(r=h.precision,a=h.rounding,t.eq(1))return f(l,r,a);if(e=At(t.e/It),n=t.d.length-1,c=e>=n,u=l.s,c){if((n=p<0?-p:p)<=9007199254740991)return i=v(h,l,n,r),t.s<0?new h(1).div(i):f(i,r,a)}else if(u<0)return new h(NaN);return u=u<0&&1&t.d[Math.max(e,n)]?-1:1,n=Ot(+l,p),(e=0!=n&&isFinite(n)?new h(n+"").e:At(p*(Math.log("0."+o(l.d))/Math.LN10+l.e+1)))>h.maxE+1||e<h.minE-1?new h(e>0?u/0:0):(_t=!1,h.rounding=l.s=1,n=Math.min(12,(e+"").length),i=w(t.times(b(l,r+n)),r),i=f(i,r+5,1),s(i.d,r,a)&&(e=r+10,i=f(w(t.times(b(l,e+n)),e),e+5,1),+o(i.d).slice(r+1,r+15)+1==1e14&&(i=f(i,r+1,0))),i.s=u,_t=!0,h.rounding=a,f(i,r,a))},Rt.toPrecision=function(t,e){var n,r=this,i=r.constructor;return void 0===t?n=l(r,r.e<=i.toExpNeg||r.e>=i.toExpPos):(a(t,1,vt),void 0===e?e=i.rounding:a(e,0,8),r=f(new i(r),t,e),n=l(r,t<=r.e||r.e<=i.toExpNeg,t)),r.isNeg()&&!r.isZero()?"-"+n:n},Rt.toSignificantDigits=Rt.toSD=function(t,e){var n=this,r=n.constructor;return void 0===t?(t=r.precision,e=r.rounding):(a(t,1,vt),void 0===e?e=r.rounding:a(e,0,8)),f(new r(n),t,e)},Rt.toString=function(){var t=this,e=t.constructor,n=l(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()&&!t.isZero()?"-"+n:n},Rt.truncated=Rt.trunc=function(){return f(new this.constructor(this),this.e+1,1)},Rt.valueOf=Rt.toJSON=function(){var t=this,e=t.constructor,n=l(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()?"-"+n:n};var Lt=function(){function t(t,e,n){var r,i=0,o=t.length;for(t=t.slice();o--;)r=t[o]*e+i,t[o]=r%n|0,i=r/n|0;return i&&t.unshift(i),t}function e(t,e,n,r){var i,o;if(n!=r)o=n>r?1:-1;else for(i=o=0;i<n;i++)if(t[i]!=e[i]){o=t[i]>e[i]?1:-1;break}return o}function n(t,e,n,r){for(var i=0;n--;)t[n]-=i,i=t[n]<e[n]?1:0,t[n]=i*r+t[n]-e[n];for(;!t[0]&&t.length>1;)t.shift()}return function(r,i,o,a,s,u){var c,l,h,p,d,m,g,v,y,x,w,b,_,N,E,M,S,A,O,C,T=r.constructor,P=r.s==i.s?1:-1,z=r.d,k=i.d;if(!(z&&z[0]&&k&&k[0]))return new T(r.s&&i.s&&(z?!k||z[0]!=k[0]:k)?z&&0==z[0]||!k?0*P:P/0:NaN);for(u?(d=1,l=r.e-i.e):(u=kt,d=It,l=At(r.e/d)-At(i.e/d)),O=k.length,S=z.length,y=new T(P),x=y.d=[],h=0;k[h]==(z[h]||0);h++);if(k[h]>(z[h]||0)&&l--,null==o?(N=o=T.precision,a=T.rounding):N=s?o+(r.e-i.e)+1:o,N<0)x.push(1),m=!0;else{if(N=N/d+2|0,h=0,1==O){for(p=0,k=k[0],N++;(h<S||p)&&N--;h++)E=p*u+(z[h]||0),x[h]=E/k|0,p=E%k|0;m=p||h<S}else{for(p=u/(k[0]+1)|0,p>1&&(k=t(k,p,u),z=t(z,p,u),O=k.length,S=z.length),M=O,w=z.slice(0,O),b=w.length;b<O;)w[b++]=0;C=k.slice(),C.unshift(0),A=k[0],k[1]>=u/2&&++A;do{p=0,c=e(k,w,O,b),c<0?(_=w[0],O!=b&&(_=_*u+(w[1]||0)),p=_/A|0,p>1?(p>=u&&(p=u-1),g=t(k,p,u),v=g.length,b=w.length,1==(c=e(g,w,v,b))&&(p--,n(g,O<v?C:k,v,u))):(0==p&&(c=p=1),g=k.slice()),v=g.length,v<b&&g.unshift(0),n(w,g,b,u),-1==c&&(b=w.length,(c=e(k,w,O,b))<1&&(p++,n(w,O<b?C:k,b,u))),b=w.length):0===c&&(p++,w=[0]),x[h++]=p,c&&w[0]?w[b++]=z[M]||0:(w=[z[M]],b=1)}while((M++<S||void 0!==w[0])&&N--);m=void 0!==w[0]}x[0]||x.shift()}if(1==d)y.e=l,dt=m;else{for(h=1,p=x[0];p>=10;p/=10)h++;y.e=h+l*d-1,f(y,s?o+y.e+1:o,a,m)}return y}}();bt=H(bt),xt=new bt(xt),wt=new bt(wt),void 0!==(r=function(){return bt}.call(e,n,e,t))&&(t.exports=r)}()},function(t,e,n){var r,i;/**
 * @license Fraction.js v4.0.0 09/09/2015
 * http://www.xarg.org/2014/03/rational-numbers-in-javascript/
 *
 * Copyright (c) 2015, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/
!function(n){"use strict";function o(t){var e=function(){var e=Error.apply(this,arguments);e.name=this.name=t,this.stack=e.stack,this.message=e.message},n=function(){};return n.prototype=Error.prototype,e.prototype=new n,e}function a(t,e){return isNaN(t=parseInt(t,10))&&s(),t*e}function s(){throw new l}function u(t,e){if(!(this instanceof u))return new u(t,e);h(t,e),t=u.REDUCE?g(c.d,c.n):1,this.s=c.s,this.n=c.n/t,this.d=c.d/t}var c={s:1,n:0,d:1},f=u.DivisionByZero=o("DivisionByZero"),l=u.InvalidParameter=o("InvalidParameter"),h=function(t,e){var n,r=0,i=1,o=1,u=0,l=0,h=0,p=1,d=1,m=0,g=1,v=1,y=1,x=1e7;if(void 0===t||null===t);else if(void 0!==e)r=t,i=e,o=r*i;else switch(typeof t){case"object":"d"in t&&"n"in t?(r=t.n,i=t.d,"s"in t&&(r*=t.s)):0 in t?(r=t[0],1 in t&&(i=t[1])):s(),o=r*i;break;case"number":if(t<0&&(o=t,t=-t),t%1==0)r=t;else if(t>0){for(t>=1&&(d=Math.pow(10,Math.floor(1+Math.log(t)/Math.LN10)),t/=d);g<=x&&y<=x;){if(n=(m+v)/(g+y),t===n){g+y<=x?(r=m+v,i=g+y):y>g?(r=v,i=y):(r=m,i=g);break}t>n?(m+=v,g+=y):(v+=m,y+=g),g>x?(r=v,i=y):(r=m,i=g)}r*=d}else(isNaN(t)||isNaN(e))&&(i=r=NaN);break;case"string":if(g=t.match(/\d+|./g),"-"===g[m]?(o=-1,m++):"+"===g[m]&&m++,g.length===m+1?l=a(g[m++],o):"."===g[m+1]||"."===g[m]?("."!==g[m]&&(u=a(g[m++],o)),m++,(m+1===g.length||"("===g[m+1]&&")"===g[m+3]||"'"===g[m+1]&&"'"===g[m+3])&&(l=a(g[m],o),p=Math.pow(10,g[m].length),m++),("("===g[m]&&")"===g[m+2]||"'"===g[m]&&"'"===g[m+2])&&(h=a(g[m+1],o),d=Math.pow(10,g[m+1].length)-1,m+=3)):"/"===g[m+1]||":"===g[m+1]?(l=a(g[m],o),p=a(g[m+2],1),m+=3):"/"===g[m+3]&&" "===g[m+1]&&(u=a(g[m],o),l=a(g[m+2],o),p=a(g[m+4],1),m+=5),g.length<=m){i=p*d,o=r=h+i*u+d*l;break}default:s()}if(0===i)throw new f;c.s=o<0?-1:1,c.n=Math.abs(r),c.d=Math.abs(i)},p=function(t,e,n){for(var r=1;e>0;t=t*t%n,e>>=1)1&e&&(r=r*t%n);return r},d=function(t,e){for(;e%2==0;e/=2);for(;e%5==0;e/=5);if(1===e)return 0;for(var n=10%e,r=1;1!==n;r++)if(n=10*n%e,r>2e3)return 0;return r},m=function(t,e,n){for(var r=1,i=p(10,n,e),o=0;o<300;o++){if(r===i)return o;r=10*r%e,i=10*i%e}return 0},g=function(t,e){if(!t)return e;if(!e)return t;for(;;){if(!(t%=e))return e;if(!(e%=t))return t}};u.REDUCE=1,u.prototype={s:1,n:0,d:1,abs:function(){return new u(this.n,this.d)},neg:function(){return new u(-this.s*this.n,this.d)},add:function(t,e){return h(t,e),new u(this.s*this.n*c.d+c.s*this.d*c.n,this.d*c.d)},sub:function(t,e){return h(t,e),new u(this.s*this.n*c.d-c.s*this.d*c.n,this.d*c.d)},mul:function(t,e){return h(t,e),new u(this.s*c.s*this.n*c.n,this.d*c.d)},div:function(t,e){return h(t,e),new u(this.s*c.s*this.n*c.d,this.d*c.n)},clone:function(){return new u(this)},mod:function(t,e){return isNaN(this.n)||isNaN(this.d)?new u(NaN):void 0===t?new u(this.s*this.n%this.d,1):(h(t,e),0===c.n&&0===this.d&&u(0,0),new u(this.s*c.d*this.n%(c.n*this.d),c.d*this.d))},gcd:function(t,e){return h(t,e),new u(g(c.n,this.n),c.d*this.d/g(c.d,this.d))},lcm:function(t,e){return h(t,e),0===c.n&&0===this.n?new u:new u(c.n*this.n/g(c.n,this.n),g(c.d,this.d))},ceil:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new u(NaN):new u(Math.ceil(t*this.s*this.n/this.d),t)},floor:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new u(NaN):new u(Math.floor(t*this.s*this.n/this.d),t)},round:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new u(NaN):new u(Math.round(t*this.s*this.n/this.d),t)},inverse:function(){return new u(this.s*this.d,this.n)},pow:function(t){return t<0?new u(Math.pow(this.s*this.d,-t),Math.pow(this.n,-t)):new u(Math.pow(this.s*this.n,t),Math.pow(this.d,t))},equals:function(t,e){return h(t,e),this.s*this.n*c.d==c.s*c.n*this.d},compare:function(t,e){h(t,e);var n=this.s*this.n*c.d-c.s*c.n*this.d;return(0<n)-(n<0)},divisible:function(t,e){return h(t,e),!(!(c.n*this.d)||this.n*c.d%(c.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(t){var e,n="",r=this.n,i=this.d;return this.s<0&&(n+="-"),1===i?n+=r:(t&&(e=Math.floor(r/i))>0&&(n+=e,n+=" ",r%=i),n+=r,n+="/",n+=i),n},toLatex:function(t){var e,n="",r=this.n,i=this.d;return this.s<0&&(n+="-"),1===i?n+=r:(t&&(e=Math.floor(r/i))>0&&(n+=e,r%=i),n+="\\frac{",n+=r,n+="}{",n+=i,n+="}"),n},toContinued:function(){var t,e=this.n,n=this.d,r=[];do{r.push(Math.floor(e/n)),t=e%n,e=n,n=t}while(1!==e);return r},toString:function(){var t,e=this.n,n=this.d;if(isNaN(e)||isNaN(n))return"NaN";u.REDUCE||(t=g(e,n),e/=t,n/=t);for(var r=String(e).split(""),i=0,o=[~this.s?"":"-","",""],a="",s=d(0,n),c=m(0,n,s),f=-1,l=1,h=15+s+c+r.length,p=0;p<h;p++,i*=10){if(p<r.length?i+=Number(r[p]):(l=2,f++),s>0)if(f===c)o[l]+=a+"(",a="";else if(f===s+c){o[l]+=a+")";break}i>=n?(o[l]+=a+(i/n|0),a="",i%=n):l>1?a+="0":o[l]&&(o[l]+="0")}return o[0]+=o[1]||"0",o[2]?o[0]+"."+o[2]:o[0]}},r=[],void 0!==(i=function(){return u}.apply(e,r))&&(t.exports=i)}()},function(t,e){function n(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}t.exports=n},function(t,e,n){function r(t,e){var n=a(t),r=!n&&o(t),f=!n&&!r&&s(t),h=!n&&!r&&!f&&c(t),p=n||r||f||h,d=p?i(t.length,String):[],m=d.length;for(var g in t)!e&&!l.call(t,g)||p&&("length"==g||f&&("offset"==g||"parent"==g)||h&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||u(g,m))||d.push(g);return d}var i=n(299),o=n(319),a=n(153),s=n(320),u=n(151),c=n(322),f=Object.prototype,l=f.hasOwnProperty;t.exports=r},function(t,e,n){function r(t,e,n){var r=t[e];s.call(t,e)&&o(r,n)&&(void 0!==n||e in t)||i(t,e,n)}var i=n(149),o=n(152),a=Object.prototype,s=a.hasOwnProperty;t.exports=r},function(t,e,n){function r(t,e){return t&&i(e,o(e),t)}var i=n(302),o=n(156);t.exports=r},function(t,e,n){var r=n(56),i=Object.create,o=function(){function t(){}return function(e){if(!r(e))return{};if(i)return i(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();t.exports=o},function(t,e,n){var r=n(293),i=n(304),o=i(r);t.exports=o},function(t,e,n){var r=n(305),i=r();t.exports=i},function(t,e,n){function r(t,e){return t&&i(t,e,o)}var i=n(292),o=n(156);t.exports=r},function(t,e,n){function r(t){return o(t)&&i(t)==a}var i=n(85),o=n(86),a="[object Arguments]";t.exports=r},function(t,e,n){function r(t){return!(!a(t)||o(t))&&(i(t)?p:u).test(s(t))}var i=n(154),o=n(311),a=n(56),s=n(317),u=/^\[object .+?Constructor\]$/,c=Function.prototype,f=Object.prototype,l=c.toString,h=f.hasOwnProperty,p=RegExp("^"+l.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=r},function(t,e,n){function r(t){return a(t)&&o(t.length)&&!!s[i(t)]}var i=n(85),o=n(155),a=n(86),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,t.exports=r},function(t,e,n){function r(t){if(!i(t))return o(t);var e=[];for(var n in Object(t))s.call(t,n)&&"constructor"!=n&&e.push(n);return e}var i=n(312),o=n(313),a=Object.prototype,s=a.hasOwnProperty;t.exports=r},function(t,e){function n(t,e){return t+r(i()*(e-t+1))}var r=Math.floor,i=Math.random;t.exports=n},function(t,e){function n(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}t.exports=n},function(t,e){function n(t){return function(e){return t(e)}}t.exports=n},function(t,e,n){function r(t){return"function"==typeof t?t:i}var i=n(318);t.exports=r},function(t,e,n){function r(t,e,n,r){var a=!n;n||(n={});for(var s=-1,u=e.length;++s<u;){var c=e[s],f=r?r(n[c],t[c],c,n,t):void 0;void 0===f&&(f=t[c]),a?o(n,c,f):i(n,c,f)}return n}var i=n(288),o=n(149);t.exports=r},function(t,e,n){var r=n(111),i=r["__core-js_shared__"];t.exports=i},function(t,e,n){function r(t,e){return function(n,r){if(null==n)return n;if(!i(n))return t(n,r);for(var o=n.length,a=e?o:-1,s=Object(n);(e?a--:++a<o)&&!1!==r(s[a],a,s););return n}}var i=n(114);t.exports=r},function(t,e){function n(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var u=a[t?s:++i];if(!1===n(o[u],u,o))break}return e}}t.exports=n},function(t,e,n){var r=n(307),i=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=i},function(t,e,n){function r(t,e){var n=o(t,e);return i(n)?n:void 0}var i=n(295),o=n(309);t.exports=r},function(t,e,n){function r(t){var e=a.call(t,u),n=t[u];try{t[u]=void 0;var r=!0}catch(t){}var i=s.call(t);return r&&(e?t[u]=n:delete t[u]),i}var i=n(148),o=Object.prototype,a=o.hasOwnProperty,s=o.toString,u=i?i.toStringTag:void 0;t.exports=r},function(t,e){function n(t,e){return null==t?void 0:t[e]}t.exports=n},function(t,e,n){function r(t,e,n){if(!s(n))return!1;var r=typeof e;return!!("number"==r?o(n)&&a(e,n.length):"string"==r&&e in n)&&i(n[e],t)}var i=n(152),o=n(114),a=n(151),s=n(56);t.exports=r},function(t,e,n){function r(t){return!!o&&o in t}var i=n(303),o=function(){var t=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();t.exports=r},function(t,e){function n(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||r)}var r=Object.prototype;t.exports=n},function(t,e,n){var r=n(316),i=r(Object.keys,Object);t.exports=i},function(t,e,n){(function(t){var r=n(150),i="object"==typeof e&&e&&!e.nodeType&&e,o=i&&"object"==typeof t&&t&&!t.nodeType&&t,a=o&&o.exports===i,s=a&&r.process,u=function(){try{return s&&s.binding&&s.binding("util")}catch(t){}}();t.exports=u}).call(e,n(217)(t))},function(t,e){function n(t){return i.call(t)}var r=Object.prototype,i=r.toString;t.exports=n},function(t,e){function n(t,e){return function(n){return t(e(n))}}t.exports=n},function(t,e){function n(t){if(null!=t){try{return i.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var r=Function.prototype,i=r.toString;t.exports=n},function(t,e){function n(t){return t}t.exports=n},function(t,e,n){var r=n(294),i=n(86),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(t){return i(t)&&a.call(t,"callee")&&!s.call(t,"callee")};t.exports=u},function(t,e,n){(function(t){var r=n(111),i=n(324),o="object"==typeof e&&e&&!e.nodeType&&e,a=o&&"object"==typeof t&&t&&!t.nodeType&&t,s=a&&a.exports===o,u=s?r.Buffer:void 0,c=u?u.isBuffer:void 0,f=c||i;t.exports=f}).call(e,n(217)(t))},function(t,e,n){function r(t){return"symbol"==typeof t||o(t)&&i(t)==a}var i=n(85),o=n(86),a="[object Symbol]";t.exports=r},function(t,e,n){var r=n(296),i=n(300),o=n(314),a=o&&o.isTypedArray,s=a?i(a):r;t.exports=s},function(t,e,n){function r(t,e,n){if(n&&"boolean"!=typeof n&&o(t,e,n)&&(e=n=void 0),void 0===n&&("boolean"==typeof e?(n=e,e=void 0):"boolean"==typeof t&&(n=t,t=void 0)),void 0===t&&void 0===e?(t=0,e=1):(t=a(t),void 0===e?(e=t,t=0):e=a(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var f=c();return u(t+f*(e-t+s("1e-"+((f+"").length-1))),e)}return i(t,e)}var i=n(298),o=n(310),a=n(325),s=parseFloat,u=Math.min,c=Math.random;t.exports=r},function(t,e){function n(){return!1}t.exports=n},function(t,e,n){function r(t){if(!t)return 0===t?t:0;if((t=i(t))===o||t===-o){return(t<0?-1:1)*a}return t===t?t:0}var i=n(326),o=1/0,a=1.7976931348623157e308;t.exports=r},function(t,e,n){function r(t){if("number"==typeof t)return t;if(o(t))return a;if(i(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=i(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(s,"");var n=c.test(t);return n||f.test(t)?l(t.slice(2),n?2:8):u.test(t)?a:+t}var i=n(56),o=n(321),a=NaN,s=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,f=/^0o[0-7]+$/i,l=parseInt;t.exports=r},function(t,e,n){t.exports=n(330)},function(t,e,n){function r(t){var e=i.create(t);return e.create=r,e.import(n(661)),e}var i=n(327);t.exports=r()},function(t,e,n){"use strict";function r(t,e,a,u,c){c.on("config",function(n,i){n.number!==i.number&&r(t,e,a,u,c)}),i(c,"true",!0),i(c,"false",!1),i(c,"null",null),i(c,"uninitialized",n(3).UNINITIALIZED),"BigNumber"===e.number?(i(c,"Infinity",new t.BigNumber(1/0)),i(c,"NaN",new t.BigNumber(NaN)),o(c,"pi",function(){return s.pi(t.BigNumber)}),o(c,"tau",function(){return s.tau(t.BigNumber)}),o(c,"e",function(){return s.e(t.BigNumber)}),o(c,"phi",function(){return s.phi(t.BigNumber)}),o(c,"E",function(){return c.e}),o(c,"LN2",function(){return new t.BigNumber(2).ln()}),o(c,"LN10",function(){return new t.BigNumber(10).ln()}),o(c,"LOG2E",function(){return new t.BigNumber(1).div(new t.BigNumber(2).ln())}),o(c,"LOG10E",function(){return new t.BigNumber(1).div(new t.BigNumber(10).ln())}),o(c,"PI",function(){return c.pi}),o(c,"SQRT1_2",function(){return new t.BigNumber("0.5").sqrt()}),o(c,"SQRT2",function(){return new t.BigNumber(2).sqrt()})):(i(c,"Infinity",1/0),i(c,"NaN",NaN),i(c,"pi",Math.PI),i(c,"tau",2*Math.PI),i(c,"e",Math.E),i(c,"phi",1.618033988749895),i(c,"E",c.e),i(c,"LN2",Math.LN2),i(c,"LN10",Math.LN10),i(c,"LOG2E",Math.LOG2E),i(c,"LOG10E",Math.LOG10E),i(c,"PI",c.pi),i(c,"SQRT1_2",Math.SQRT1_2),i(c,"SQRT2",Math.SQRT2)),i(c,"i",t.Complex.I),i(c,"version",n(699))}function i(t,e,n){t[e]=n,t.expression.mathWithTransform[e]=n}function o(t,e,n){a.lazy(t,e,n),a.lazy(t.expression.mathWithTransform,e,n)}var a=n(5),s=n(214);e.factory=r,e.lazy=!1,e.math=!0},function(t,e,n){var r=n(5).isFactory,i=n(333),o=n(215),a=n(332),s=n(331);e.create=function(t){function e(t){if(!r(t))throw new Error("Factory object with properties `type`, `name`, and `factory` expected");var i,o=n.indexOf(t);return-1===o?(i=!0===t.math?t.factory(c.type,f,e,c.typed,c):t.factory(c.type,f,e,c.typed),n.push(t),u.push(i)):i=u[o],i}if("function"!=typeof Object.create)throw new Error("ES5 not supported by this JavaScript engine. Please load the es5-shim and es5-sham library for compatibility.");var n=[],u=[],c=o.mixin({});c.type={},c.expression={transform:{},mathWithTransform:{}},c.typed=i.create(c.type);var f={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};return c.import=e(a),c.config=e(s),c.expression.mathWithTransform.config=c.config,t&&c.config(t),c}},function(t,e,n){"use strict";function r(t,e,n,r,i){function o(t){if(t){var n=s.map(e,s.clone);a(t,"matrix",u),a(t,"number",c),s.deepExtend(e,t);var r=s.map(e,s.clone),o=s.map(t,s.clone);return i.emit("config",r,n,o),r}return s.map(e,s.clone)}var u=["Matrix","Array"],c=["number","BigNumber","Fraction"];return o.MATRIX=u,o.NUMBER=c,o}function i(t,e){return-1!==t.indexOf(e)}function o(t,e){return t.map(function(t){return t.toLowerCase()}).indexOf(e.toLowerCase())}function a(t,e,n){if(void 0!==t[e]&&!i(n,t[e])){var r=o(n,t[e]);-1!==r?(console.warn('Warning: Wrong casing for configuration option "'+e+'", should be "'+n[r]+'" instead of "'+t[e]+'".'),t[e]=n[r]):console.warn('Warning: Unknown value "'+t[e]+'" for configuration option "'+e+'". Available options: '+n.map(JSON.stringify).join(", ")+".")}}var s=n(5);e.name="config",e.math=!0,e.factory=r},function(t,e,n){"use strict";function r(t,e,n,r,u){function c(t,e){var n=arguments.length;if(1!==n&&2!==n)throw new s("import",n,1,2);if(e||(e={}),o(t))p(t,e);else if(Array.isArray(t))t.forEach(function(t){c(t,e)});else if("object"==typeof t){for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];d(i)?f(r,i,e):o(t)?p(t,e):c(i,e)}}else if(!e.silent)throw new TypeError("Factory, Object, or Array expected")}function f(t,e,n){if(n.wrap&&"function"==typeof e&&(e=h(e)),m(u[t])&&m(e))return e=n.override?r(t,e.signatures):r(u[t],e),u[t]=e,l(t,e),void u.emit("import",t,function(){return e});if(void 0===u[t]||n.override)return u[t]=e,l(t,e),void u.emit("import",t,function(){return e});if(!n.silent)throw new Error('Cannot import "'+t+'": already exists')}function l(t,e){e&&"function"==typeof e.transform?(u.expression.transform[t]=e.transform,g[t]||(u.expression.mathWithTransform[t]=e.transform)):(delete u.expression.transform[t],g[t]||(u.expression.mathWithTransform[t]=e))}function h(t){var e=function(){for(var e=[],n=0,r=arguments.length;n<r;n++){var i=arguments[n];e[n]=i&&i.valueOf()}return t.apply(u,e)};return t.transform&&(e.transform=t.transform),e}function p(t,e){if("string"==typeof t.name){var o=t.name,s=o in u.expression.transform,c=t.path?a(u,t.path):u,f=c.hasOwnProperty(o)?c[o]:void 0,l=function(){var i=n(t);if(i&&"function"==typeof i.transform)throw new Error('Transforms cannot be attached to factory functions. Please create a separate function for it with exports.path="expression.transform"');if(m(f)&&m(i))return e.override||(i=r(f,i)),i;if(void 0===f||e.override)return i;if(!e.silent)throw new Error('Cannot import "'+o+'": already exists')};!1!==t.lazy?(i(c,o,l),s||g[o]||i(u.expression.mathWithTransform,o,l)):(c[o]=l(),s||g[o]||(u.expression.mathWithTransform[o]=l())),u.emit("import",o,l,t.path)}else n(t)}function d(t){return"function"==typeof t||"number"==typeof t||"string"==typeof t||"boolean"==typeof t||null===t||t&&!0===t.isUnit||t&&!0===t.isComplex||t&&!0===t.isBigNumber||t&&!0===t.isFraction||t&&!0===t.isMatrix||t&&!0===Array.isArray(t)}function m(t){return"function"==typeof t&&"object"==typeof t.signatures}var g={expression:!0,type:!0,error:!0,json:!0};return c}var i=n(5).lazy,o=n(5).isFactory,a=n(5).traverse,s=n(67);e.math=!0,e.name="import",e.factory=r,e.lazy=!0},function(t,e,n){var r=n(702),i=n(2).digits,o=function(){return o=r.create,r};e.create=function(t){var e=o();return e.types=[{name:"number",test:function(t){return"number"==typeof t}},{name:"Complex",test:function(t){return t&&t.isComplex}},{name:"BigNumber",test:function(t){return t&&t.isBigNumber}},{name:"Fraction",test:function(t){return t&&t.isFraction}},{name:"Unit",test:function(t){return t&&t.isUnit}},{name:"string",test:function(t){return"string"==typeof t}},{name:"Array",test:Array.isArray},{name:"Matrix",test:function(t){return t&&t.isMatrix}},{name:"DenseMatrix",test:function(t){return t&&t.isDenseMatrix}},{name:"SparseMatrix",test:function(t){return t&&t.isSparseMatrix}},{name:"Range",test:function(t){return t&&t.isRange}},{name:"Index",test:function(t){return t&&t.isIndex}},{name:"boolean",test:function(t){return"boolean"==typeof t}},{name:"ResultSet",test:function(t){return t&&t.isResultSet}},{name:"Help",test:function(t){return t&&t.isHelp}},{name:"function",test:function(t){return"function"==typeof t}},{name:"Date",test:function(t){return t instanceof Date}},{name:"RegExp",test:function(t){return t instanceof RegExp}},{name:"Object",test:function(t){return"object"==typeof t}},{name:"null",test:function(t){return null===t}},{name:"undefined",test:function(t){return void 0===t}},{name:"OperatorNode",test:function(t){return t&&t.isOperatorNode}},{name:"ConstantNode",test:function(t){return t&&t.isConstantNode}},{name:"SymbolNode",test:function(t){return t&&t.isSymbolNode}},{name:"ParenthesisNode",test:function(t){return t&&t.isParenthesisNode}},{name:"FunctionNode",test:function(t){return t&&t.isFunctionNode}},{name:"FunctionAssignmentNode",test:function(t){return t&&t.isFunctionAssignmentNode}},{name:"ArrayNode",test:function(t){return t&&t.isArrayNode}},{name:"AssignmentNode",test:function(t){return t&&t.isAssignmentNode}},{name:"BlockNode",test:function(t){return t&&t.isBlockNode}},{name:"ConditionalNode",test:function(t){return t&&t.isConditionalNode}},{name:"IndexNode",test:function(t){return t&&t.isIndexNode}},{name:"RangeNode",test:function(t){return t&&t.isRangeNode}},{name:"UpdateNode",test:function(t){return t&&t.isUpdateNode}},{name:"Node",test:function(t){return t&&t.isNode}}],e.conversions=[{from:"number",to:"BigNumber",convert:function(e){if(i(e)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+e+"). Use function bignumber(x) to convert to BigNumber.");return new t.BigNumber(e)}},{from:"number",to:"Complex",convert:function(e){return new t.Complex(e,0)}},{from:"number",to:"string",convert:function(t){return t+""}},{from:"BigNumber",to:"Complex",convert:function(e){return new t.Complex(e.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(t){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(e){return new t.Complex(e.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(e){if(new t.Fraction(e).valueOf()!==e)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+e+"). Use function fraction(x) to convert to Fraction.");return new t.Fraction(e)}},{from:"string",to:"number",convert:function(t){var e=Number(t);if(isNaN(e))throw new Error('Cannot convert "'+t+'" to a number');return e}},{from:"string",to:"BigNumber",convert:function(e){try{return new t.BigNumber(e)}catch(t){throw new Error('Cannot convert "'+e+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(e){try{return new t.Fraction(e)}catch(t){throw new Error('Cannot convert "'+e+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(e){try{return new t.Complex(e)}catch(t){throw new Error('Cannot convert "'+e+'" to Complex')}}},{from:"boolean",to:"number",convert:function(t){return+t}},{from:"boolean",to:"BigNumber",convert:function(e){return new t.BigNumber(+e)}},{from:"boolean",to:"Fraction",convert:function(e){return new t.Fraction(+e)}},{from:"boolean",to:"string",convert:function(t){return+t}},{from:"null",to:"number",convert:function(){return 0}},{from:"null",to:"string",convert:function(){return"null"}},{from:"null",to:"BigNumber",convert:function(){return new t.BigNumber(0)}},{from:"null",to:"Fraction",convert:function(){return new t.Fraction(0)}},{from:"Array",to:"Matrix",convert:function(e){return new t.DenseMatrix(e)}},{from:"Matrix",to:"Array",convert:function(t){return t.valueOf()}}],e}},function(t,e,n){"use strict";var r=n(67),i=n(10),o=n(68);t.exports=[{name:"ArgumentsError",path:"error",factory:function(){return r}},{name:"DimensionError",path:"error",factory:function(){return i}},{name:"IndexError",path:"error",factory:function(){return o}}]},function(t,e,n){"use strict";function r(t,e,r,a){function s(t){if(!(this instanceof s))throw new SyntaxError("Constructor must be called with the new operator");if(!t)throw new Error('Argument "doc" missing');this.doc=t}var u=r(n(161))();return s.prototype.type="Help",s.prototype.isHelp=!0,s.prototype.toString=function(){var t=this.doc||{},e="\n";if(t.name&&(e+="Name: "+t.name+"\n\n"),t.category&&(e+="Category: "+t.category+"\n\n"),t.description&&(e+="Description:\n    "+t.description+"\n\n"),t.syntax&&(e+="Syntax:\n    "+t.syntax.join("\n    ")+"\n\n"),t.examples){e+="Examples:\n";for(var n=0;n<t.examples.length;n++){var r=t.examples[n];e+="    "+r+"\n";var i;try{i=u.eval(r)}catch(t){i=t}i&&!i.isHelp&&(e+="        "+o.format(i,{precision:14})+"\n")}e+="\n"}return t.seealso&&(e+="See also: "+t.seealso.join(", ")+"\n"),e},s.prototype.toJSON=function(){var t=i.clone(this.doc);return t.mathjs="Help",t},s.fromJSON=function(t){var e={};for(var n in t)"mathjs"!==n&&(e[n]=t[n]);return new s(e)},s.prototype.valueOf=s.prototype.toString,s}var i=n(5),o=n(12);e.name="Help",e.path="type",e.factory=r},function(t,e){t.exports={name:"Infinity",category:"Constants",syntax:["Infinity"],description:"Infinity, a number which is larger than the maximum number that can be handled by a floating point number.",examples:["Infinity","1 / 0"],seealso:[]}},function(t,e){t.exports={name:"LN10",category:"Constants",syntax:["LN10"],description:"Returns the natural logarithm of 10, approximately equal to 2.302",examples:["LN10","log(10)"],seealso:[]}},function(t,e){t.exports={name:"LN2",category:"Constants",syntax:["LN2"],description:"Returns the natural logarithm of 2, approximately equal to 0.693",examples:["LN2","log(2)"],seealso:[]}},function(t,e){t.exports={name:"LOG10E",category:"Constants",syntax:["LOG10E"],description:"Returns the base-10 logarithm of E, approximately equal to 0.434",examples:["LOG10E","log(e, 10)"],seealso:[]}},function(t,e){t.exports={name:"LOG2E",category:"Constants",syntax:["LOG2E"],description:"Returns the base-2 logarithm of E, approximately equal to 1.442",examples:["LOG2E","log(e, 2)"],seealso:[]}},function(t,e){t.exports={name:"NaN",category:"Constants",syntax:["NaN"],description:"Not a number",examples:["NaN","0 / 0"],seealso:[]}},function(t,e){t.exports={name:"SQRT1_2",category:"Constants",syntax:["SQRT1_2"],description:"Returns the square root of 1/2, approximately equal to 0.707",examples:["SQRT1_2","sqrt(1/2)"],seealso:[]}},function(t,e){t.exports={name:"SQRT2",category:"Constants",syntax:["SQRT2"],description:"Returns the square root of 2, approximately equal to 1.414",examples:["SQRT2","sqrt(2)"],seealso:[]}},function(t,e){t.exports={name:"false",category:"Constants",syntax:["false"],description:"Boolean value false",examples:["false"],seealso:["true"]}},function(t,e){t.exports={name:"i",category:"Constants",syntax:["i"],description:"Imaginary unit, defined as i*i=-1. A complex number is described as a + b*i, where a is the real part, and b is the imaginary part.",examples:["i","i * i","sqrt(-1)"],seealso:[]}},function(t,e){t.exports={name:"null",category:"Constants",syntax:["null"],description:"Value null",examples:["null"],seealso:["true","false"]}},function(t,e){t.exports={name:"phi",category:"Constants",syntax:["phi"],description:"Phi is the golden ratio. Two quantities are in the golden ratio if their ratio is the same as the ratio of their sum to the larger of the two quantities. Phi is defined as `(1 + sqrt(5)) / 2` and is approximately 1.618034...",examples:["tau"],seealso:[]}},function(t,e){t.exports={name:"tau",category:"Constants",syntax:["tau"],description:"Tau is the ratio constant of a circle's circumference to radius, equal to 2 * pi, approximately 6.2832.",examples:["tau","2 * pi"],seealso:["pi"]}},function(t,e){t.exports={name:"true",category:"Constants",syntax:["true"],description:"Boolean value true",examples:["true"],seealso:["false"]}},function(t,e){t.exports={name:"version",category:"Constants",syntax:["version"],description:"A string with the version number of math.js",examples:["version"],seealso:[]}},function(t,e){t.exports={name:"bignumber",category:"Construction",syntax:["bignumber(x)"],description:"Create a big number from a number or string.",examples:["0.1 + 0.2","bignumber(0.1) + bignumber(0.2)",'bignumber("7.2")','bignumber("7.2e500")',"bignumber([0.1, 0.2, 0.3])"],seealso:["boolean","complex","fraction","index","matrix","string","unit"]}},function(t,e){t.exports={name:"boolean",category:"Construction",syntax:["x","boolean(x)"],description:"Convert a string or number into a boolean.",examples:["boolean(0)","boolean(1)","boolean(3)",'boolean("true")','boolean("false")',"boolean([1, 0, 1, 1])"],seealso:["bignumber","complex","index","matrix","number","string","unit"]}},function(t,e){t.exports={name:"complex",category:"Construction",syntax:["complex()","complex(re, im)","complex(string)"],description:"Create a complex number.",examples:["complex()","complex(2, 3)",'complex("7 - 2i")'],seealso:["bignumber","boolean","index","matrix","number","string","unit"]}},function(t,e){t.exports={name:"createUnit",category:"Construction",syntax:["createUnit(definitions)","createUnit(name, definition)"],description:"Create a user-defined unit and register it with the Unit type.",examples:['createUnit("foo")','createUnit("knot", {definition: "0.514444444 m/s", aliases: ["knots", "kt", "kts"]})','createUnit("mph", "1 mile/hour")'],seealso:["unit","splitUnit"]}},function(t,e){t.exports={name:"fraction",category:"Construction",syntax:["fraction(num)","fraction(num,den)"],description:"Create a fraction from a number or from a numerator and denominator.",examples:["fraction(0.125)","fraction(1, 3) + fraction(2, 5)"],seealso:["bignumber","boolean","complex","index","matrix","string","unit"]}},function(t,e){t.exports={name:"index",category:"Construction",syntax:["[start]","[start:end]","[start:step:end]","[start1, start 2, ...]","[start1:end1, start2:end2, ...]","[start1:step1:end1, start2:step2:end2, ...]"],description:"Create an index to get or replace a subset of a matrix",examples:["[]","[1, 2, 3]","A = [1, 2, 3; 4, 5, 6]","A[1, :]","A[1, 2] = 50","A[0:2, 0:2] = ones(2, 2)"],seealso:["bignumber","boolean","complex","matrix,","number","range","string","unit"]}},function(t,e){t.exports={name:"matrix",category:"Construction",syntax:["[]","[a1, b1, ...; a2, b2, ...]","matrix()",'matrix("dense")',"matrix([...])"],description:"Create a matrix.",examples:["[]","[1, 2, 3]","[1, 2, 3; 4, 5, 6]","matrix()","matrix([3, 4])",'matrix([3, 4; 5, 6], "sparse")','matrix([3, 4; 5, 6], "sparse", "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","sparse"]}},function(t,e){t.exports={name:"number",category:"Construction",syntax:["x","number(x)"],description:"Create a number or convert a string or boolean into a number.",examples:["2","2e3","4.05","number(2)",'number("7.2")',"number(true)","number([true, false, true, true])",'number("52cm", "m")'],seealso:["bignumber","boolean","complex","fraction","index","matrix","string","unit"]}},function(t,e){t.exports={name:"sparse",category:"Construction",syntax:["sparse()","sparse([a1, b1, ...; a1, b2, ...])",'sparse([a1, b1, ...; a1, b2, ...], "number")'],description:"Create a sparse matrix.",examples:["sparse()","sparse([3, 4; 5, 6])",'sparse([3, 0; 5, 0], "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","matrix"]}},function(t,e){t.exports={name:"splitUnit",category:"Construction",syntax:["splitUnit(unit: Unit, parts: Unit[])"],description:"Split a unit in an array of units whose sum is equal to the original unit.",examples:['splitUnit(1 m, ["feet", "inch"])'],seealso:["unit","createUnit"]}},function(t,e){t.exports={name:"string",category:"Construction",syntax:['"text"',"string(x)"],description:"Create a string or convert a value to a string",examples:['"Hello World!"',"string(4.2)","string(3 + 2i)"],seealso:["bignumber","boolean","complex","index","matrix","number","unit"]}},function(t,e){t.exports={name:"unit",category:"Construction",syntax:["value unit","unit(value, unit)","unit(string)"],description:"Create a unit.",examples:["5.5 mm","3 inch",'unit(7.1, "kilogram")','unit("23 deg")'],seealso:["bignumber","boolean","complex","index","matrix","number","string"]}},function(t,e){t.exports={name:"config",category:"Core",syntax:["config()","config(options)"],description:"Get configuration or change configuration.",examples:["config()","1/3 + 1/4",'config({number: "Fraction"})',"1/3 + 1/4"],seealso:[]}},function(t,e){t.exports={name:"import",category:"Core",syntax:["import(functions)","import(functions, options)"],description:"Import functions or constants from an object.",examples:["import({myFn: f(x)=x^2, myConstant: 32 })","myFn(2)","myConstant"],seealso:[]}},function(t,e){t.exports={name:"typed",category:"Core",syntax:["typed(signatures)","typed(name, signatures)"],description:"Create a typed function.",examples:['double = typed({ "number, number": f(x)=x+x })',"double(2)",'double("hello")'],seealso:[]}},function(t,e){t.exports={name:"derivative",category:"Algebra",syntax:["derivative(expr)","derivative(expr, {simplify: boolean})"],description:"Takes the derivative of an expression expressed in parser Nodes. The derivative will be taken over the supplied variable in the second parameter. If there are multiple variables in the expression, it will return a partial derivative.",examples:['derivative("2x^3", "x")','derivative("2x^3", "x", {simplify: false})','derivative("2x^2 + 3x + 4", "x")','derivative("sin(2x)", "x")','f = parse("x^2 + x")','x = parse("x")',"df = derivative(f, x)","df.eval({x: 3})"],seealso:["simplify","parse","eval"]}},function(t,e){t.exports={name:"lsolve",category:"Algebra",syntax:["x=lsolve(L, b)"],description:"Solves the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lup","lusolve","usolve","matrix","sparse"]}},function(t,e){t.exports={name:"lup",category:"Algebra",syntax:["lup(m)"],description:"Calculate the Matrix LU decomposition with partial pivoting. Matrix A is decomposed in three matrices (L, U, P) where P * A = L * U",examples:["lup([[2, 1], [1, 4]])","lup(matrix([[2, 1], [1, 4]]))","lup(sparse([[2, 1], [1, 4]]))"],seealso:["lusolve","lsolve","usolve","matrix","sparse","slu","qr"]}},function(t,e){t.exports={name:"lusolve",category:"Algebra",syntax:["x=lusolve(A, b)","x=lusolve(lu, b)"],description:"Solves the linear system A * x = b where A is an [n x n] matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lusolve(a, b)"],seealso:["lup","slu","lsolve","usolve","matrix","sparse"]}},function(t,e){t.exports={name:"qr",category:"Algebra",syntax:["qr(A)"],description:"Calculates the Matrix QR decomposition. Matrix `A` is decomposed in two matrices (`Q`, `R`) where `Q` is an orthogonal matrix and `R` is an upper triangular matrix.",examples:["qr([[1, -1,  4], [1,  4, -2], [1,  4,  2], [1,  -1, 0]])"],seealso:["lup","slu","matrix"]}},function(t,e){t.exports={name:"simplify",category:"Algebra",syntax:["simplify(expr)","simplify(expr, rules)"],description:"Simplify an expression tree.",examples:['simplify("3 + 2 / 4")','simplify("2x + x")','f = parse("x * (x + 2 + x)")',"simplified = simplify(f)","simplified.eval({x: 2})"],seealso:["derivative","parse","eval"]}},function(t,e){t.exports={name:"slu",category:"Algebra",syntax:["slu(A, order, threshold)"],description:"Calculate the Matrix LU decomposition with full pivoting. Matrix A is decomposed in two matrices (L, U) and two permutation vectors (pinv, q) where P * A * Q = L * U",examples:["slu(sparse([4.5, 0, 3.2, 0; 3.1, 2.9, 0, 0.9; 0, 1.7, 3, 0; 3.5, 0.4, 0, 1]), 1, 0.001)"],seealso:["lusolve","lsolve","usolve","matrix","sparse","lup","qr"]}},function(t,e){t.exports={name:"usolve",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Solves the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["lup","lusolve","lsolve","matrix","sparse"]}},function(t,e){t.exports={name:"abs",category:"Arithmetic",syntax:["abs(x)"],description:"Compute the absolute value.",examples:["abs(3.5)","abs(-4.2)"],seealso:["sign"]}},function(t,e){t.exports={name:"add",category:"Operators",syntax:["x + y","add(x, y)"],description:"Add two values.",examples:["a = 2.1 + 3.6","a - 3.6","3 + 2i","3 cm + 2 inch",'"2.3" + "4"'],seealso:["subtract"]}},function(t,e){t.exports={name:"cbrt",category:"Arithmetic",syntax:["cbrt(x)","cbrt(x, allRoots)"],description:"Compute the cubic root value. If x = y * y * y, then y is the cubic root of x. When `x` is a number or complex number, an optional second argument `allRoots` can be provided to return all three cubic roots. If not provided, the principal root is returned",examples:["cbrt(64)","cube(4)","cbrt(-8)","cbrt(2 + 3i)","cbrt(8i)","cbrt(8i, true)","cbrt(27 m^3)"],seealso:["square","sqrt","cube","multiply"]}},function(t,e){t.exports={name:"ceil",category:"Arithmetic",syntax:["ceil(x)"],description:"Round a value towards plus infinity. If x is complex, both real and imaginary part are rounded towards plus infinity.",examples:["ceil(3.2)","ceil(3.8)","ceil(-4.2)"],seealso:["floor","fix","round"]}},function(t,e){t.exports={name:"cube",category:"Arithmetic",syntax:["cube(x)"],description:"Compute the cube of a value. The cube of x is x * x * x.",examples:["cube(2)","2^3","2 * 2 * 2"],seealso:["multiply","square","pow"]}},function(t,e){t.exports={name:"divide",category:"Operators",syntax:["x / y","divide(x, y)"],description:"Divide two values.",examples:["a = 2 / 3","a * 3","4.5 / 2","3 + 4 / 2","(3 + 4) / 2","18 km / 4.5"],seealso:["multiply"]}},function(t,e){t.exports={name:"dotDivide",category:"Operators",syntax:["x ./ y","dotDivide(x, y)"],description:"Divide two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a ./ b"],seealso:["multiply","dotMultiply","divide"]}},function(t,e){t.exports={name:"dotMultiply",category:"Operators",syntax:["x .* y","dotMultiply(x, y)"],description:"Multiply two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a .* b"],seealso:["multiply","divide","dotDivide"]}},function(t,e){t.exports={name:"dotpow",category:"Operators",syntax:["x .^ y","dotpow(x, y)"],description:"Calculates the power of x to y element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","a .^ 2"],seealso:["pow"]}},function(t,e){t.exports={name:"exp",category:"Arithmetic",syntax:["exp(x)"],description:"Calculate the exponent of a value.",examples:["exp(1.3)","e ^ 1.3","log(exp(1.3))","x = 2.4","(exp(i*x) == cos(x) + i*sin(x))   # Euler's formula"],seealso:["pow","log"]}},function(t,e){t.exports={name:"fix",category:"Arithmetic",syntax:["fix(x)"],description:"Round a value towards zero. If x is complex, both real and imaginary part are rounded towards zero.",examples:["fix(3.2)","fix(3.8)","fix(-4.2)","fix(-4.8)"],seealso:["ceil","floor","round"]}},function(t,e){t.exports={name:"floor",category:"Arithmetic",syntax:["floor(x)"],description:"Round a value towards minus infinity.If x is complex, both real and imaginary part are rounded towards minus infinity.",examples:["floor(3.2)","floor(3.8)","floor(-4.2)"],seealso:["ceil","fix","round"]}},function(t,e){t.exports={name:"gcd",category:"Arithmetic",syntax:["gcd(a, b)","gcd(a, b, c, ...)"],description:"Compute the greatest common divisor.",examples:["gcd(8, 12)","gcd(-4, 6)","gcd(25, 15, -10)"],seealso:["lcm","xgcd"]}},function(t,e){t.exports={name:"hypot",category:"Arithmetic",syntax:["hypot(a, b, c, ...)","hypot([a, b, c, ...])"],description:"Calculate the hypotenusa of a list with values. ",examples:["hypot(3, 4)","sqrt(3^2 + 4^2)","hypot(-2)","hypot([3, 4, 5])"],seealso:["abs","norm"]}},function(t,e){t.exports={name:"lcm",category:"Arithmetic",syntax:["lcm(x, y)"],description:"Compute the least common multiple.",examples:["lcm(4, 6)","lcm(6, 21)","lcm(6, 21, 5)"],seealso:["gcd"]}},function(t,e){t.exports={name:"log",category:"Arithmetic",syntax:["log(x)","log(x, base)"],description:"Compute the logarithm of a value. If no base is provided, the natural logarithm of x is calculated. If base if provided, the logarithm is calculated for the specified base. log(x, base) is defined as log(x) / log(base).",examples:["log(3.5)","a = log(2.4)","exp(a)","10 ^ 4","log(10000, 10)","log(10000) / log(10)","b = log(1024, 2)","2 ^ b"],seealso:["exp","log10"]}},function(t,e){t.exports={name:"log10",category:"Arithmetic",syntax:["log10(x)"],description:"Compute the 10-base logarithm of a value.",examples:["log10(0.00001)","log10(10000)","10 ^ 4","log(10000) / log(10)","log(10000, 10)"],seealso:["exp","log"]}},function(t,e){t.exports={name:"mod",category:"Operators",syntax:["x % y","x mod y","mod(x, y)"],description:"Calculates the modulus, the remainder of an integer division.",examples:["7 % 3","11 % 2","10 mod 4","function isOdd(x) = x % 2","isOdd(2)","isOdd(3)"],seealso:["divide"]}},function(t,e){t.exports={name:"multiply",category:"Operators",syntax:["x * y","multiply(x, y)"],description:"multiply two values.",examples:["a = 2.1 * 3.4","a / 3.4","2 * 3 + 4","2 * (3 + 4)","3 * 2.1 km"],seealso:["divide"]}},function(t,e){t.exports={name:"norm",category:"Arithmetic",syntax:["norm(x)","norm(x, p)"],description:"Calculate the norm of a number, vector or matrix.",examples:["abs(-3.5)","norm(-3.5)","norm(3 - 4i))","norm([1, 2, -3], Infinity)","norm([1, 2, -3], -Infinity)","norm([3, 4], 2)","norm([[1, 2], [3, 4]], 1)","norm([[1, 2], [3, 4]], 'inf')","norm([[1, 2], [3, 4]], 'fro')"]}},function(t,e){t.exports={name:"nthRoot",category:"Arithmetic",syntax:["nthRoot(a)","nthRoot(a, root)"],description:'Calculate the nth root of a value. The principal nth root of a positive real number A, is the positive real solution of the equation "x^root = A".',examples:["4 ^ 3","nthRoot(64, 3)","nthRoot(9, 2)","sqrt(9)"],seealso:["sqrt","pow"]}},function(t,e){t.exports={name:"pow",category:"Operators",syntax:["x ^ y","pow(x, y)"],description:"Calculates the power of x to y, x^y.",examples:["2^3 = 8","2*2*2","1 + e ^ (pi * i)"],seealso:["multiply"]}},function(t,e){t.exports={name:"round",category:"Arithmetic",syntax:["round(x)","round(x, n)"],description:"round a value towards the nearest integer.If x is complex, both real and imaginary part are rounded towards the nearest integer. When n is specified, the value is rounded to n decimals.",examples:["round(3.2)","round(3.8)","round(-4.2)","round(-4.8)","round(pi, 3)","round(123.45678, 2)"],seealso:["ceil","floor","fix"]}},function(t,e){t.exports={name:"sign",category:"Arithmetic",syntax:["sign(x)"],description:"Compute the sign of a value. The sign of a value x is 1 when x>1, -1 when x<0, and 0 when x=0.",examples:["sign(3.5)","sign(-4.2)","sign(0)"],seealso:["abs"]}},function(t,e){t.exports={name:"sqrt",category:"Arithmetic",syntax:["sqrt(x)"],description:"Compute the square root value. If x = y * y, then y is the square root of x.",examples:["sqrt(25)","5 * 5","sqrt(-1)"],seealso:["square","multiply"]}},function(t,e){t.exports={name:"square",category:"Arithmetic",syntax:["square(x)"],description:"Compute the square of a value. The square of x is x * x.",examples:["square(3)","sqrt(9)","3^2","3 * 3"],seealso:["multiply","pow","sqrt","cube"]}},function(t,e){t.exports={name:"subtract",category:"Operators",syntax:["x - y","subtract(x, y)"],description:"subtract two values.",examples:["a = 5.3 - 2","a + 2","2/3 - 1/6","2 * 3 - 3","2.1 km - 500m"],seealso:["add"]}},function(t,e){t.exports={name:"unaryMinus",category:"Operators",syntax:["-x","unaryMinus(x)"],description:"Inverse the sign of a value. Converts booleans and strings to numbers.",examples:["-4.5","-(-5.6)",'-"22"'],seealso:["add","subtract","unaryPlus"]}},function(t,e){t.exports={name:"unaryPlus",category:"Operators",syntax:["+x","unaryPlus(x)"],description:"Converts booleans and strings to numbers.",examples:["+true",'+"2"'],seealso:["add","subtract","unaryMinus"]}},function(t,e){t.exports={name:"xgcd",category:"Arithmetic",syntax:["xgcd(a, b)"],description:"Calculate the extended greatest common divisor for two values",examples:["xgcd(8, 12)","gcd(8, 12)","xgcd(36163, 21199)"],seealso:["gcd","lcm"]}},function(t,e){t.exports={name:"bitAnd",category:"Bitwise",syntax:["x & y","bitAnd(x, y)"],description:"Bitwise AND operation. Performs the logical AND operation on each pair of the corresponding bits of the two given values by multiplying them. If both bits in the compared position are 1, the bit in the resulting binary representation is 1, otherwise, the result is 0",examples:["5 & 3","bitAnd(53, 131)","[1, 12, 31] & 42"],seealso:["bitNot","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]}},function(t,e){t.exports={name:"bitNot",category:"Bitwise",syntax:["~x","bitNot(x)"],description:"Bitwise NOT operation. Performs a logical negation on each bit of the given value. Bits that are 0 become 1, and those that are 1 become 0.",examples:["~1","~2","bitNot([2, -3, 4])"],seealso:["bitAnd","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]}},function(t,e){t.exports={name:"bitOr",category:"Bitwise",syntax:["x | y","bitOr(x, y)"],description:"Bitwise OR operation. Performs the logical inclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if the first bit is 1 or the second bit is 1 or both bits are 1, otherwise, the result is 0.",examples:["5 | 3","bitOr([1, 2, 3], 4)"],seealso:["bitAnd","bitNot","bitXor","leftShift","rightArithShift","rightLogShift"]}},function(t,e){t.exports={name:"bitXor",category:"Bitwise",syntax:["bitXor(x, y)"],description:"Bitwise XOR operation, exclusive OR. Performs the logical exclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if only the first bit is 1 or only the second bit is 1, but will be 0 if both are 0 or both are 1.",examples:["bitOr(1, 2)","bitXor([2, 3, 4], 4)"],seealso:["bitAnd","bitNot","bitOr","leftShift","rightArithShift","rightLogShift"]}},function(t,e){t.exports={name:"leftShift",category:"Bitwise",syntax:["x << y","leftShift(x, y)"],description:"Bitwise left logical shift of a value x by y number of bits.",examples:["4 << 1","8 >> 1"],seealso:["bitAnd","bitNot","bitOr","bitXor","rightArithShift","rightLogShift"]}},function(t,e){t.exports={name:"rightArithShift",category:"Bitwise",syntax:["x >> y","leftShift(x, y)"],description:"Bitwise right arithmetic shift of a value x by y number of bits.",examples:["8 >> 1","4 << 1","-12 >> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightLogShift"]}},function(t,e){t.exports={name:"rightLogShift",category:"Bitwise",syntax:["x >> y","leftShift(x, y)"],description:"Bitwise right logical shift of a value x by y number of bits.",examples:["8 >>> 1","4 << 1","-12 >>> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightArithShift"]}},function(t,e){t.exports={name:"bellNumbers",category:"Combinatorics",syntax:["bellNumbers(n)"],description:"The Bell Numbers count the number of partitions of a set. A partition is a pairwise disjoint subset of S whose union is S. `bellNumbers` only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["bellNumbers(3)","bellNumbers(8)"],seealso:["stirlingS2"]}},function(t,e){t.exports={name:"catalan",category:"Combinatorics",syntax:["catalan(n)"],description:"The Catalan Numbers enumerate combinatorial structures of many different types. catalan only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["catalan(3)","catalan(8)"],seealso:["bellNumbers"]}},function(t,e){t.exports={name:"composition",category:"Combinatorics",syntax:["composition(n, k)"],description:"The composition counts of n into k parts. composition only takes integer arguments. The following condition must be enforced: k <= n.",examples:["composition(5, 3)"],seealso:["combinations"]}},function(t,e){t.exports={name:"stirlingS2",category:"Combinatorics",syntax:["stirlingS2(n, k)"],description:"he Stirling numbers of the second kind, counts the number of ways to partition a set of n labelled objects into k nonempty unlabelled subsets. `stirlingS2` only takes integer arguments. The following condition must be enforced: k <= n. If n = k or k = 1, then s(n,k) = 1.",examples:["stirlingS2(5, 3)"],seealso:["bellNumbers"]}},function(t,e){t.exports={name:"arg",category:"Complex",syntax:["arg(x)"],description:"Compute the argument of a complex value. If x = a+bi, the argument is computed as atan2(b, a).",examples:["arg(2 + 2i)","atan2(3, 2)","arg(2 + 3i)"],seealso:["re","im","conj","abs"]}},function(t,e){t.exports={name:"conj",category:"Complex",syntax:["conj(x)"],description:"Compute the complex conjugate of a complex value. If x = a+bi, the complex conjugate is a-bi.",examples:["conj(2 + 3i)","conj(2 - 3i)","conj(-5.2i)"],seealso:["re","im","abs","arg"]}},function(t,e){t.exports={name:"im",category:"Complex",syntax:["im(x)"],description:"Get the imaginary part of a complex number.",examples:["im(2 + 3i)","re(2 + 3i)","im(-5.2i)","im(2.4)"],seealso:["re","conj","abs","arg"]}},function(t,e){t.exports={name:"re",category:"Complex",syntax:["re(x)"],description:"Get the real part of a complex number.",examples:["re(2 + 3i)","im(2 + 3i)","re(-5.2i)","re(2.4)"],seealso:["im","conj","abs","arg"]}},function(t,e){t.exports={name:"eval",category:"Expression",syntax:["eval(expression)","eval([expr1, expr2, expr3, ...])"],description:"Evaluate an expression or an array with expressions.",examples:['eval("2 + 3")','eval("sqrt(" + 4 + ")")'],seealso:[]}},function(t,e){t.exports={name:"help",category:"Expression",syntax:["help(object)","help(string)"],description:"Display documentation on a function or data type.",examples:["help(sqrt)",'help("complex")'],seealso:[]}},function(t,e){t.exports={name:"distance",category:"Geometry",syntax:["distance([x1, y1], [x2, y2])","distance([[x1, y1], [x2, y2])"],description:"Calculates the Euclidean distance between two points.",examples:["distance([0,0], [4,4])","distance([[0,0], [4,4]])"],seealso:[]}},function(t,e){t.exports={name:"intersect",category:"Geometry",syntax:["intersect(expr1, expr2, expr3, expr4)","intersect(expr1, expr2, expr3)"],description:"Computes the intersection point of lines and/or planes.",examples:["intersect([0, 0], [10, 10], [10, 0], [0, 10])","intersect([1, 0, 1],  [4, -2, 2], [1, 1, 1, 6])"],seealso:[]}},function(t,e){t.exports={name:"and",category:"Logical",syntax:["x and y","and(x, y)"],description:"Logical and. Test whether two values are both defined with a nonzero/nonempty value.",examples:["true and false","true and true","2 and 4"],seealso:["not","or","xor"]}},function(t,e){t.exports={name:"not",category:"Logical",syntax:["not x","not(x)"],description:"Logical not. Flips the boolean value of given argument.",examples:["not true","not false","not 2","not 0"],seealso:["and","or","xor"]}},function(t,e){t.exports={name:"or",category:"Logical",syntax:["x or y","or(x, y)"],description:"Logical or. Test if at least one value is defined with a nonzero/nonempty value.",examples:["true or false","false or false","0 or 4"],seealso:["not","and","xor"]}},function(t,e){t.exports={name:"xor",category:"Logical",syntax:["x or y","or(x, y)"],description:"Logical exclusive or, xor. Test whether one and only one value is defined with a nonzero/nonempty value.",examples:["true xor false","false xor false","true xor true","0 or 4"],seealso:["not","and","or"]}},function(t,e){t.exports={name:"concat",category:"Matrix",syntax:["concat(A, B, C, ...)","concat(A, B, C, ..., dim)"],description:"Concatenate matrices. By default, the matrices are concatenated by the last dimension. The dimension on which to concatenate can be provided as last argument.",examples:["A = [1, 2; 5, 6]","B = [3, 4; 7, 8]","concat(A, B)","concat(A, B, 1)","concat(A, B, 2)"],seealso:["det","diag","eye","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]}},function(t,e){t.exports={name:"cross",category:"Matrix",syntax:["cross(A, B)"],description:"Calculate the cross product for two vectors in three dimensional space.",examples:["cross([1, 1, 0],  [0, 1, 1])","cross([3, -3, 1], [4, 9, 2])","cross([2, 3, 4],  [5, 6, 7])"],seealso:["multiply","dot"]}},function(t,e){t.exports={name:"det",category:"Matrix",syntax:["det(x)"],description:"Calculate the determinant of a matrix",examples:["det([1, 2; 3, 4])","det([-2, 2, 3; -1, 1, 3; 2, 0, -1])"],seealso:["concat","diag","eye","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]}},function(t,e){t.exports={name:"diag",category:"Matrix",syntax:["diag(x)","diag(x, k)"],description:"Create a diagonal matrix or retrieve the diagonal of a matrix. When x is a vector, a matrix with the vector values on the diagonal will be returned. When x is a matrix, a vector with the diagonal values of the matrix is returned. When k is provided, the k-th diagonal will be filled in or retrieved, if k is positive, the values are placed on the super diagonal. When k is negative, the values are placed on the sub diagonal.",examples:["diag(1:3)","diag(1:3, 1)","a = [1, 2, 3; 4, 5, 6; 7, 8, 9]","diag(a)"],seealso:["concat","det","eye","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]}},function(t,e){t.exports={name:"dot",category:"Matrix",syntax:["dot(A, B)"],description:"Calculate the dot product of two vectors. The dot product of A = [a1, a2, a3, ..., an] and B = [b1, b2, b3, ..., bn] is defined as dot(A, B) = a1 * b1 + a2 * b2 + a3 * b3 + ... + an * bn",examples:["dot([2, 4, 1], [2, 2, 3])","[2, 4, 1] * [2, 2, 3]"],seealso:["multiply","cross"]}},function(t,e){t.exports={name:"eye",category:"Matrix",syntax:["eye(n)","eye(m, n)","eye([m, n])","eye"],description:"Returns the identity matrix with size m-by-n. The matrix has ones on the diagonal and zeros elsewhere.",examples:["eye(3)","eye(3, 5)","a = [1, 2, 3; 4, 5, 6]","eye(size(a))"],seealso:["concat","det","diag","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]}},function(t,e){t.exports={name:"filter",category:"Matrix",syntax:["filter(x, test)"],description:"Filter items in a matrix.",examples:["isPositive(x) = x > 0","filter([6, -2, -1, 4, 3], isPositive)","filter([6, -2, 0, 1, 0], x != 0)"],seealso:["sort","map","forEach"]}},function(t,e){t.exports={name:"flatten",category:"Matrix",syntax:["flatten(x)"],description:"Flatten a multi dimensional matrix into a single dimensional matrix.",examples:["a = [1, 2, 3; 4, 5, 6]","size(a)","b = flatten(a)","size(b)"],seealso:["concat","resize","size","squeeze"]}},function(t,e){t.exports={name:"forEach",category:"Matrix",syntax:["forEach(x, callback)"],description:"Iterates over all elements of a matrix/array, and executes the given callback function.",examples:["forEach([1, 2, 3], function(val) { console.log(val) })"],seealso:["map","sort","filter"]}},function(t,e){t.exports={name:"inv",category:"Matrix",syntax:["inv(x)"],description:"Calculate the inverse of a matrix",examples:["inv([1, 2; 3, 4])","inv(4)","1 / 4"],seealso:["concat","det","diag","eye","ones","range","size","squeeze","subset","trace","transpose","zeros"]}},function(t,e){t.exports={name:"kron",category:"Matrix",syntax:["math.kron(x, y)"],description:"Calculates the kronecker product of 2 matrices or vectors.",examples:["kron([[1, 0], [0, 1]], [[1, 2], [3, 4]])","kron([1,1], [2,3,4])"],seealso:["multiply","dot","cross"]}},function(t,e){t.exports={name:"map",category:"Matrix",syntax:["map(x, callback)"],description:"Create a new matrix or array with the results of the callback function executed on each entry of the matrix/array.",examples:["map([1, 2, 3], function(val) { return value * value })"],seealso:["filter","forEach"]}},function(t,e){t.exports={name:"ones",category:"Matrix",syntax:["ones(m)","ones(m, n)","ones(m, n, p, ...)","ones([m])","ones([m, n])","ones([m, n, p, ...])","ones"],description:"Create a matrix containing ones.",examples:["ones(3)","ones(3, 5)","ones([2,3]) * 4.5","a = [1, 2, 3; 4, 5, 6]","ones(size(a))"],seealso:["concat","det","diag","eye","inv","range","size","squeeze","subset","trace","transpose","zeros"]}},function(t,e){t.exports={name:"partitionSelect",category:"Matrix",syntax:["partitionSelect(x, k)","partitionSelect(x, k, compare)"],description:"Partition-based selection of an array or 1D matrix. Will find the kth smallest value, and mutates the input array. Uses Quickselect.",examples:["partitionSelect([5, 10, 1], 2)",'partitionSelect(["C", "B", "A", "D"], 1)'],seealso:["sort"]}},function(t,e){t.exports={name:"range",category:"Type",syntax:["start:end","start:step:end","range(start, end)","range(start, end, step)","range(string)"],description:"Create a range. Lower bound of the range is included, upper bound is excluded.",examples:["1:5","3:-1:-3","range(3, 7)","range(0, 12, 2)",'range("4:10")',"a = [1, 2, 3, 4; 5, 6, 7, 8]","a[1:2, 1:2]"],seealso:["concat","det","diag","eye","inv","ones","size","squeeze","subset","trace","transpose","zeros"]}},function(t,e){t.exports={name:"reshape",category:"Matrix",syntax:["reshape(x, sizes)"],description:"Reshape a multi dimensional array to fit the specified dimensions.",examples:["reshape([1, 2, 3, 4, 5, 6], [2, 3])","reshape([[1, 2], [3, 4]], [1, 4])","reshape([[1, 2], [3, 4]], [4])"],seealso:["size","squeeze","resize"]}},function(t,e){t.exports={name:"resize",category:"Matrix",syntax:["resize(x, size)","resize(x, size, defaultValue)"],description:"Resize a matrix.",examples:["resize([1,2,3,4,5], [3])","resize([1,2,3], [5])","resize([1,2,3], [5], -1)","resize(2, [2, 3])",'resize("hello", [8], "!")'],seealso:["size","subset","squeeze","reshape"]}},function(t,e){t.exports={name:"size",category:"Matrix",syntax:["size(x)"],description:"Calculate the size of a matrix.",examples:["size(2.3)",'size("hello world")',"a = [1, 2; 3, 4; 5, 6]","size(a)","size(1:6)"],seealso:["concat","det","diag","eye","inv","ones","range","squeeze","subset","trace","transpose","zeros"]}},function(t,e){t.exports={name:"sort",category:"Matrix",syntax:["sort(x)","sort(x, compare)"],description:'Sort the items in a matrix. Compare can be a string "asc" or "desc", or a custom sort function.',examples:["sort([5, 10, 1])",'sort(["C", "B", "A", "D"])',"sortByLength(a, b) = size(a)[1] - size(b)[1]",'sort(["Langdon", "Tom", "Sara"], sortByLength)'],seealso:["map","filter","forEach"]}},function(t,e){t.exports={name:"squeeze",category:"Matrix",syntax:["squeeze(x)"],description:"Remove inner and outer singleton dimensions from a matrix.",examples:["a = zeros(3,2,1)","size(squeeze(a))","b = zeros(1,1,3)","size(squeeze(b))"],seealso:["concat","det","diag","eye","inv","ones","range","size","subset","trace","transpose","zeros"]}},function(t,e){t.exports={name:"subset",category:"Matrix",syntax:["value(index)","value(index) = replacement","subset(value, [index])","subset(value, [index], replacement)"],description:"Get or set a subset of a matrix or string. Indexes are one-based. Both the ranges lower-bound and upper-bound are included.",examples:["d = [1, 2; 3, 4]","e = []","e[1, 1:2] = [5, 6]","e[2, :] = [7, 8]","f = d * e","f[2, 1]","f[:, 1]"],seealso:["concat","det","diag","eye","inv","ones","range","size","squeeze","trace","transpose","zeros"]}},function(t,e){t.exports={name:"trace",category:"Matrix",syntax:["trace(A)"],description:"Calculate the trace of a matrix: the sum of the elements on the main diagonal of a square matrix.",examples:["A = [1, 2, 3; -1, 2, 3; 2, 0, 3]","trace(A)"],seealso:["concat","det","diag","eye","inv","ones","range","size","squeeze","subset","transpose","zeros"]}},function(t,e){t.exports={name:"transpose",category:"Matrix",syntax:["x'","transpose(x)"],description:"Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","transpose(a)"],seealso:["concat","det","diag","eye","inv","ones","range","size","squeeze","subset","trace","zeros"]}},function(t,e){t.exports={name:"zeros",category:"Matrix",syntax:["zeros(m)","zeros(m, n)","zeros(m, n, p, ...)","zeros([m])","zeros([m, n])","zeros([m, n, p, ...])","zeros"],description:"Create a matrix containing zeros.",examples:["zeros(3)","zeros(3, 5)","a = [1, 2, 3; 4, 5, 6]","zeros(size(a))"],seealso:["concat","det","diag","eye","inv","ones","range","size","squeeze","subset","trace","transpose"]}},function(t,e){t.exports={name:"combinations",category:"Probability",syntax:["combinations(n, k)"],description:"Compute the number of combinations of n items taken k at a time",examples:["combinations(7, 5)"],seealso:["permutations","factorial"]}},function(t,e){t.exports={name:"factorial",category:"Probability",syntax:["kldivergence(x, y)"],description:"Compute the factorial of a value",examples:["5!","5 * 4 * 3 * 2 * 1","3!"],seealso:["combinations","permutations","gamma"]}},function(t,e){t.exports={name:"gamma",category:"Probability",syntax:["gamma(n)"],description:"Compute the gamma function. For small values, the Lanczos approximation is used, and for large values the extended Stirling approximation.",examples:["gamma(4)","3!","gamma(1/2)","sqrt(pi)"],seealso:["factorial"]}},function(t,e){t.exports={name:"kldivergence",category:"Probability",syntax:["n!","factorial(n)"],description:"Calculate the Kullback-Leibler (KL) divergence  between two distributions.",examples:["math.kldivergence([0.7,0.5,0.4], [0.2,0.9,0.5])"],seealso:[]}},function(t,e){t.exports={name:"multinomial",category:"Probability",syntax:["multinomial(A)"],description:"Multinomial Coefficients compute the number of ways of picking a1, a2, ..., ai unordered outcomes from `n` possibilities. multinomial takes one array of integers as an argument. The following condition must be enforced: every ai <= 0.",examples:["multinomial([1, 2, 1])"],seealso:["combinations","factorial"]}},function(t,e){t.exports={name:"permutations",category:"Probability",syntax:["permutations(n)","permutations(n, k)"],description:"Compute the number of permutations of n items taken k at a time",examples:["permutations(5)","permutations(5, 3)"],seealso:["combinations","factorial"]}},function(t,e){t.exports={name:"pickRandom",category:"Probability",syntax:["pickRandom(array)","pickRandom(array, number)","pickRandom(array, weights)","pickRandom(array, number, weights)","pickRandom(array, weights, number)"],description:"Pick a random entry from a given array.",examples:["pickRandom(0:10)","pickRandom([1, 3, 1, 6])","pickRandom([1, 3, 1, 6], 2)","pickRandom([1, 3, 1, 6], [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], 2, [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], [2, 3, 2, 1], 2)"],seealso:["random","randomInt"]}},function(t,e){t.exports={name:"random",category:"Probability",syntax:["random()","random(max)","random(min, max)","random(size)","random(size, max)","random(size, min, max)"],description:"Return a random number.",examples:["random()","random(10, 20)","random([2, 3])"],seealso:["pickRandom","randomInt"]}},function(t,e){t.exports={name:"randInt",category:"Probability",syntax:["randInt(max)","randInt(min, max)","randInt(size)","randInt(size, max)","randInt(size, min, max)"],description:"Return a random integer number",examples:["randInt(10, 20)","randInt([2, 3], 10)"],seealso:["pickRandom","random"]}},function(t,e){t.exports={name:"compare",category:"Relational",syntax:["compare(x, y)"],description:"Compare two values. Returns 1 if x is larger than y, -1 if x is smaller than y, and 0 if x and y are equal.",examples:["compare(2, 3)","compare(3, 2)","compare(2, 2)","compare(5cm, 40mm)","compare(2, [1, 2, 3])"],seealso:["equal","unequal","smaller","smallerEq","largerEq"]}},function(t,e){t.exports={name:"deepEqual",category:"Relational",syntax:["deepEqual(x, y)"],description:"Check equality of two matrices element wise. Returns true if the size of both matrices is equal and when and each of the elements are equal.",examples:["[1,3,4] == [1,3,4]","[1,3,4] == [1,3]"],seealso:["equal","unequal","smaller","larger","smallerEq","largerEq","compare"]}},function(t,e){t.exports={name:"equal",category:"Relational",syntax:["x == y","equal(x, y)"],description:"Check equality of two values. Returns true if the values are equal, and false if not.",examples:["2+2 == 3","2+2 == 4","a = 3.2","b = 6-2.8","a == b","50cm == 0.5m"],seealso:["unequal","smaller","larger","smallerEq","largerEq","compare","deepEqual"]}},function(t,e){t.exports={name:"larger",category:"Relational",syntax:["x > y","larger(x, y)"],description:"Check if value x is larger than y. Returns true if x is larger than y, and false if not.",examples:["2 > 3","5 > 2*2","a = 3.3","b = 6-2.8","(a > b)","(b < a)","5 cm > 2 inch"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare"]}},function(t,e){t.exports={name:"largerEq",category:"Relational",syntax:["x >= y","largerEq(x, y)"],description:"Check if value x is larger or equal to y. Returns true if x is larger or equal to y, and false if not.",examples:["2 > 1+1","2 >= 1+1","a = 3.2","b = 6-2.8","(a > b)"],seealso:["equal","unequal","smallerEq","smaller","largerEq","compare"]}},function(t,e){t.exports={name:"smaller",category:"Relational",syntax:["x < y","smaller(x, y)"],description:"Check if value x is smaller than value y. Returns true if x is smaller than y, and false if not.",examples:["2 < 3","5 < 2*2","a = 3.3","b = 6-2.8","(a < b)","5 cm < 2 inch"],seealso:["equal","unequal","larger","smallerEq","largerEq","compare"]}},function(t,e){t.exports={name:"smallerEq",category:"Relational",syntax:["x <= y","smallerEq(x, y)"],description:"Check if value x is smaller or equal to value y. Returns true if x is smaller than y, and false if not.",examples:["2 < 1+1","2 <= 1+1","a = 3.2","b = 6-2.8","(a < b)"],seealso:["equal","unequal","larger","smaller","largerEq","compare"]}},function(t,e){t.exports={name:"unequal",category:"Relational",syntax:["x != y","unequal(x, y)"],description:"Check unequality of two values. Returns true if the values are unequal, and false if they are equal.",examples:["2+2 != 3","2+2 != 4","a = 3.2","b = 6-2.8","a != b","50cm != 0.5m","5 cm != 2 inch"],seealso:["equal","smaller","larger","smallerEq","largerEq","compare","deepEqual"]}},function(t,e){t.exports={name:"erf",category:"Special",syntax:["erf(x)"],description:"Compute the erf function of a value using a rational Chebyshev approximations for different intervals of x",examples:["erf(0.2)","erf(-0.5)","erf(4)"],seealso:[]}},function(t,e){t.exports={name:"mad",category:"Statistics",syntax:["mad(a, b, c, ...)","mad(A)"],description:"Compute the median absolute deviation of a matrix or a list with values. The median absolute deviation is defined as the median of the absolute deviations from the median.",examples:["mad(10, 20, 30)","mad([1, 2, 3])","mad(10, 20, 30)"],seealso:["mean","median","std","abs"]}},function(t,e){t.exports={name:"max",category:"Statistics",syntax:["max(a, b, c, ...)","max(A)","max(A, dim)"],description:"Compute the maximum value of a list of values.",examples:["max(2, 3, 4, 1)","max([2, 3, 4, 1])","max([2, 5; 4, 3])","max([2, 5; 4, 3], 1)","max([2, 5; 4, 3], 2)","max(2.7, 7.1, -4.5, 2.0, 4.1)","min(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["mean","median","min","prod","std","sum","var"]}},function(t,e){t.exports={name:"mean",category:"Statistics",syntax:["mean(a, b, c, ...)","mean(A)","mean(A, dim)"],description:"Compute the arithmetic mean of a list of values.",examples:["mean(2, 3, 4, 1)","mean([2, 3, 4, 1])","mean([2, 5; 4, 3])","mean([2, 5; 4, 3], 1)","mean([2, 5; 4, 3], 2)","mean([1.0, 2.7, 3.2, 4.0])"],seealso:["max","median","min","prod","std","sum","var"]}},function(t,e){t.exports={name:"median",category:"Statistics",syntax:["median(a, b, c, ...)","median(A)"],description:"Compute the median of all values. The values are sorted and the middle value is returned. In case of an even number of values, the average of the two middle values is returned.",examples:["median(5, 2, 7)","median([3, -1, 5, 7])"],seealso:["max","mean","min","prod","std","sum","var","quantileSeq"]}},function(t,e){t.exports={name:"min",category:"Statistics",syntax:["min(a, b, c, ...)","min(A)","min(A, dim)"],description:"Compute the minimum value of a list of values.",examples:["min(2, 3, 4, 1)","min([2, 3, 4, 1])","min([2, 5; 4, 3])","min([2, 5; 4, 3], 1)","min([2, 5; 4, 3], 2)","min(2.7, 7.1, -4.5, 2.0, 4.1)","max(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["max","mean","median","prod","std","sum","var"]}},function(t,e){t.exports={name:"mode",category:"Statistics",syntax:["mode(a, b, c, ...)","mode(A)","mode(A, a, b, B, c, ...)"],description:"Computes the mode of all values as an array. In case mode being more than one, multiple values are returned in an array.",examples:["mode(5, 2, 7)","mode([3, -1, 5, 7])"],seealso:["max","mean","min","median","prod","std","sum","var"]}},function(t,e){t.exports={name:"prod",category:"Statistics",syntax:["prod(a, b, c, ...)","prod(A)"],description:"Compute the product of all values.",examples:["prod(2, 3, 4)","prod([2, 3, 4])","prod([2, 5; 4, 3])"],seealso:["max","mean","min","median","min","std","sum","var"]}},function(t,e){t.exports={name:"quantileSeq",category:"Statistics",syntax:["quantileSeq(A, prob[, sorted])","quantileSeq(A, [prob1, prob2, ...][, sorted])","quantileSeq(A, N[, sorted])"],description:"Compute the prob order quantile of a matrix or a list with values. The sequence is sorted and the middle value is returned. Supported types of sequence values are: Number, BigNumber, Unit Supported types of probablity are: Number, BigNumber. \n\nIn case of a (multi dimensional) array or matrix, the prob order quantile of all elements will be calculated.",examples:["quantileSeq([3, -1, 5, 7], 0.5)","quantileSeq([3, -1, 5, 7], [1/3, 2/3])","quantileSeq([3, -1, 5, 7], 2)","quantileSeq([-1, 3, 5, 7], 0.5, true)"],seealso:["mean","median","min","max","prod","std","sum","var"]}},function(t,e){t.exports={name:"std",category:"Statistics",syntax:["std(a, b, c, ...)","std(A)","std(A, normalization)"],description:'Compute the standard deviation of all values, defined as std(A) = sqrt(var(A)). Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["std(2, 4, 6)","std([2, 4, 6, 8])",'std([2, 4, 6, 8], "uncorrected")','std([2, 4, 6, 8], "biased")',"std([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","min","prod","sum","var"]}},function(t,e){t.exports={name:"sum",category:"Statistics",syntax:["sum(a, b, c, ...)","sum(A)"],description:"Compute the sum of all values.",examples:["sum(2, 3, 4, 1)","sum([2, 3, 4, 1])","sum([2, 5; 4, 3])"],seealso:["max","mean","median","min","prod","std","sum","var"]}},function(t,e){t.exports={name:"var",category:"Statistics",syntax:["var(a, b, c, ...)","var(A)","var(A, normalization)"],description:'Compute the variance of all values. Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["var(2, 4, 6)","var([2, 4, 6, 8])",'var([2, 4, 6, 8], "uncorrected")','var([2, 4, 6, 8], "biased")',"var([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","min","prod","std","sum"]}},function(t,e){t.exports={name:"acos",category:"Trigonometry",syntax:["acos(x)"],description:"Compute the inverse cosine of a value in radians.",examples:["acos(0.5)","acos(cos(2.3))"],seealso:["cos","atan","asin"]}},function(t,e){t.exports={name:"acosh",category:"Trigonometry",syntax:["acosh(x)"],description:"Calculate the hyperbolic arccos of a value, defined as `acosh(x) = ln(sqrt(x^2 - 1) + x)`.",examples:["acosh(1.5)"],seealso:["cosh","asinh","atanh"]}},function(t,e){t.exports={name:"acot",category:"Trigonometry",syntax:["acot(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acot(0.5)","acot(cot(0.5))","acot(2)"],seealso:["cot","atan"]}},function(t,e){t.exports={name:"acoth",category:"Trigonometry",syntax:["acoth(x)"],description:"Calculate the hyperbolic arccotangent of a value, defined as `acoth(x) = (ln((x+1)/x) + ln(x/(x-1))) / 2`.",examples:["acoth(0.5)"],seealso:["acsch","asech"]}},function(t,e){t.exports={name:"acsc",category:"Trigonometry",syntax:["acsc(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acsc(0.5)","acsc(csc(0.5))","acsc(2)"],seealso:["csc","asin","asec"]}},function(t,e){t.exports={name:"acsch",category:"Trigonometry",syntax:["acsch(x)"],description:"Calculate the hyperbolic arccosecant of a value, defined as `acsch(x) = ln(1/x + sqrt(1/x^2 + 1))`.",examples:["acsch(0.5)"],seealso:["asech","acoth"]}},function(t,e){t.exports={name:"asec",category:"Trigonometry",syntax:["asec(x)"],description:"Calculate the inverse secant of a value.",examples:["asec(0.5)","asec(sec(0.5))","asec(2)"],seealso:["acos","acot","acsc"]}},function(t,e){t.exports={name:"asech",category:"Trigonometry",syntax:["asech(x)"],description:"Calculate the inverse secant of a value.",examples:["asech(0.5)"],seealso:["acsch","acoth"]}},function(t,e){t.exports={name:"asin",category:"Trigonometry",syntax:["asin(x)"],description:"Compute the inverse sine of a value in radians.",examples:["asin(0.5)","asin(sin(2.3))"],seealso:["sin","acos","atan"]}},function(t,e){t.exports={name:"asinh",category:"Trigonometry",syntax:["asinh(x)"],description:"Calculate the hyperbolic arcsine of a value, defined as `asinh(x) = ln(x + sqrt(x^2 + 1))`.",examples:["asinh(0.5)"],seealso:["acosh","atanh"]}},function(t,e){t.exports={name:"atan",category:"Trigonometry",syntax:["atan(x)"],description:"Compute the inverse tangent of a value in radians.",examples:["atan(0.5)","atan(tan(2.3))"],seealso:["tan","acos","asin"]}},function(t,e){t.exports={name:"atan2",category:"Trigonometry",syntax:["atan2(y, x)"],description:"Computes the principal value of the arc tangent of y/x in radians.",examples:["atan2(2, 2) / pi","angle = 60 deg in rad","x = cos(angle)","y = sin(angle)","atan2(y, x)"],seealso:["sin","cos","tan"]}},function(t,e){t.exports={name:"atanh",category:"Trigonometry",syntax:["atanh(x)"],description:"Calculate the hyperbolic arctangent of a value, defined as `atanh(x) = ln((1 + x)/(1 - x)) / 2`.",examples:["atanh(0.5)"],seealso:["acosh","asinh"]}},function(t,e){t.exports={name:"cos",category:"Trigonometry",syntax:["cos(x)"],description:"Compute the cosine of x in radians.",examples:["cos(2)","cos(pi / 4) ^ 2","cos(180 deg)","cos(60 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["acos","sin","tan"]}},function(t,e){t.exports={name:"cosh",category:"Trigonometry",syntax:["cosh(x)"],description:"Compute the hyperbolic cosine of x in radians.",examples:["cosh(0.5)"],seealso:["sinh","tanh","coth"]}},function(t,e){t.exports={name:"cot",category:"Trigonometry",syntax:["cot(x)"],description:"Compute the cotangent of x in radians. Defined as 1/tan(x)",examples:["cot(2)","1 / tan(2)"],seealso:["sec","csc","tan"]}},function(t,e){t.exports={name:"coth",category:"Trigonometry",syntax:["coth(x)"],description:"Compute the hyperbolic cotangent of x in radians.",examples:["coth(2)","1 / tanh(2)"],seealso:["sech","csch","tanh"]}},function(t,e){t.exports={name:"csc",category:"Trigonometry",syntax:["csc(x)"],description:"Compute the cosecant of x in radians. Defined as 1/sin(x)",examples:["csc(2)","1 / sin(2)"],seealso:["sec","cot","sin"]}},function(t,e){t.exports={name:"csch",category:"Trigonometry",syntax:["csch(x)"],description:"Compute the hyperbolic cosecant of x in radians. Defined as 1/sinh(x)",examples:["csch(2)","1 / sinh(2)"],seealso:["sech","coth","sinh"]}},function(t,e){t.exports={name:"sec",category:"Trigonometry",syntax:["sec(x)"],description:"Compute the secant of x in radians. Defined as 1/cos(x)",examples:["sec(2)","1 / cos(2)"],seealso:["cot","csc","cos"]}},function(t,e){t.exports={name:"sech",category:"Trigonometry",syntax:["sech(x)"],description:"Compute the hyperbolic secant of x in radians. Defined as 1/cosh(x)",examples:["sech(2)","1 / cosh(2)"],seealso:["coth","csch","cosh"]}},function(t,e){t.exports={name:"sin",category:"Trigonometry",syntax:["sin(x)"],description:"Compute the sine of x in radians.",examples:["sin(2)","sin(pi / 4) ^ 2","sin(90 deg)","sin(30 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["asin","cos","tan"]}},function(t,e){t.exports={name:"sinh",category:"Trigonometry",syntax:["sinh(x)"],description:"Compute the hyperbolic sine of x in radians.",examples:["sinh(0.5)"],seealso:["cosh","tanh"]}},function(t,e){t.exports={name:"tan",category:"Trigonometry",syntax:["tan(x)"],description:"Compute the tangent of x in radians.",examples:["tan(0.5)","sin(0.5) / cos(0.5)","tan(pi / 4)","tan(45 deg)"],seealso:["atan","sin","cos"]}},function(t,e){t.exports={name:"tanh",category:"Trigonometry",syntax:["tanh(x)"],description:"Compute the hyperbolic tangent of x in radians.",examples:["tanh(0.5)","sinh(0.5) / cosh(0.5)"],seealso:["sinh","cosh"]}},function(t,e){t.exports={name:"to",category:"Units",syntax:["x to unit","to(x, unit)"],description:"Change the unit of a value.",examples:["5 inch to cm","3.2kg to g","16 bytes in bits"],seealso:[]}},function(t,e){t.exports={name:"clone",category:"Utils",syntax:["clone(x)"],description:"Clone a variable. Creates a copy of primitive variables,and a deep copy of matrices",examples:["clone(3.5)","clone(2 - 4i)","clone(45 deg)","clone([1, 2; 3, 4])",'clone("hello world")'],seealso:[]}},function(t,e){t.exports={name:"format",category:"Utils",syntax:["format(value)","format(value, precision)"],description:"Format a value of any type as string.",examples:["format(2.3)","format(3 - 4i)","format([])","format(pi, 3)"],seealso:["print"]}},function(t,e){t.exports={name:"isInteger",category:"Utils",syntax:["isInteger(x)"],description:"Test whether a value is an integer number.",examples:["isInteger(2)","isInteger(3.5)","isInteger([3, 0.5, -2])"],seealso:["isNegative","isNumeric","isPositive","isZero"]}},function(t,e){t.exports={name:"isNaN",category:"Utils",syntax:["isNaN(x)"],description:"Test whether a value is NaN (not a number)",examples:["isNaN(2)","isNaN(0 / 0)","isNaN(NaN)","isNaN(Infinity)"],seealso:["isNegative","isNumeric","isPositive","isZero"]}},function(t,e){t.exports={name:"isNegative",category:"Utils",syntax:["isNegative(x)"],description:"Test whether a value is negative: smaller than zero.",examples:["isNegative(2)","isNegative(0)","isNegative(-4)","isNegative([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isPositive","isZero"]}},function(t,e){t.exports={name:"isNumeric",category:"Utils",syntax:["isNumeric(x)"],description:"Test whether a value is a numeric value. Returns true when the input is a number, BigNumber, Fraction, or boolean.",examples:["isNumeric(2)","isNumeric(0)","isNumeric(bignumber(500))","isNumeric(fraction(0.125))",'isNumeric("3")',"isNumeric(2 + 3i)",'isNumeric([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN"]}},function(t,e){t.exports={name:"isPositive",category:"Utils",syntax:["isPositive(x)"],description:"Test whether a value is positive: larger than zero.",examples:["isPositive(2)","isPositive(0)","isPositive(-4)","isPositive([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isNegative","isZero"]}},function(t,e){t.exports={name:"isPrime",category:"Utils",syntax:["isPrime(x)"],description:"Test whether a value is prime: has no divisors other than itself and one.",examples:["isPrime(3)","isPrime(-2)","isPrime([2, 17, 100])"],seealso:["isInteger","isNumeric","isNegative","isZero"]}},function(t,e){t.exports={name:"isZero",category:"Utils",syntax:["isZero(x)"],description:"Test whether a value is zero.",examples:["isZero(2)","isZero(0)","isZero(-4)","isZero([3, 0, -2, 0])"],seealso:["isInteger","isNumeric","isNegative","isPositive"]}},function(t,e){t.exports={name:"typeof",category:"Utils",syntax:["typeof(x)"],description:"Get the type of a variable.",examples:["typeof(3.5)","typeof(2 - 4i)","typeof(45 deg)",'typeof("hello world")'],seealso:[]}},function(t,e,n){"use strict";function r(t,e,r,o){var a=r(n(45));return o("compile",{string:function(t){return a(t).compile()},"Array | Matrix":function(t){return i(t,function(t){return a(t).compile()})}})}var i=n(1);e.name="compile",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,o){var a=r(n(45));return o("compile",{string:function(t){var e={};return a(t).compile().eval(e)},"string, Object":function(t,e){return a(t).compile().eval(e)},"Array | Matrix":function(t){var e={};return i(t,function(t){return a(t).compile().eval(e)})},"Array | Matrix, Object":function(t,e){return i(t,function(t){return a(t).compile().eval(e)})}})}var i=n(1);e.name="eval",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,i,o){var a=r(n(160));return i("help",{any:function(e){var n,r=e;if("string"!=typeof e)for(n in o)if(o.hasOwnProperty(n)&&e===o[n]){r=n;break}var i=a[r];if(!i)throw new Error('No documentation found on "'+r+'"');return new t.Help(i)}})}e.math=!0,e.name="help",e.factory=r},function(t,e,n){t.exports=[n(516),n(517),n(518),n(520),n(161)]},function(t,e,n){"use strict";function r(t,e,r,i){var o=r(n(45));return i("parse",{"string | Array | Matrix":o,"string | Array | Matrix, Object":o})}e.name="parse",e.factory=r},function(t,e,n){t.exports=[n(160),n(519),n(523),n(528),n(335),n(45),n(157)]},function(t,e,n){"use strict";function r(t,e,n,r){function i(){throw new Error("UpdateNode is deprecated. Use AssignmentNode instead.")}return i}e.name="UpdateNode",e.path="expression.node",e.factory=r},function(t,e,n){t.exports=[n(162),n(116),n(163),n(164),n(165),n(69),n(117),n(166),n(70),n(14),n(167),n(87),n(88),n(118),n(40),n(522)]},function(t,e,n){"use strict";function r(t,e,r,a){var s=r(n(90)),u=r(n(0));return function(t,e,n){try{if(Array.isArray(t))return u(t).subset(e,n).valueOf();if(t&&"function"==typeof t.subset)return t.subset(e,n);if("string"==typeof t)return s(t,e,n);if("object"==typeof t){if(!e.isObjectProperty())throw TypeError("Cannot apply a numeric index as object property");return o(t,e.getObjectProperty(),n),t}throw new TypeError("Cannot apply index: unsupported type of object")}catch(t){throw i(t)}}}var i=n(46).transform,o=n(18).setSafeProperty;e.factory=r},function(t,e,n){"use strict";function r(t,e,r,o){var a=r(n(186));return o("concat",{"...any":function(t){var e=t.length-1,n=t[e];"number"==typeof n?t[e]=n-1:n&&!0===n.isBigNumber&&(t[e]=n.minus(1));try{return a.apply(null,t)}catch(t){throw i(t)}}})}var i=n(46).transform;e.name="concat",e.path="expression.transform",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,i){function o(t,e,n){var r,i;if(t[0]&&(r=t[0].compile().eval(n)),t[1])if(t[1]&&t[1].isSymbolNode)i=t[1].compile().eval(n);else{var o=n||{},s=t[1].filter(function(t){return t&&t.isSymbolNode&&!(t.name in e)&&!(t.name in o)})[0],u=Object.create(o),c=t[1].compile();if(!s)throw new Error("No undefined variable found in filter equation");var f=s.name;i=function(t){return u[f]=t,c.eval(u)}}return a(r,i)}var a=r(n(188));r(n(40));return o.rawArgs=!0,o}e.name="filter",e.path="expression.transform",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,o){r(n(189));return o("forEach",{"Array | Matrix, function":function(t,e){var n=i(e),r=function(i,o){Array.isArray(i)?i.forEach(function(t,e){r(t,o.concat(e+1))}):1===n?e(i):2===n?e(i,o):e(i,o,t)};r(t.valueOf(),[])}})}var i=n(52).maxArgumentCount;e.name="forEach",e.path="expression.transform",e.factory=r},function(t,e,n){t.exports=[n(525),n(526),n(527),n(529),n(530),n(531),n(532),n(533),n(534),n(535)]},function(t,e,n){"use strict";function r(t,e,n){return function(){for(var e=[],n=0,r=arguments.length;n<r;n++){var i=arguments[n];if(i&&!0===i.isRange)i.start--,i.end-=i.step>0?0:2;else if(i&&!0===i.isSet)i=i.map(function(t){return t-1});else if(i&&(!0===i.isArray||i.isMatrix))i=i.map(function(t){return t-1});else if("number"==typeof i)i--;else if(i&&!0===i.isBigNumber)i=i.toNumber()-1;else if("string"!=typeof i)throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");e[n]=i}var o=new t.Index;return t.Index.apply(o,e),o}}e.name="index",e.path="expression.transform",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,o){var a=r(n(0));return o("max",{"Array, function":function(t,e){return i(t,e,t)},"Matrix, function":function(t,e){return a(i(t.valueOf(),e,t))}})}function i(t,e,n){function r(t,o){return Array.isArray(t)?t.map(function(t,e){return r(t,o.concat(e+1))}):1===i?e(t):2===i?e(t,o):e(t,o,n)}var i=o(e);return r(t,[])}var o=n(52).maxArgumentCount;e.name="map",e.path="expression.transform",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,a){var s=r(n(197));return a("max",{"...any":function(t){if(2==t.length&&o(t[0])){var e=t[1];"number"==typeof e?t[1]=e-1:e&&!0===e.isBigNumber&&(t[1]=e.minus(1))}try{return s.apply(null,t)}catch(t){throw i(t)}}})}var i=n(46).transform,o=n(61);e.name="max",e.path="expression.transform",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,a){var s=r(n(198));return a("mean",{"...any":function(t){if(2==t.length&&o(t[0])){var e=t[1];"number"==typeof e?t[1]=e-1:e&&!0===e.isBigNumber&&(t[1]=e.minus(1))}try{return s.apply(null,t)}catch(t){throw i(t)}}})}var i=n(46).transform,o=n(61);e.name="mean",e.path="expression.transform",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,a){var s=r(n(200));return a("min",{"...any":function(t){if(2==t.length&&o(t[0])){var e=t[1];"number"==typeof e?t[1]=e-1:e&&!0===e.isBigNumber&&(t[1]=e.minus(1))}try{return s.apply(null,t)}catch(t){throw i(t)}}})}var i=n(46).transform,o=n(61);e.name="min",e.path="expression.transform",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,i){var o=r(n(192));return i("range",{"...any":function(t){return"boolean"!=typeof t[t.length-1]&&t.push(!0),o.apply(null,t)}})}e.name="range",e.path="expression.transform",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,o){var a=r(n(90));return o("subset",{"...any":function(t){try{return a.apply(null,t)}catch(t){throw i(t)}}})}var i=n(46).transform;e.name="subset",e.path="expression.transform",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,i){var o=r(n(0)),a=r(n(48)),s=r(n(89)),u=(r(n(205)),r(n(125))),c=(r(n(75)),r(n(196))),f=(r(n(37)),r(n(182))),l=r(n(72)),h=r(n(184)),p=r(n(47)),d=r(n(22)),m=r(n(20)),g=r(n(25)),v=r(n(23)),y=i("qr",{DenseMatrix:function(t){return x(t)},SparseMatrix:function(t){return w(t)},Array:function(t){var e=o(t),n=x(e);return{Q:n.Q.valueOf(),R:n.R.valueOf()}}}),x=function(t){var e,n,r,i=t._size[0],o=t._size[1],y=s([i],"dense"),x=y._data,w=t.clone(),b=w._data,_=a([i],"");for(r=0;r<Math.min(o,i);++r){var N=b[r][r],E=p(f(N)),M=h(E),S=0;for(e=r;e<i;e++)S=d(S,g(b[e][r],h(b[e][r])));var A=g(E,l(S));if(!u(A)){var O=v(N,A);for(_[r]=1,e=r+1;e<i;e++)_[e]=m(b[e][r],O);var C,T=p(h(m(O,A)));for(n=r;n<o;n++){for(C=0,e=r;e<i;e++)C=d(C,g(h(_[e]),b[e][n]));for(C=g(C,T),e=r;e<i;e++)b[e][n]=g(v(b[e][n],g(_[e],C)),M)}for(e=0;e<i;e++){for(C=0,n=r;n<i;n++)C=d(C,g(x[e][n],_[n]));for(C=g(C,T),n=r;n<i;++n)x[e][n]=m(v(x[e][n],g(C,h(_[n]))),M)}}}for(e=0;e<i;++e)for(n=0;n<e&&n<o;++n){if(c(0,m(b[e][n],1e5)))throw new Error("math.qr(): unknown error - R is not lower triangular (element ("+e+", "+n+")  = "+b[e][n]+")");b[e][n]=g(b[e][n],0)}return{Q:y,R:w,toString:function(){return"Q: "+this.Q.toString()+"\nR: "+this.R.toString()}}},w=function(t){throw new Error("qr not implemented for sparse matrices yet")};return y}e.name="qr",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,i){function o(t){if("log"!=t.name&&"nthRoot"!=t.name||2!=t.args.length){for(var e=0;e<t.args.length;++e)t.args[e]=new u(0);throw t.compile().eval(),new Error("Expected TypeError, but none found")}}var a=r(n(45)),s=r(n(172)),u=r(n(69)),c=r(n(70)),f=r(n(87)),l=r(n(88)),h=r(n(40)),p=i("derivative",{"Node, SymbolNode, Object":function(t,e,n){var r={};m(r,t,e.name);var i=g(t,r);return n.simplify?s(i):i},"Node, SymbolNode":function(t,e){return p(t,e,{simplify:!0})},"string, SymbolNode":function(t,e){return p(a(t),e)},"string, SymbolNode, Object":function(t,e,n){return p(a(t),e,n)},"string, string":function(t,e){return p(a(t),a(e))},"string, string, Object":function(t,e,n){return p(a(t),a(e),n)},"Node, string":function(t,e){return p(t,a(e))},"Node, string, Object":function(t,e,n){return p(t,a(e),n)}});p._simplify=!0,p.toTex=function(t){return d.apply(null,t.args)};var d=i("_derivTex",{"Node, SymbolNode":function(t,e){return d(t.toString(),e.toString(),1)},"Node, SymbolNode, ConstantNode":function(t,e,n){return d(t.toString(),e.name,n.value)},"string, string, number":function(t,e,n){return(1===n?"{d\\over d"+e+"}":"{d^{"+n+"}\\over d"+e+"^{"+n+"}}")+"\\left["+t+"\\right]"}}),m=i("constTag",{"Object, ConstantNode, string":function(t,e){return t[e]=!0},"Object, SymbolNode, string":function(t,e,n){return e.name!=n&&(t[e]=!0)},"Object, ParenthesisNode, string":function(t,e,n){return m(t,e.content,n)},"Object, FunctionAssignmentNode, string":function(t,e,n){return-1==e.params.indexOf(n)?t[e]=!0:m(t,e.expr,n)},"Object, FunctionNode | OperatorNode, string":function(t,e,n){if(0!=e.args.length){for(var r=m(t,e.args[0],n),i=1;i<e.args.length;++i)r=m(t,e.args[i],n)&&r;if(r)return t[e]=!0}return!1}}),g=i("_derivative",{"ConstantNode, Object":function(t){return new u("0",t.valueType)},"SymbolNode, Object":function(t,n){return void 0!==n[t]?new u("0",e.number):new u("1",e.number)},"ParenthesisNode, Object":function(t,e){return new l(g(t.content,e))},"FunctionAssignmentNode, Object":function(t,n){return void 0!==n[t]?new u("0",e.number):g(t.expr,n)},"FunctionNode, Object":function(t,n){if(1!=t.args.length&&o(t),void 0!==n[t])return new u("0",e.number);var r,i,a=t.args[0],s=!1,l=!1;switch(t.name){case"cbrt":s=!0,i=new f("*","multiply",[new u("3",e.number),new f("^","pow",[a,new f("/","divide",[new u("2",e.number),new u("3",e.number)])])]);break;case"sqrt":case"nthRoot":if(1==t.args.length){s=!0,i=new f("*","multiply",[new u("2",e.number),new c("sqrt",[a])]);break}return r=new f("/","divide",[new u("1",e.number),t.args[1]]),n[r]=n[t.args[1]],g(new f("^","pow",[a,r]),n);case"log10":r=new u("10",e.number);case"log":if(r||1!=t.args.length){if(!r&&void 0===n[t.args[1]])return g(new f("/","divide",[new c("log",[a]),new c("log",[t.args[1]])]),n);i=new f("*","multiply",[a.clone(),new c("log",[r||t.args[1]])])}else i=a.clone();s=!0;break;case"exp":i=new c("exp",[a.clone()]);break;case"sin":i=new c("cos",[a.clone()]);break;case"cos":i=new f("-","unaryMinus",[new c("sin",[a.clone()])]);break;case"tan":i=new f("^","pow",[new c("sec",[a.clone()]),new u("2",e.number)]);break;case"sec":i=new f("*","multiply",[t,new c("tan",[a.clone()])]);break;case"csc":l=!0,i=new f("*","multiply",[t,new c("cot",[a.clone()])]);break;case"cot":l=!0,i=new f("^","pow",[new c("csc",[a.clone()]),new u("2",e.number)]);break;case"asin":s=!0,i=new c("sqrt",[new f("-","subtract",[new u("1",e.number),new f("^","pow",[a.clone(),new u("2",e.number)])])]);break;case"acos":s=!0,l=!0,i=new c("sqrt",[new f("-","subtract",[new u("1",e.number),new f("^","pow",[a.clone(),new u("2",e.number)])])]);break;case"atan":s=!0,i=new f("+","add",[new f("^","pow",[a.clone(),new u("2",e.number)]),new u("1",e.number)]);break;case"asec":s=!0,i=new f("*","multiply",[new c("abs",[a.clone()]),new c("sqrt",[new f("-","subtract",[new f("^","pow",[a.clone(),new u("2",e.number)]),new u("1",e.number)])])]);break;case"acsc":s=!0,l=!0,i=new f("*","multiply",[new c("abs",[a.clone()]),new c("sqrt",[new f("-","subtract",[new f("^","pow",[a.clone(),new u("2",e.number)]),new u("1",e.number)])])]);break;case"acot":s=!0,l=!0,i=new f("+","add",[new f("^","pow",[a.clone(),new u("2",e.number)]),new u("1",e.number)]);break;case"sinh":i=new c("cosh",[a.clone()]);break;case"cosh":i=new c("sinh",[a.clone()]);break;case"tanh":i=new f("^","pow",[new c("sech",[a.clone()]),new u("2",e.number)]);break;case"sech":l=!0,i=new f("*","multiply",[t,new c("tanh",[a.clone()])]);break;case"csch":l=!0,i=new f("*","multiply",[t,new c("coth",[a.clone()])]);break;case"coth":l=!0,i=new f("^","pow",[new c("csch",[a.clone()]),new u("2",e.number)]);break;case"asinh":s=!0,i=new c("sqrt",[new f("+","add",[new f("^","pow",[a.clone(),new u("2",e.number)]),new u("1",e.number)])]);break;case"acosh":s=!0,i=new c("sqrt",[new f("-","subtract",[new f("^","pow",[a.clone(),new u("2",e.number)]),new u("1",e.number)])]);break;case"atanh":s=!0,i=new f("-","subtract",[new u("1",e.number),new f("^","pow",[a.clone(),new u("2",e.number)])]);break;case"asech":s=!0,l=!0,i=new f("*","multiply",[a.clone(),new c("sqrt",[new f("-","subtract",[new u("1",e.number),new f("^","pow",[a.clone(),new u("2",e.number)])])])]);break;case"acsch":s=!0,l=!0,i=new f("*","multiply",[new c("abs",[a.clone()]),new c("sqrt",[new f("+","add",[new f("^","pow",[a.clone(),new u("2",e.number)]),new u("1",e.number)])])]);break;case"acoth":s=!0,l=!0,i=new f("-","subtract",[new u("1",e.number),new f("^","pow",[a.clone(),new u("2",e.number)])]);break;case"abs":i=new f("/","divide",[new c(new h("abs"),[a.clone()]),a.clone()]);break;case"gamma":default:throw new Error('Function "'+t.name+'" not supported by derivative')}var p,d;s?(p="/",d="divide"):(p="*",d="multiply");var m=g(a,n);return l&&(m=new f("-","unaryMinus",[m])),new f(p,d,[m,i])},"OperatorNode, Object":function(t,n){if(void 0!==n[t])return new u("0",e.number);var r=t.args[0],i=t.args[1];switch(t.op){case"+":case"-":return 1==t.args.length?new f(t.op,t.fn,[g(r,n)]):new f(t.op,t.fn,[g(r,n),g(i,n)]);case"*":if(void 0!==n[r]||void 0!==n[i]){var o=void 0!==n[r]?[r.clone(),g(i,n)]:[i.clone(),g(r,n)];return new f("*","multiply",o)}return new f("+","add",[new f("*","multiply",[g(r,n),i.clone()]),new f("*","multiply",[r.clone(),g(i,n)])]);case"/":return void 0!==n[i]?new f("/","divide",[g(r,n),i]):void 0!==n[r]?new f("*","multiply",[new f("-","unaryMinus",[r]),new f("/","divide",[g(i,n),new f("^","pow",[i.clone(),new u("2",e.number)])])]):new f("/","divide",[new f("-","subtract",[new f("*","multiply",[g(r,n),i.clone()]),new f("*","multiply",[r.clone(),g(i,n)])]),new f("^","pow",[i.clone(),new u("2",e.number)])]);case"^":if(void 0!==n[r])return!r.isConstantNode||"0"!=r.value&&"1"!=r.value?new f("*","multiply",[t,new f("*","multiply",[new c("log",[r.clone()]),g(i.clone(),n)])]):new u("0",e.number);if(void 0!==n[i]){if(i.isConstantNode){var a=i.value;if("0"==a)return new u("0",e.number);if("1"==a)return g(r,n)}var s=new f("^","pow",[r.clone(),new f("-","subtract",[i,new u("1",e.number)])]);return new f("*","multiply",[i.clone(),new f("*","multiply",[g(r,n),s])])}return new f("*","multiply",[new f("^","pow",[r.clone(),i.clone()]),new f("+","add",[new f("*","multiply",[g(r,n),new f("/","divide",[i.clone(),r.clone()])]),new f("*","multiply",[g(i,n),new c("log",[r.clone()])])])]);case"%":case"mod":default:throw new Error('Operator "'+t.op+'" not supported by derivative')}}});return p}e.name="derivative",e.factory=r},function(t,e,n){t.exports=[n(537),n(172),n(536),n(170),n(171),n(174),n(540),n(175)]},function(t,e,n){"use strict";function r(t,e,r,i,o){function a(t){var e=h(t);return e.isNode?e:w(e)}function s(t,e){try{return b(o[t].apply(null,e))}catch(n){return e=e.map(function(t){return t.isFraction?t.valueOf():t}),b(o[t].apply(null,e))}}function u(t){if(isFinite(t)){var e=o.fraction(t);if(e.valueOf()===t)return e}return t}function c(t){return new x("-","unaryMinus",[t])}function f(t){var e,n=t.s*t.n;return e=n<0?new x("-","unaryMinus",[new y(-n)]):new y(n),1===t.d?e:new x("/","divide",[e,new y(t.d)])}function l(t,e,n){return e.reduce(function(e,r){if(e.isNode||r.isNode)e.isNode?r.isNode||(r=w(r)):e=w(e);else{try{return s(t,[e,r])}catch(t){}e=w(e),r=w(r)}return n([e,r])})}function h(t){switch(t.type){case"SymbolNode":return t;case"ConstantNode":return"number"===t.valueType?b(t.value):t;case"FunctionNode":if(o[t.name]&&o[t.name].rawArgs)return t;case"OperatorNode":var e,n,r=t.fn.toString(),i=v(t);if(1===t.args.length)e=[h(t.args[0])],n=e[0].isNode?i(e):s(r,e);else if(m(t))if(e=g(t),e=e.map(h),d(r)){for(var a=[],u=[],c=0;c<e.length;c++)e[c].isNode?u.push(e[c]):a.push(e[c]);a.length>1?(n=l(r,a,i),u.unshift(n),n=l(r,u,i)):n=l(r,e,i)}else n=l(r,e,i);else e=t.args.map(h),n=l(r,e,i);return n;case"ParenthesisNode":return h(t.content);case"AccessorNode":case"ArrayNode":case"AssignmentNode":case"BlockNode":case"FunctionAssignmentNode":case"IndexNode":case"ObjectNode":case"RangeNode":case"UpdateNode":case"ConditionalNode":default:throw"Unimplemented node type in simplifyConstant: "+t.type}}var p=r(n(173)),d=p.isCommutative,m=p.isAssociative,g=p.allChildren,v=p.createMakeNodeFunction,y=o.expression.node.ConstantNode,x=o.expression.node.OperatorNode,w=i({Fraction:f,number:function(t){return t<0?c(new y(-t)):new y(t)},BigNumber:function(t){return t<0?c(new y(t.negated().toString(),"number")):new y(t.toString(),"number")},Complex:function(t){throw"Cannot convert Complex number to Node"}}),b=i({string:function(t){return"BigNumber"===e.number?o.bignumber(t):"Fraction"===e.number?o.fraction(t):u(parseFloat(t))},Fraction:function(t){return t},BigNumber:function(t){return t},number:function(t){return u(t)},Complex:function(t){return 0!==t.im?t:u(t.re)}});return a}n(2).digits;e.math=!0,e.name="simplifyConstant",e.path="algebra.simplify",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,o){var a=r(n(0)),s=r(n(170)),u=r(n(171)),c=r(n(546)),f=r(n(119)),l=r(n(175)),h=r(n(174)),p=o("lusolve",{"Array, Array | Matrix":function(t,e){t=a(t);var n=s(t);return m(n.L,n.U,n.p,null,e).valueOf()},"DenseMatrix, Array | Matrix":function(t,e){var n=s(t);return m(n.L,n.U,n.p,null,e)},"SparseMatrix, Array | Matrix":function(t,e){var n=s(t);return m(n.L,n.U,n.p,null,e)},"SparseMatrix, Array | Matrix, number, number":function(t,e,n,r){var i=u(t,n,r);return m(i.L,i.U,i.p,i.q,e)},"Object, Array | Matrix":function(t,e){return m(t.L,t.U,t.p,t.q,e)}}),d=function(t){if(t&&!0===t.isMatrix)return t;if(i(t))return a(t);throw new TypeError("Invalid Matrix LU decomposition")},m=function(t,e,n,r,i){t=d(t),e=d(e),i=f(t,i,!1),n&&(i._data=c(n,i._data));var o=h(t,i),a=l(e,o);return r&&(a._data=c(r,a._data)),a};return p}var i=Array.isArray;e.name="lusolve",e.factory=r},function(t,e,n){"use strict";function r(t,e,r){var i=r(n(120)),o=r(n(545)),a=r(n(178)),s=r(n(19)),u=r(n(13)),c=r(n(91)),f=function(t,e){if(!e||t<=0||t>3)return null;var n=e._size,r=n[0],s=n[1],u=0,c=Math.max(16,10*Math.sqrt(s));c=Math.min(s-2,c);var f=l(t,e,r,s,c);o(f,m,null);for(var g,v,y,x,w,b,_,N,E,M,S,A,O,C,T,P,z=f._index,k=f._ptr,I=k[s],B=[],j=[],R=s+1,L=2*(s+1),F=3*(s+1),q=4*(s+1),U=5*(s+1),D=6*(s+1),V=7*(s+1),H=B,$=h(s,k,j,0,F,H,L,V,R,D,q,U),G=p(s,k,j,U,q,D,c,R,F,H,L),Z=0;G<s;){for(y=-1;Z<s&&-1==(y=j[F+Z]);Z++);-1!=j[L+y]&&(H[j[L+y]]=-1),j[F+Z]=j[L+y];var W=j[q+y],Y=j[R+y];G+=Y;var J=0;j[R+y]=-Y;var X=k[y],Q=0===W?X:I,K=Q;for(x=1;x<=W+1;x++){for(x>W?(b=y,_=X,N=j[0+y]-W):(b=z[X++],_=k[b],N=j[0+b]),w=1;w<=N;w++)g=z[_++],(E=j[R+g])<=0||(J+=E,j[R+g]=-E,z[K++]=g,-1!=j[L+g]&&(H[j[L+g]]=H[g]),-1!=H[g]?j[L+H[g]]=j[L+g]:j[F+j[U+g]]=j[L+g]);b!=y&&(k[b]=i(y),j[D+b]=0)}for(0!==W&&(I=K),j[U+y]=J,k[y]=Q,j[0+y]=K-Q,j[q+y]=-2,$=d($,u,j,D,s),M=Q;M<K;M++)if(g=z[M],!((S=j[q+g])<=0)){E=-j[R+g];var tt=$-E;for(X=k[g],A=k[g]+S-1;X<=A;X++)b=z[X],j[D+b]>=$?j[D+b]-=E:0!==j[D+b]&&(j[D+b]=j[U+b]+tt)}for(M=Q;M<K;M++){for(g=z[M],A=k[g],O=A+j[q+g]-1,C=A,T=0,P=0,X=A;X<=O;X++)if(b=z[X],0!==j[D+b]){var et=j[D+b]-$;et>0?(P+=et,z[C++]=b,T+=b):(k[b]=i(y),j[D+b]=0)}j[q+g]=C-A+1;var nt=C,rt=A+j[0+g];for(X=O+1;X<rt;X++){v=z[X];var it=j[R+v];it<=0||(P+=it,z[C++]=v,T+=v)}0===P?(k[g]=i(y),E=-j[R+g],J-=E,Y+=E,G+=E,j[R+g]=0,j[q+g]=-1):(j[U+g]=Math.min(j[U+g],P),z[C]=z[nt],z[nt]=z[A],z[A]=y,j[0+g]=C-A+1,T=(T<0?-T:T)%s,j[L+g]=j[V+T],j[V+T]=g,H[g]=T)}for(j[U+y]=J,u=Math.max(u,J),$=d($+u,u,j,D,s),M=Q;M<K;M++)if(g=z[M],!(j[R+g]>=0))for(T=H[g],g=j[V+T],j[V+T]=-1;-1!=g&&-1!=j[L+g];g=j[L+g],$++){for(N=j[0+g],S=j[q+g],X=k[g]+1;X<=k[g]+N-1;X++)j[D+z[X]]=$;var ot=g;for(v=j[L+g];-1!=v;){var at=j[0+v]===N&&j[q+v]===S;for(X=k[v]+1;at&&X<=k[v]+N-1;X++)j[D+z[X]]!=$&&(at=0);at?(k[v]=i(g),j[R+g]+=j[R+v],j[R+v]=0,j[q+v]=-1,v=j[L+v],j[L+ot]=v):(ot=v,v=j[L+v])}}for(X=Q,M=Q;M<K;M++)g=z[M],(E=-j[R+g])<=0||(j[R+g]=E,P=j[U+g]+J-E,P=Math.min(P,s-G-E),-1!=j[F+P]&&(H[j[F+P]]=g),j[L+g]=j[F+P],H[g]=-1,j[F+P]=g,Z=Math.min(Z,P),j[U+g]=P,z[X++]=g);j[R+y]=Y,0==(j[0+y]=X-Q)&&(k[y]=-1,j[D+y]=0),0!==W&&(I=X)}for(g=0;g<s;g++)k[g]=i(k[g]);for(v=0;v<=s;v++)j[F+v]=-1;for(v=s;v>=0;v--)j[R+v]>0||(j[L+v]=j[F+k[v]],j[F+k[v]]=v);for(b=s;b>=0;b--)j[R+b]<=0||-1!=k[b]&&(j[L+b]=j[F+k[b]],j[F+k[b]]=b);for(y=0,g=0;g<=s;g++)-1==k[g]&&(y=a(g,y,j,F,L,B,D));return B.splice(B.length-1,1),B},l=function(t,e,n,r,i){var o=c(e);if(1===t&&r===n)return s(e,o);if(2==t){for(var a=o._index,f=o._ptr,l=0,h=0;h<n;h++){var p=f[h];if(f[h]=l,!(f[h+1]-p>i))for(var d=f[h+1];p<d;p++)a[l++]=a[p]}return f[n]=l,e=c(o),u(o,e)}return u(o,e)},h=function(t,e,n,r,i,o,a,s,u,c,f,l){for(var h=0;h<t;h++)n[r+h]=e[h+1]-e[h];n[r+t]=0;for(var p=0;p<=t;p++)n[i+p]=-1,o[p]=-1,n[a+p]=-1,n[s+p]=-1,n[u+p]=1,n[c+p]=1,n[f+p]=0,n[l+p]=n[r+p];var m=d(0,0,n,c,t);return n[f+t]=-2,e[t]=-1,n[c+t]=0,m},p=function(t,e,n,r,o,a,s,u,c,f,l){for(var h=0,p=0;p<t;p++){var d=n[r+p];if(0===d)n[o+p]=-2,h++,e[p]=-1,n[a+p]=0;else if(d>s)n[u+p]=0,n[o+p]=-1,h++,e[p]=i(t),n[u+t]++;else{var m=n[c+d];-1!=m&&(f[m]=p),n[l+p]=n[c+d],n[c+d]=p}}return h},d=function(t,e,n,r,i){if(t<2||t+e<0){for(var o=0;o<i;o++)0!==n[r+o]&&(n[r+o]=1);t=2}return t},m=function(t,e){return t!=e};return f}e.name="cs_amd",e.path="sparse",e.factory=r},function(t,e,n){"use strict";function r(t,e,r){var i=r(n(91)),o=r(n(547));return function(t,e,n,r){if(!t||!e||!n)return null;var a,s,u,c,f,l,h,p=t._size,d=p[0],m=p[1],g=4*m+(r?m+d+1:0),v=[],y=m,x=2*m,w=3*m,b=4*m,_=5*m+1;for(u=0;u<g;u++)v[u]=-1;var N=[],E=i(t),M=E._index,S=E._ptr;for(u=0;u<m;u++)for(s=n[u],N[s]=-1==v[w+s]?1:0;-1!=s&&-1==v[w+s];s=e[s])v[w+s]=u;if(r){for(u=0;u<m;u++)v[n[u]]=u;for(a=0;a<d;a++){for(u=m,l=S[a],h=S[a+1],f=l;f<h;f++)u=Math.min(u,v[M[f]]);v[_+a]=v[b+u],v[b+u]=a}}for(a=0;a<m;a++)v[0+a]=a;for(u=0;u<m;u++){for(s=n[u],-1!=e[s]&&N[e[s]]--,c=r?v[b+u]:s;-1!=c;c=r?v[_+c]:-1)for(f=S[c];f<S[c+1];f++){a=M[f];var A=o(a,s,v,w,y,x,0);A.jleaf>=1&&N[s]++,2==A.jleaf&&N[A.q]--}-1!=e[s]&&(v[0+s]=e[s])}for(s=0;s<m;s++)-1!=e[s]&&(N[e[s]]+=N[s]);return N}}e.name="cs_counts",e.path="sparse",e.factory=r},function(t,e,n){"use strict";function r(t,e,r){var i=r(n(177)),o=r(n(176)),a=r(n(554));return function(t,e,n,r,s){var u,c,f,l=e._index,h=e._ptr,p=e._size,d=p[1],m=0;for(r[0]=t;m>=0;){t=r[m];var g=s?s[t]:t;i(h,t)||(o(h,t),r[d+m]=g<0?0:a(h[g]));var v=1;for(c=r[d+m],f=g<0?0:a(h[g+1]);c<f;c++)if(u=l[c],!i(h,u)){r[d+m]=c,r[++m]=u,v=0;break}v&&(m--,r[--n]=t)}return n}}e.name="cs_dfs",e.path="sparse",e.factory=r},function(t,e,n){"use strict";function r(){return function(t,e){if(!t)return null;var n,r,i=t._index,o=t._ptr,a=t._size,s=a[0],u=a[1],c=[],f=[],l=u;if(e)for(n=0;n<s;n++)f[l+n]=-1;for(var h=0;h<u;h++){c[h]=-1,f[0+h]=-1;for(var p=o[h],d=o[h+1],m=p;m<d;m++){var g=i[m];for(n=e?f[l+g]:g;-1!=n&&n<h;n=r)r=f[0+n],f[0+n]=h,-1==r&&(c[n]=h);e&&(f[l+g]=h)}}return c}}e.name="cs_etree",e.path="sparse",e.factory=r},function(t,e,n){"use strict";function r(){return function(t,e,n){for(var r=t._values,i=t._index,o=t._ptr,a=t._size,s=a[1],u=0,c=0;c<s;c++){var f=o[c];for(o[c]=u;f<o[c+1];f++)e(i[f],c,r?r[f]:1,n)&&(i[u]=i[f],r&&(r[u]=r[f]),u++)}return o[s]=u,i.splice(u,i.length-u),r&&r.splice(u,r.length-u),u}}e.name="cs_fkeep",e.path="sparse",e.factory=r},function(t,e,n){"use strict";function r(){return function(t,e,n){var r,n=e.length,i=[];if(t)for(r=0;r<n;r++)i[t[r]]=e[r];else for(r=0;r<n;r++)i[r]=e[r];return i}}e.name="cs_ipvec",e.path="sparse",e.factory=r},function(t,e,n){"use strict";function r(){return function(t,e,n,r,i,o,a){var s,u,c,f,l=0;if(t<=e||n[r+e]<=n[i+t])return-1;if(n[i+t]=n[r+e],c=n[o+t],n[o+t]=e,-1===c)l=1,f=t;else{for(l=2,f=c;f!=n[a+f];f=n[a+f]);for(s=c;s!=f;s=u)u=n[a+s],n[a+s]=f}return{jleaf:l,q:f}}}e.name="cs_leaf",e.path="sparse",e.factory=r},function(t,e,n){"use strict";function r(t,e,r){var i=r(n(37)),o=r(n(20)),a=r(n(13)),s=r(n(41)),u=r(n(195)),c=r(n(552)),f=t.SparseMatrix;return function(t,e,n){if(!t)return null;var r,l=t._size,h=l[1],p=100,d=100;e&&(r=e.q,p=e.lnz||p,d=e.unz||d);var m,g,v=[],y=[],x=[],w=new f({values:v,index:y,ptr:x,size:[h,h]}),b=[],_=[],N=[],E=new f({values:b,index:_,ptr:N,size:[h,h]}),M=[],S=[],A=[];for(m=0;m<h;m++)S[m]=0,M[m]=-1,x[m+1]=0;p=0,d=0;for(var O=0;O<h;O++){x[O]=p,N[O]=d;var C=r?r[O]:O,T=c(w,t,C,A,S,M,1),P=-1,z=-1;for(g=T;g<h;g++)if(m=A[g],M[m]<0){var k=i(S[m]);s(k,z)&&(z=k,P=m)}else _[d]=M[m],b[d++]=S[m];if(-1==P||z<=0)return null;M[C]<0&&u(i(S[C]),a(z,n))&&(P=C);var I=S[P];for(_[d]=O,b[d++]=I,M[P]=O,y[p]=P,v[p++]=1,g=T;g<h;g++)m=A[g],M[m]<0&&(y[p]=m,v[p++]=o(S[m],I)),S[m]=0}for(x[h]=p,N[h]=d,g=0;g<p;g++)y[g]=M[y[g]];return v.splice(p,v.length-p),y.splice(p,y.length-p),b.splice(d,b.length-d),_.splice(d,_.length-d),{L:w,U:E,pinv:M}}}e.name="cs_lu",e.path="sparse",e.factory=r},function(t,e,n){"use strict";function r(t){var e=t.SparseMatrix;return function(t,n,r,i){for(var o=t._values,a=t._index,s=t._ptr,u=t._size,c=t._datatype,f=u[0],l=u[1],h=i&&t._values?[]:null,p=[],d=[],m=0,g=0;g<l;g++){d[g]=m;for(var v=r?r[g]:g,y=s[v],x=s[v+1],w=y;w<x;w++){var b=n?n[a[w]]:a[w];p[m]=b,h&&(h[m]=o[w]),m++}}return d[l]=m,new e({values:h,index:p,ptr:d,size:[f,l],datatype:c})}}e.name="cs_permute",e.path="sparse",e.factory=r},function(t,e,n){"use strict";function r(t,e,r){var i=r(n(178));return function(t,e){if(!t)return null;var n,r=0,o=[],a=[],s=e,u=2*e;for(n=0;n<e;n++)a[0+n]=-1;for(n=e-1;n>=0;n--)-1!=t[n]&&(a[s+n]=a[0+t[n]],a[0+t[n]]=n);for(n=0;n<e;n++)-1==t[n]&&(r=i(n,r,a,0,s,o,u));return o}}e.name="cs_post",e.path="sparse",e.factory=r},function(t,e,n){"use strict";function r(t,e,r){var i=r(n(543)),o=r(n(177)),a=r(n(176));return function(t,e,n,r,s){var u,c,f,l=t._ptr,h=t._size,p=e._index,d=e._ptr,m=h[1],g=m;for(c=d[n],f=d[n+1],u=c;u<f;u++){var v=p[u];o(l,v)||(g=i(v,t,g,r,s))}for(u=g;u<m;u++)a(l,r[u]);return g}}e.name="cs_reach",e.path="sparse",e.factory=r},function(t,e,n){"use strict";function r(t,e,r){var i=r(n(20)),o=r(n(13)),a=r(n(23)),s=r(n(551));return function(t,e,n,r,u,c,f){var l,h,p,d,m=t._values,g=t._index,v=t._ptr,y=t._size,x=y[1],w=e._values,b=e._index,_=e._ptr,N=s(t,e,n,r,c);for(l=N;l<x;l++)u[r[l]]=0;for(h=_[n],p=_[n+1],l=h;l<p;l++)u[b[l]]=w[l];for(var E=N;E<x;E++){var M=r[E],S=c?c[M]:M;if(!(S<0))for(h=v[S],p=v[S+1],u[M]=i(u[M],m[f?h:p-1]),l=f?h+1:h,d=f?p:p-1;l<d;l++){var A=g[l];u[A]=a(u[A],o(m[l],u[M]))}}return N}}e.name="cs_spsolve",e.path="sparse",e.factory=r},function(t,e,n){"use strict";function r(t,e,r){var i=r(n(541)),o=r(n(549)),a=r(n(544)),s=r(n(550)),u=r(n(542)),c=function(t,e){var n=t._ptr,r=t._index,i=t._size,o=i[0],a=i[1];e.pinv=[],e.leftmost=[];var s,u,c,f,l,h=e.parent,p=e.pinv,d=e.leftmost,m=[],g=o,v=o+a,y=o+2*a;for(u=0;u<a;u++)m[g+u]=-1,m[v+u]=-1,m[y+u]=0;for(s=0;s<o;s++)d[s]=-1;for(u=a-1;u>=0;u--)for(f=n[u],l=n[u+1],c=f;c<l;c++)d[r[c]]=u;for(s=o-1;s>=0;s--)p[s]=-1,-1!=(u=d[s])&&(0==m[y+u]++&&(m[v+u]=s),m[0+s]=m[g+u],m[g+u]=s);for(e.lnz=0,e.m2=o,u=0;u<a;u++)if(s=m[g+u],e.lnz++,s<0&&(s=e.m2++),p[s]=u,!(--y[u]<=0)){e.lnz+=m[y+u];var x=h[u];-1!=x&&(0===m[y+x]&&(m[v+x]=m[v+u]),m[0+m[v+u]]=m[g+x],m[g+x]=m[0+s],m[y+x]+=m[y+u])}for(s=0;s<o;s++)p[s]<0&&(p[s]=u++);return!0};return function(t,e,n){var r,f=e._ptr,l=e._size,h=l[1],p={};if(p.q=i(t,e),t&&!p.q)return null;if(n){var d=t?o(e,null,p.q,0):e;p.parent=a(d,1);var m=s(p.parent,h);if(p.cp=u(d,p.parent,m,1),d&&p.parent&&p.cp&&c(d,p))for(p.unz=0,r=0;r<h;r++)p.unz+=p.cp[r]}else p.unz=4*f[h]+h,p.lnz=p.unz;return p}}e.name="cs_sqr",e.path="sparse",e.factory=r},function(t,e,n){"use strict";function r(t,e,r){var i=r(n(120));return function(t){return t<0?i(t):t}}e.name="cs_unflip",e.path="sparse",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,a){function s(n,r){var i=n.arg()/3,a=n.abs(),s=new t.Complex(o(a),0).mul(new t.Complex(0,i).exp());if(r){var u=[s,new t.Complex(o(a),0).mul(new t.Complex(0,i+2*Math.PI/3).exp()),new t.Complex(o(a),0).mul(new t.Complex(0,i-2*Math.PI/3).exp())];return"Array"===e.matrix?u:l(u)}return s}function u(e){if(e.value&&e.value.isComplex){var n=e.clone();return n.value=1,n=n.pow(1/3),n.value=s(e.value),n}var r=f(e.value);r&&(e.value=c(e.value));var i;i=e.value&&e.value.isBigNumber?new t.BigNumber(1).div(3):e.value&&e.value.isFraction?new t.Fraction(1,3):1/3;var n=e.pow(i);return r&&(n.value=c(n.value)),n}var c=r(n(47)),f=r(n(74)),l=r(n(0)),h=a("cbrt",{number:o,Complex:s,"Complex, boolean":s,BigNumber:function(t){return t.cbrt()},Unit:u,"Array | Matrix":function(t){return i(t,h,!0)}});return h.toTex={1:"\\sqrt[3]{${args[0]}}"},h}var i=n(1),o=Math.cbrt||function(t){if(0===t)return t;var e,n=t<0;return n&&(t=-t),isFinite(t)?(e=Math.exp(Math.log(t)/3),e=(t/(e*e)+2*e)/3):e=t,n?-e:e};e.name="cbrt",e.factory=r},function(t,e,n){"use strict";function r(t,e,n,r){var o=r("ceil",{number:Math.ceil,Complex:function(t){return t.ceil()},BigNumber:function(t){return t.ceil()},Fraction:function(t){return t.ceil()},"Array | Matrix":function(t){return i(t,o,!0)}});return o.toTex={1:"\\left\\lceil${args[0]}\\right\\rceil"},o}var i=n(1);e.name="ceil",e.factory=r},function(t,e,n){"use strict";function r(t,e,n,r){var o=r("cube",{number:function(t){return t*t*t},Complex:function(t){return t.mul(t).mul(t)},BigNumber:function(t){return t.times(t).times(t)},Fraction:function(t){return t.pow(3)},"Array | Matrix":function(t){return i(t,o,!0)},Unit:function(t){return t.pow(3)}});return o.toTex={1:"\\left(${args[0]}\\right)^3"},o}var i=n(1);e.name="cube",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,i){var o=r(n(0)),a=r(n(25)),s=n(4),u=r(n(27)),c=r(n(211)),f=r(n(16)),l=r(n(9)),h=r(n(6)),p=i("dotMultiply",{"any, any":a,"Matrix, Matrix":function(t,e){var n;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":n=c(t,e,a,!1);break;default:n=u(e,t,a,!0)}break;default:switch(e.storage()){case"sparse":n=u(t,e,a,!1);break;default:n=l(t,e,a)}}return n},"Array, Array":function(t,e){return p(o(t),o(e)).valueOf()},"Array, Matrix":function(t,e){return p(o(t),e)},"Matrix, Array":function(t,e){return p(t,o(e))},"Matrix, any":function(t,e){var n;switch(t.storage()){case"sparse":n=f(t,e,a,!1);break;default:n=h(t,e,a,!1)}return n},"any, Matrix":function(t,e){var n;switch(e.storage()){case"sparse":n=f(e,t,a,!0);break;default:n=h(e,t,a,!0)}return n},"Array, any":function(t,e){return h(o(t),e,a,!1).valueOf()},"any, Array":function(t,e){return h(o(e),t,a,!0).valueOf()}});return p.toTex={2:"\\left(${args[0]}"+s.operators.dotMultiply+"${args[1]}\\right)"},p}e.name="dotMultiply",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,i){var o=r(n(0)),a=r(n(58)),s=n(4),u=r(n(15)),c=r(n(32)),f=r(n(16)),l=r(n(17)),h=r(n(9)),p=r(n(6)),d=i("dotPow",{"any, any":a,"Matrix, Matrix":function(t,e){var n;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":n=c(t,e,a,!1);break;default:n=u(e,t,a,!0)}break;default:switch(e.storage()){case"sparse":n=u(t,e,a,!1);break;default:n=h(t,e,a)}}return n},"Array, Array":function(t,e){return d(o(t),o(e)).valueOf()},"Array, Matrix":function(t,e){return d(o(t),e)},"Matrix, Array":function(t,e){return d(t,o(e))},"Matrix, any":function(t,e){var n;switch(t.storage()){case"sparse":n=f(t,e,d,!1);break;default:n=p(t,e,d,!1)}return n},"any, Matrix":function(t,e){var n;switch(e.storage()){case"sparse":n=l(e,t,d,!0);break;default:n=p(e,t,d,!0)}return n},"Array, any":function(t,e){return p(o(t),e,d,!1).valueOf()},"any, Array":function(t,e){return p(o(e),t,d,!0).valueOf()}});return d.toTex={2:"\\left(${args[0]}"+s.operators.dotPow+"${args[1]}\\right)"},d}e.name="dotPow",e.factory=r},function(t,e,n){"use strict";function r(t,e,n,r){var o=r("exp",{number:Math.exp,Complex:function(t){return t.exp()},BigNumber:function(t){return t.exp()},"Array | Matrix":function(t){return i(t,o)}});return o.toTex={1:"\\exp\\left(${args[0]}\\right)"},o}var i=n(1);e.name="exp",e.factory=r},function(t,e,n){"use strict";function r(t,e,n,r){var o=r("floor",{number:Math.floor,Complex:function(t){return t.floor()},BigNumber:function(t){return t.floor()},Fraction:function(t){return t.floor()},"Array | Matrix":function(t){return i(t,o,!0)}});return o.toTex={1:"\\left\\lfloor${args[0]}\\right\\rfloor"},o}var i=n(1);e.name="floor",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,o){function a(e,n){if(!e.isInt()||!n.isInt())throw new Error("Parameters in function gcd must be integer numbers");for(var r=new t.BigNumber(0);!n.isZero();){var i=e.mod(n);e=n,n=i}return e.lt(r)?e.neg():e}var s=r(n(0)),u=r(n(42)),c=r(n(127)),f=r(n(49)),l=r(n(9)),h=r(n(6)),p=o("gcd",{"number, number":i,"BigNumber, BigNumber":a,"Fraction, Fraction":function(t,e){return t.gcd(e)},"Matrix, Matrix":function(t,e){var n;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":n=c(t,e,p);break;default:n=u(e,t,p,!0)}break;default:switch(e.storage()){case"sparse":n=u(t,e,p,!1);break;default:n=l(t,e,p)}}return n},"Array, Array":function(t,e){return p(s(t),s(e)).valueOf()},"Array, Matrix":function(t,e){return p(s(t),e)},"Matrix, Array":function(t,e){return p(t,s(e))},"Matrix, number | BigNumber":function(t,e){var n;switch(t.storage()){case"sparse":n=f(t,e,p,!1);break;default:n=h(t,e,p,!1)}return n},"number | BigNumber, Matrix":function(t,e){var n;switch(e.storage()){case"sparse":n=f(e,t,p,!0);break;default:n=h(e,t,p,!0)}return n},"Array, number | BigNumber":function(t,e){return h(s(t),e,p,!1).valueOf()},"number | BigNumber, Array":function(t,e){return h(s(e),t,p,!0).valueOf()},"Array | Matrix | number | BigNumber, Array | Matrix | number | BigNumber, ...Array | Matrix | number | BigNumber":function(t,e,n){for(var r=p(t,e),i=0;i<n.length;i++)r=p(r,n[i]);return r}});return p.toTex="\\gcd\\left(${args}\\right)",p}function i(t,e){if(!o(t)||!o(e))throw new Error("Parameters in function gcd must be integer numbers");for(var n;0!=e;)n=t%e,t=e,e=n;return t<0?-t:t}var o=n(2).isInteger;e.name="gcd",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,o){function a(t){for(var e=0,n=0,r=0;r<t.length;r++){var i=s(t[r]);h(n,i)?(e=f(e,f(c(n,i),c(n,i))),e=u(e,1),n=i):e=u(e,p(i)?f(c(i,n),c(i,n)):i)}return f(n,l(e))}var s=r(n(37)),u=r(n(22)),c=r(n(20)),f=r(n(25)),l=r(n(72)),h=r(n(59)),p=r(n(75)),d=o("hypot",{"... number | BigNumber":a,Array:function(t){return d.apply(d,i(t))},Matrix:function(t){return d.apply(d,i(t.toArray()))}});return d.toTex="\\hypot\\left(${args}\\right)",d}var i=n(3).flatten;e.name="hypot",e.factory=r},function(t,e,n){t.exports=[n(37),n(19),n(22),n(555),n(556),n(557),n(57),n(179),n(558),n(559),n(560),n(180),n(561),n(562),n(563),n(565),n(181),n(566),n(567),n(13),n(568),n(569),n(58),n(570),n(182),n(72),n(571),n(23),n(47),n(572),n(573)]},function(t,e,n){"use strict";function r(t,e,r,o){function a(e,n){if(!e.isInt()||!n.isInt())throw new Error("Parameters in function lcm must be integer numbers");if(e.isZero()||n.isZero())return new t.BigNumber(0);for(var r=e.times(n);!n.isZero();){var i=n;n=e.mod(i),e=i}return r.div(e).abs()}var s=r(n(0)),u=r(n(27)),c=r(n(95)),f=r(n(16)),l=r(n(9)),h=r(n(6)),p=o("lcm",{"number, number":i,"BigNumber, BigNumber":a,"Fraction, Fraction":function(t,e){return t.lcm(e)},"Matrix, Matrix":function(t,e){var n;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":n=c(t,e,p);break;default:n=u(e,t,p,!0)}break;default:switch(e.storage()){case"sparse":n=u(t,e,p,!1);break;default:n=l(t,e,p)}}return n},"Array, Array":function(t,e){return p(s(t),s(e)).valueOf()},"Array, Matrix":function(t,e){return p(s(t),e)},"Matrix, Array":function(t,e){return p(t,s(e))},"Matrix, number | BigNumber":function(t,e){var n;switch(t.storage()){case"sparse":n=f(t,e,p,!1);break;default:n=h(t,e,p,!1)}return n},"number | BigNumber, Matrix":function(t,e){var n;switch(e.storage()){case"sparse":n=f(e,t,p,!0);break;default:n=h(e,t,p,!0)}return n},"Array, number | BigNumber":function(t,e){return h(s(t),e,p,!1).valueOf()},"number | BigNumber, Array":function(t,e){return h(s(e),t,p,!0).valueOf()},"Array | Matrix | number | BigNumber, Array | Matrix | number | BigNumber, ...Array | Matrix | number | BigNumber":function(t,e,n){for(var r=p(t,e),i=0;i<n.length;i++)r=p(r,n[i]);return r}});return p.toTex=void 0,p}function i(t,e){if(!o(t)||!o(e))throw new Error("Parameters in function lcm must be integer numbers");if(0==t||0==e)return 0;for(var n,r=t*e;0!=e;)n=e,e=t%n,t=n;return Math.abs(r/t)}var o=n(2).isInteger;e.name="lcm",e.factory=r},function(t,e,n){"use strict";function r(t,e,n,r){var a=r("log10",{number:function(n){return n>=0||e.predictable?o(n):new t.Complex(n,0).log().div(Math.LN10)},Complex:function(e){return new t.Complex(e).log().div(Math.LN10)},BigNumber:function(n){return!n.isNegative()||e.predictable?n.log():new t.Complex(n.toNumber(),0).log().div(Math.LN10)},"Array | Matrix":function(t){return i(t,a)}});return a.toTex={1:"\\log_{10}\\left(${args[0]}\\right)"},a}var i=n(1),o=Math.log10||function(t){return Math.log(t)/Math.LN10};e.name="log10",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,i){function o(t,e){if(e>0)return t-e*Math.floor(t/e);if(0===e)return t;throw new Error("Cannot calculate mod for a negative divisor")}var a=r(n(0)),s=n(4),u=r(n(27)),c=r(n(15)),f=r(n(94)),l=r(n(16)),h=r(n(17)),p=r(n(9)),d=r(n(6)),m=i("mod",{"number, number":o,"BigNumber, BigNumber":function(t,e){return e.isZero()?t:t.mod(e)},"Fraction, Fraction":function(t,e){return t.mod(e)},"Matrix, Matrix":function(t,e){var n;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":n=f(t,e,m,!1);break;default:n=u(e,t,m,!0)}break;default:switch(e.storage()){case"sparse":n=c(t,e,m,!1);break;default:n=p(t,e,m)}}return n},"Array, Array":function(t,e){return m(a(t),a(e)).valueOf()},"Array, Matrix":function(t,e){return m(a(t),e)},"Matrix, Array":function(t,e){return m(t,a(e))},"Matrix, any":function(t,e){var n;switch(t.storage()){case"sparse":n=l(t,e,m,!1);break;default:n=d(t,e,m,!1)}return n},"any, Matrix":function(t,e){var n;switch(e.storage()){case"sparse":n=h(e,t,m,!0);break;default:n=d(e,t,m,!0)}return n},"Array, any":function(t,e){return d(a(t),e,m,!1).valueOf()},"any, Array":function(t,e){return d(a(e),t,m,!0).valueOf()}});return m.toTex={2:"\\left(${args[0]}"+s.operators.mod+"${args[1]}\\right)"},m}e.name="mod",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,i){function o(t,e){var n=t.size();if(1==n.length){if(e===Number.POSITIVE_INFINITY||"inf"===e){var r=0;return t.forEach(function(t){var e=a(t);h(e,r)&&(r=e)},!0),r}if(e===Number.NEGATIVE_INFINITY||"-inf"===e){var i;return t.forEach(function(t){var e=a(t);i&&!p(e,i)||(i=e)},!0),i||0}if("fro"===e)return o(t,2);if("number"==typeof e&&!isNaN(e)){if(!l(e,0)){var d=0;return t.forEach(function(t){d=s(u(a(t),e),d)},!0),u(d,1/e)}return Number.POSITIVE_INFINITY}throw new Error("Unsupported parameter value")}if(2==n.length){if(1===e){var v=[],y=0;return t.forEach(function(t,e){var n=e[1],r=s(v[n]||0,a(t));h(r,y)&&(y=r),v[n]=r},!0),y}if(e===Number.POSITIVE_INFINITY||"inf"===e){var x=[],w=0;return t.forEach(function(t,e){var n=e[0],r=s(x[n]||0,a(t));h(r,w)&&(w=r),x[n]=r},!0),w}if("fro"===e)return c(m(f(g(t),t)));if(2===e)throw new Error("Unsupported parameter value, missing implementation of matrix singular value decomposition");throw new Error("Unsupported parameter value")}}var a=r(n(37)),s=r(n(19)),u=r(n(58)),c=r(n(72)),f=r(n(13)),l=r(n(11)),h=r(n(41)),p=r(n(59)),d=r(n(0)),m=r(n(193)),g=r(n(91)),v=i("norm",{number:Math.abs,Complex:function(t){return t.abs()},BigNumber:function(t){return t.abs()},"boolean | null":function(t){return Math.abs(t)},Array:function(t){return o(d(t),2)},Matrix:function(t){return o(t,2)},"number | Complex | BigNumber | boolean | null, number | BigNumber | string":function(t){return v(t)},"Array, number | BigNumber | string":function(t,e){return o(d(t),e)},"Matrix, number | BigNumber | string":function(t,e){return o(t,e)}});return v.toTex={1:"\\left\\|${args[0]}\\right\\|",2:void 0},v}e.name="norm",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,a){function s(e,n){var r=t.BigNumber.precision,i=t.BigNumber.clone({precision:r+2}),o=new t.BigNumber(0),a=new i(1),s=n.isNegative();if(s&&(n=n.neg()),n.isZero())throw new Error("Root must be non-zero");if(e.isNegative()&&!n.abs().mod(2).equals(1))throw new Error("Root must be odd when a is negative.");if(e.isZero())return s?new i(1/0):0;if(!e.isFinite())return s?o:e;var u=e.abs().pow(a.div(n));return u=e.isNeg()?u.neg():u,new t.BigNumber((s?a.div(u):u).toPrecision(r))}var u=r(n(0)),c=r(n(42)),f=r(n(27)),l=r(n(95)),h=r(n(16)),p=r(n(9)),d=r(n(6)),m=a("nthRoot",{number:function(t){return i(t,2)},"number, number":i,BigNumber:function(e){return s(e,new t.BigNumber(2))},Complex:function(t){return o(t,2)},"Complex, number":o,"BigNumber, BigNumber":s,"Array | Matrix":function(t){return m(t,2)},"Matrix, Matrix":function(t,e){var n;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":if(1!==e.density())throw new Error("Root must be non-zero");n=l(t,e,m);break;default:n=f(e,t,m,!0)}break;default:switch(e.storage()){case"sparse":if(1!==e.density())throw new Error("Root must be non-zero");n=c(t,e,m,!1);break;default:n=p(t,e,m)}}return n},"Array, Array":function(t,e){return m(u(t),u(e)).valueOf()},"Array, Matrix":function(t,e){return m(u(t),e)},"Matrix, Array":function(t,e){return m(t,u(e))},"Matrix, number | BigNumber":function(t,e){var n;switch(t.storage()){case"sparse":n=h(t,e,m,!1);break;default:n=d(t,e,m,!1)}return n},"number | BigNumber, Matrix":function(t,e){var n;switch(e.storage()){case"sparse":if(1!==e.density())throw new Error("Root must be non-zero");n=h(e,t,m,!0);break;default:n=d(e,t,m,!0)}return n},"Array, number | BigNumber":function(t,e){return m(u(t),e).valueOf()},"number | BigNumber, Array":function(t,e){return m(t,u(e)).valueOf()}});return m.toTex={2:"\\sqrt[${args[1]}]{${args[0]}}"},m}function i(t,e){var n=e<0;if(n&&(e=-e),0===e)throw new Error("Root must be non-zero");if(t<0&&Math.abs(e)%2!=1)throw new Error("Root must be odd when a is negative.");if(0==t)return n?1/0:0;if(!isFinite(t))return n?0:t;var r=Math.pow(Math.abs(t),1/e);return r=t<0?-r:r,n?1/r:r}function o(t,e){if(e<0)throw new Error("Root must be greater than zero");if(0===e)throw new Error("Root must be non-zero");if(e%1!=0)throw new Error("Root must be an integer");for(var n=t.arg(),r=t.abs(),i=[],o=Math.pow(r,1/e),a=0;a<e;a++)i.push({r:o,phi:(n+2*Math.PI*a)/e});return i}e.name="nthRoot",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,a){var c=r(n(0)),f=r(n(11)),l=r(n(48)),h=r(n(16)),p=r(n(17)),d=r(n(6)),m=a("round",{number:Math.round,"number, number":function(t,e){if(!o(e))throw new TypeError(u);if(e<0||e>15)throw new Error("Number of decimals in function round must be in te range of 0-15");return i(t,e)},Complex:function(t){return t.round()},"Complex, number":function(t,e){if(e%1)throw new TypeError(u);return t.round(e)},"Complex, BigNumber":function(t,e){if(!e.isInteger())throw new TypeError(u);var n=e.toNumber();return t.round(n)},"number, BigNumber":function(e,n){if(!n.isInteger())throw new TypeError(u);return new t.BigNumber(e).toDecimalPlaces(n.toNumber())},BigNumber:function(t){return t.toDecimalPlaces(0)},"BigNumber, BigNumber":function(t,e){if(!e.isInteger())throw new TypeError(u);return t.toDecimalPlaces(e.toNumber())},Fraction:function(t){return t.round()},"Fraction, number":function(t,e){if(e%1)throw new TypeError(u);return t.round(e)},"Array | Matrix":function(t){return s(t,m,!0)},"Matrix, number | BigNumber":function(t,e){var n;switch(t.storage()){case"sparse":n=h(t,e,m,!1);break;default:n=d(t,e,m,!1)}return n},"number | Complex | BigNumber, Matrix":function(t,e){if(!f(t,0)){var n;switch(e.storage()){case"sparse":n=p(e,t,m,!0);break;default:n=d(e,t,m,!0)}return n}return l(e.size(),e.storage())},"Array, number | BigNumber":function(t,e){return d(c(t),e,m,!1).valueOf()},"number | Complex | BigNumber, Array":function(t,e){return d(c(e),t,m,!0).valueOf()}});return m.toTex={1:"\\left\\lfloor${args[0]}\\right\\rceil",2:void 0},m}function i(t,e){return parseFloat(a(t,e))}var o=n(2).isInteger,a=n(2).toFixed,s=n(1),u="Number of decimals in function round must be an integer";e.name="round",e.factory=r},function(t,e,n){"use strict";function r(t,e,n,r){var o=r("square",{number:function(t){return t*t},Complex:function(t){return t.mul(t)},BigNumber:function(t){return t.times(t)},Fraction:function(t){return t.mul(t)},"Array | Matrix":function(t){return i(t,o,!0)},Unit:function(t){return t.pow(2)}});return o.toTex={1:"\\left(${args[0]}\\right)^2"},o}var i=n(1);e.name="square",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,o){var a=n(4),s=o("unaryPlus",{number:function(t){return t},Complex:function(t){return t},BigNumber:function(t){return t},Fraction:function(t){return t},Unit:function(t){return t.clone()},"Array | Matrix":function(t){return i(t,s,!0)},"boolean | string | null":function(n){return"BigNumber"==e.number?new t.BigNumber(+n):+n}});return s.toTex={1:a.operators.unaryPlus+"\\left(${args[0]}\\right)"},s}var i=n(1);e.name="unaryPlus",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,o){function a(t,n){var r,o,a,s=0,c=1,f=1,l=0;if(!i(t)||!i(n))throw new Error("Parameters in function xgcd must be integer numbers");for(;n;)o=Math.floor(t/n),a=t-o*n,r=s,s=c-o*s,c=r,r=f,f=l-o*f,l=r,t=n,n=a;var h;return h=t<0?[-t,-c,-l]:[t,t?c:0,l],"Array"===e.matrix?h:u(h)}function s(n,r){var i,o,a,s=new t.BigNumber(0),c=new t.BigNumber(1),f=s,l=c,h=c,p=s;if(!n.isInt()||!r.isInt())throw new Error("Parameters in function xgcd must be integer numbers");for(;!r.isZero();)o=n.div(r).floor(),a=n.mod(r),i=f,f=l.minus(o.times(f)),l=i,i=h,h=p.minus(o.times(h)),p=i,n=r,r=a;var d;return d=n.lt(s)?[n.neg(),l.neg(),p.neg()]:[n,n.isZero()?0:l,p],"Array"===e.matrix?d:u(d)}var u=r(n(0)),c=o("xgcd",{"number, number":a,"BigNumber, BigNumber":s});return c.toTex=void 0,c}var i=n(2).isInteger;e.name="xgcd",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,a){var s=n(4),u=r(n(0)),c=r(n(27)),f=r(n(95)),l=r(n(16)),h=r(n(9)),p=r(n(6)),d=a("bitAnd",{"number, number":function(t,e){if(!i(t)||!i(e))throw new Error("Integers expected in function bitAnd");return t&e},"BigNumber, BigNumber":o,"Matrix, Matrix":function(t,e){var n;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":n=f(t,e,d,!1);break;default:n=c(e,t,d,!0)}break;default:switch(e.storage()){case"sparse":n=c(t,e,d,!1);break;default:n=h(t,e,d)}}return n},"Array, Array":function(t,e){return d(u(t),u(e)).valueOf()},"Array, Matrix":function(t,e){return d(u(t),e)},"Matrix, Array":function(t,e){return d(t,u(e))},"Matrix, any":function(t,e){var n;switch(t.storage()){case"sparse":n=l(t,e,d,!1);break;default:n=p(t,e,d,!1)}return n},"any, Matrix":function(t,e){var n;switch(e.storage()){case"sparse":n=l(e,t,d,!0);break;default:n=p(e,t,d,!0)}return n},"Array, any":function(t,e){return p(u(t),e,d,!1).valueOf()},"any, Array":function(t,e){return p(u(e),t,d,!0).valueOf()}});return d.toTex={2:"\\left(${args[0]}"+s.operators.bitAnd+"${args[1]}\\right)"},d}var i=n(2).isInteger,o=n(691);e.name="bitAnd",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,s){var u=n(4),c=s("bitNot",{number:function(t){if(!a(t))throw new Error("Integer expected in function bitNot");return~t},BigNumber:o,"Array | Matrix":function(t){return i(t,c)}});return c.toTex={1:u.operators.bitNot+"\\left(${args[0]}\\right)"},c}var i=n(1),o=n(130),a=n(2).isInteger;e.name="bitNot",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,a){var s=n(4),u=r(n(0)),c=r(n(42)),f=r(n(127)),l=r(n(49)),h=r(n(9)),p=r(n(6)),d=a("bitOr",{"number, number":function(t,e){if(!i(t)||!i(e))throw new Error("Integers expected in function bitOr");return t|e},"BigNumber, BigNumber":o,"Matrix, Matrix":function(t,e){var n;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":n=f(t,e,d);break;default:n=c(e,t,d,!0)}break;default:switch(e.storage()){case"sparse":n=c(t,e,d,!1);break;default:n=h(t,e,d)}}return n},"Array, Array":function(t,e){return d(u(t),u(e)).valueOf()},"Array, Matrix":function(t,e){return d(u(t),e)},"Matrix, Array":function(t,e){return d(t,u(e))},"Matrix, any":function(t,e){var n;switch(t.storage()){case"sparse":n=l(t,e,d,!1);break;default:n=p(t,e,d,!1)}return n},"any, Matrix":function(t,e){var n;switch(e.storage()){case"sparse":n=l(e,t,d,!0);break;default:n=p(e,t,d,!0)}return n},"Array, any":function(t,e){return p(u(t),e,d,!1).valueOf()},"any, Array":function(t,e){return p(u(e),t,d,!0).valueOf()}});return d.toTex={2:"\\left(${args[0]}"+s.operators.bitOr+"${args[1]}\\right)"},d}var i=n(2).isInteger,o=n(692);e.name="bitOr",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,a){var s=n(4),u=r(n(0)),c=r(n(15)),f=r(n(32)),l=r(n(17)),h=r(n(9)),p=r(n(6)),d=a("bitXor",{"number, number":function(t,e){if(!i(t)||!i(e))throw new Error("Integers expected in function bitXor");return t^e},"BigNumber, BigNumber":o,"Matrix, Matrix":function(t,e){var n;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":n=f(t,e,d);break;default:n=c(e,t,d,!0)}break;default:switch(e.storage()){case"sparse":n=c(t,e,d,!1);break;default:n=h(t,e,d)}}return n},"Array, Array":function(t,e){return d(u(t),u(e)).valueOf()},"Array, Matrix":function(t,e){return d(u(t),e)},"Matrix, Array":function(t,e){return d(t,u(e))},"Matrix, any":function(t,e){var n;switch(t.storage()){case"sparse":n=l(t,e,d,!1);break;default:n=p(t,e,d,!1)}return n},"any, Matrix":function(t,e){var n;switch(e.storage()){case"sparse":n=l(e,t,d,!0);break;default:n=p(e,t,d,!0)}return n},"Array, any":function(t,e){return p(u(t),e,d,!1).valueOf()},"any, Array":function(t,e){return p(u(e),t,d,!0).valueOf()}});return d.toTex={2:"\\left(${args[0]}"+s.operators.bitXor+"${args[1]}\\right)"},d}var i=n(2).isInteger,o=n(693);e.name="bitXor",e.factory=r},function(t,e,n){t.exports=[n(574),n(575),n(576),n(577),n(579),n(580),n(581)]},function(t,e,n){"use strict";function r(t,e,r,a){var s=n(4),u=r(n(0)),c=r(n(11)),f=r(n(48)),l=r(n(42)),h=r(n(27)),p=r(n(128)),d=r(n(49)),m=r(n(16)),g=r(n(9)),v=r(n(6)),y=a("leftShift",{"number, number":function(t,e){if(!i(t)||!i(e))throw new Error("Integers expected in function leftShift");return t<<e},"BigNumber, BigNumber":o,"Matrix, Matrix":function(t,e){var n;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":n=p(t,e,y,!1);break;default:n=h(e,t,y,!0)}break;default:switch(e.storage()){case"sparse":n=l(t,e,y,!1);break;default:n=g(t,e,y)}}return n},"Array, Array":function(t,e){return y(u(t),u(e)).valueOf()},"Array, Matrix":function(t,e){return y(u(t),e)},"Matrix, Array":function(t,e){return y(t,u(e))},"Matrix, number | BigNumber":function(t,e){if(!c(e,0)){var n;switch(t.storage()){case"sparse":n=m(t,e,y,!1);break;default:n=v(t,e,y,!1)}return n}return t.clone()},"number | BigNumber, Matrix":function(t,e){if(!c(t,0)){var n;switch(e.storage()){case"sparse":n=d(e,t,y,!0);break;default:n=v(e,t,y,!0)}return n}return f(e.size(),e.storage())},"Array, number | BigNumber":function(t,e){return y(u(t),e).valueOf()},"number | BigNumber, Array":function(t,e){return y(t,u(e)).valueOf()}});return y.toTex={2:"\\left(${args[0]}"+s.operators.leftShift+"${args[1]}\\right)"},y}var i=n(2).isInteger,o=n(695);e.name="leftShift",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,a){var s=n(4),u=r(n(0)),c=r(n(11)),f=r(n(48)),l=r(n(42)),h=r(n(27)),p=r(n(128)),d=r(n(49)),m=r(n(16)),g=r(n(9)),v=r(n(6)),y=a("rightArithShift",{"number, number":function(t,e){if(!i(t)||!i(e))throw new Error("Integers expected in function rightArithShift");return t>>e},"BigNumber, BigNumber":o,"Matrix, Matrix":function(t,e){var n;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":n=p(t,e,y,!1);break;default:n=h(e,t,y,!0)}break;default:switch(e.storage()){case"sparse":n=l(t,e,y,!1);break;default:n=g(t,e,y)}}return n},"Array, Array":function(t,e){return y(u(t),u(e)).valueOf()},"Array, Matrix":function(t,e){return y(u(t),e)},"Matrix, Array":function(t,e){return y(t,u(e))},"Matrix, number | BigNumber":function(t,e){if(!c(e,0)){var n;switch(t.storage()){case"sparse":n=m(t,e,y,!1);break;default:n=v(t,e,y,!1)}return n}return t.clone()},"number | BigNumber, Matrix":function(t,e){if(!c(t,0)){var n;switch(e.storage()){case"sparse":n=d(e,t,y,!0);break;default:n=v(e,t,y,!0)}return n}return f(e.size(),e.storage())},"Array, number | BigNumber":function(t,e){return y(u(t),e).valueOf()},"number | BigNumber, Array":function(t,e){return y(t,u(e)).valueOf()}});return y.toTex={2:"\\left(${args[0]}"+s.operators.rightArithShift+"${args[1]}\\right)"},y}var i=n(2).isInteger,o=n(696);e.name="rightArithShift",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,o){var a=n(4),s=r(n(0)),u=r(n(11)),c=r(n(48)),f=r(n(42)),l=r(n(27)),h=r(n(128)),p=r(n(49)),d=r(n(16)),m=r(n(9)),g=r(n(6)),v=o("rightLogShift",{"number, number":function(t,e){if(!i(t)||!i(e))throw new Error("Integers expected in function rightLogShift");return t>>>e},"Matrix, Matrix":function(t,e){var n;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":n=h(t,e,v,!1);break;default:n=l(e,t,v,!0)}break;default:switch(e.storage()){case"sparse":n=f(t,e,v,!1);break;default:n=m(t,e,v)}}return n},"Array, Array":function(t,e){return v(s(t),s(e)).valueOf()},"Array, Matrix":function(t,e){return v(s(t),e)},"Matrix, Array":function(t,e){return v(t,s(e))},"Matrix, number | BigNumber":function(t,e){if(!u(e,0)){var n;switch(t.storage()){case"sparse":n=d(t,e,v,!1);break;default:n=g(t,e,v,!1)}return n}return t.clone()},"number | BigNumber, Matrix":function(t,e){if(!u(t,0)){var n;switch(e.storage()){case"sparse":n=p(e,t,v,!0);break;default:n=g(e,t,v,!0)}return n}return c(e.size(),e.storage())},"Array, number | BigNumber":function(t,e){return v(s(t),e).valueOf()},"number | BigNumber, Array":function(t,e){return v(t,s(e)).valueOf()}});return v.toTex={2:"\\left(${args[0]}"+a.operators.rightLogShift+"${args[1]}\\right)"},v}var i=n(2).isInteger;e.name="rightLogShift",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,i){var o=r(n(19)),a=r(n(183)),s=r(n(74)),u=r(n(60)),c=i("bellNumbers",{"number | BigNumber":function(t){if(!u(t)||s(t))throw new TypeError("Non-negative integer value expected in function bellNumbers");for(var e=0,n=0;n<=t;n++)e=o(e,a(t,n));return e}});return c.toTex={1:"\\mathrm{B}_{${args[0]}}"},c}e.name="bellNumbers",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,i){var o=r(n(19)),a=r(n(57)),s=r(n(13)),u=r(n(92)),c=r(n(74)),f=r(n(60)),l=i("catalan",{"number | BigNumber":function(t){if(!f(t)||c(t))throw new TypeError("Non-negative integer value expected in function catalan");return a(u(s(t,2),t),o(t,1))}});return l.toTex={1:"\\mathrm{C}_{${args[0]}}"},l}e.name="catalan",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,i){var o=r(n(92)),a=r(n(22)),s=r(n(75)),u=r(n(60)),c=r(n(41)),f=i("composition",{"number | BigNumber, number | BigNumber":function(t,e){if(!(u(t)&&s(t)&&u(e)&&s(e)))throw new TypeError("Positive integer value expected in function composition");if(c(e,t))throw new TypeError("k must be less than or equal to n in function composition");return o(a(t,-1),a(e,-1))}});return f.toTex=void 0,f}e.name="composition",e.factory=r},function(t,e,n){t.exports=[n(582),n(584),n(183),n(583)]},function(t,e,n){"use strict";function r(t,e,n,r){var o=r("arg",{number:function(t){return Math.atan2(0,t)},BigNumber:function(e){return t.BigNumber.atan2(0,e)},Complex:function(t){return t.arg()},"Array | Matrix":function(t){return i(t,o)}});return o.toTex={1:"\\arg\\left(${args[0]}\\right)"},o}var i=n(1);e.name="arg",e.factory=r},function(t,e,n){"use strict";function r(t,e,n,r){var o=r("im",{number:function(t){return 0},BigNumber:function(e){return new t.BigNumber(0)},Complex:function(t){return t.im},"Array | Matrix":function(t){return i(t,o)}});return o.toTex={1:"\\Im\\left\\lbrace${args[0]}\\right\\rbrace"},o}var i=n(1);e.name="im",e.factory=r},function(t,e,n){t.exports=[n(586),n(184),n(587),n(589)]},function(t,e,n){"use strict";function r(t,e,n,r){var o=r("re",{number:function(t){return t},BigNumber:function(t){return t},Complex:function(t){return t.re},"Array | Matrix":function(t){return i(t,o)}});return o.toTex={1:"\\Re\\left\\lbrace${args[0]}\\right\\rbrace"},o}var i=n(1);e.name="re",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,s){r(n(0));return s("distance",{"Array, Array, Array":function(t,e,n){if(2==t.length&&2==e.length&&2==n.length){if(!i(t))throw new TypeError("Array with 2 numbers expected for first argument");if(!i(e))throw new TypeError("Array with 2 numbers expected for second argument");if(!i(n))throw new TypeError("Array with 2 numbers expected for third argument");var r=(n[1]-n[0])/(e[1]-e[0]),o=r*r*e[0],a=r*e[0]*-1,s=t[1];return c(t[0],t[1],o,a,s)}throw new TypeError("Invalid Arguments: Try again")},"Object, Object, Object":function(t,e,n){if(2==Object.keys(t).length&&2==Object.keys(e).length&&2==Object.keys(n).length){if(!i(t))throw new TypeError("Values of pointX and pointY should be numbers");if(!i(e))throw new TypeError("Values of lineOnePtX and lineOnePtY should be numbers");if(!i(n))throw new TypeError("Values of lineTwoPtX and lineTwoPtY should be numbers");if(t.hasOwnProperty("pointX")&&t.hasOwnProperty("pointY")&&e.hasOwnProperty("lineOnePtX")&&e.hasOwnProperty("lineOnePtY")&&n.hasOwnProperty("lineTwoPtX")&&n.hasOwnProperty("lineTwoPtY")){var r=(n.lineTwoPtY-n.lineTwoPtX)/(e.lineOnePtY-e.lineOnePtX),o=r*r*e.lineOnePtX,a=r*e.lineOnePtX*-1,s=t.pointX;return c(t.pointX,t.pointY,o,a,s)}throw new TypeError("Key names do not match")}throw new TypeError("Invalid Arguments: Try again")},"Array, Array":function(t,e){if(2==t.length&&3==e.length){if(!i(t))throw new TypeError("Array with 2 numbers expected for first argument");if(!o(e))throw new TypeError("Array with 3 numbers expected for second argument");return c(t[0],t[1],e[0],e[1],e[2])}if(3==t.length&&6==e.length){if(!o(t))throw new TypeError("Array with 3 numbers expected for first argument");if(!a(e))throw new TypeError("Array with 6 numbers expected for second argument");return f(t[0],t[1],t[2],e[0],e[1],e[2],e[3],e[4],e[5])}if(2==t.length&&2==e.length){if(!i(t))throw new TypeError("Array with 2 numbers expected for first argument");if(!i(e))throw new TypeError("Array with 2 numbers expected for second argument");return l(t[0],t[1],e[0],e[1])}if(3==t.length&&3==e.length){if(!o(t))throw new TypeError("Array with 3 numbers expected for first argument");if(!o(e))throw new TypeError("Array with 3 numbers expected for second argument");return h(t[0],t[1],t[2],e[0],e[1],e[2])}throw new TypeError("Invalid Arguments: Try again")},"Object, Object":function(t,e){if(2==Object.keys(t).length&&3==Object.keys(e).length){if(!i(t))throw new TypeError("Values of pointX and pointY should be numbers");if(!o(e))throw new TypeError("Values of xCoeffLine, yCoeffLine and constant should be numbers");if(t.hasOwnProperty("pointX")&&t.hasOwnProperty("pointY")&&e.hasOwnProperty("xCoeffLine")&&e.hasOwnProperty("yCoeffLine")&&e.hasOwnProperty("yCoeffLine"))return c(t.pointX,t.pointY,e.xCoeffLine,e.yCoeffLine,e.constant);throw new TypeError("Key names do not match")}if(3==Object.keys(t).length&&6==Object.keys(e).length){if(!o(t))throw new TypeError("Values of pointX, pointY and pointZ should be numbers");if(!a(e))throw new TypeError("Values of x0, y0, z0, a, b and c should be numbers");if(t.hasOwnProperty("pointX")&&t.hasOwnProperty("pointY")&&e.hasOwnProperty("x0")&&e.hasOwnProperty("y0")&&e.hasOwnProperty("z0")&&e.hasOwnProperty("a")&&e.hasOwnProperty("b")&&e.hasOwnProperty("c"))return f(t.pointX,t.pointY,t.pointZ,e.x0,e.y0,e.z0,e.a,e.b,e.c);throw new TypeError("Key names do not match")}if(2==Object.keys(t).length&&2==Object.keys(e).length){if(!i(t))throw new TypeError("Values of pointOneX and pointOneY should be numbers");if(!i(e))throw new TypeError("Values of pointTwoX and pointTwoY should be numbers");if(t.hasOwnProperty("pointOneX")&&t.hasOwnProperty("pointOneY")&&e.hasOwnProperty("pointTwoX")&&e.hasOwnProperty("pointTwoY"))return l(t.pointOneX,t.pointOneY,e.pointTwoX,e.pointTwoY);throw new TypeError("Key names do not match")}if(3==Object.keys(t).length&&3==Object.keys(e).length){if(!o(t))throw new TypeError("Values of pointOneX, pointOneY and pointOneZ should be numbers");if(!o(e))throw new TypeError("Values of pointTwoX, pointTwoY and pointTwoZ should be numbers");if(t.hasOwnProperty("pointOneX")&&t.hasOwnProperty("pointOneY")&&t.hasOwnProperty("pointOneZ")&&e.hasOwnProperty("pointTwoX")&&e.hasOwnProperty("pointTwoY")&&e.hasOwnProperty("pointTwoZ"))return h(t.pointOneX,t.pointOneY,t.pointOneZ,e.pointTwoX,e.pointTwoY,e.pointTwoZ);throw new TypeError("Key names do not match")}throw new TypeError("Invalid Arguments: Try again")},Array:function(t){if(!u(t))throw new TypeError("Incorrect array format entered for pairwise distance calculation");return p(t)}})}function i(t){return t.constructor!==Array&&(t=s(t)),"number"==typeof t[0]&&"number"==typeof t[1]}function o(t){return t.constructor!==Array&&(t=s(t)),"number"==typeof t[0]&&"number"==typeof t[1]&&"number"==typeof t[2]}function a(t){return t.constructor!==Array&&(t=s(t)),"number"==typeof t[0]&&"number"==typeof t[1]&&"number"==typeof t[2]&&"number"==typeof t[3]&&"number"==typeof t[4]&&"number"==typeof t[5]}function s(t){for(var e=Object.keys(t),n=[],r=0;r<e.length;r++)n.push(t[e[r]]);return n}function u(t){if(2==t[0].length&&"number"==typeof t[0][0]&&"number"==typeof t[0][1]){for(var e in t)if(2!=t[e].length||"number"!=typeof t[e][0]||"number"!=typeof t[e][1])return!1}else{if(3!=t[0].length||"number"!=typeof t[0][0]||"number"!=typeof t[0][1]||"number"!=typeof t[0][2])return!1;for(var e in t)if(3!=t[e].length||"number"!=typeof t[e][0]||"number"!=typeof t[e][1]||"number"!=typeof t[e][2])return!1}return!0}function c(t,e,n,r,i){return Math.abs(n*t+r*e+i)/Math.pow(n*n+r*r,.5)}function f(t,e,n,r,i,o,a,s,u){var c=[(i-e)*u-(o-n)*s,(o-n)*a-(r-t)*u,(r-t)*s-(i-e)*a];return(c=Math.pow(c[0]*c[0]+c[1]*c[1]+c[2]*c[2],.5))/Math.pow(a*a+s*s+u*u,.5)}function l(t,e,n,r){var i=r-e,o=n-t,a=i*i+o*o;return Math.pow(a,.5)}function h(t,e,n,r,i,o){var a=o-n,s=i-e,u=r-t,c=a*a+s*s+u*u;return Math.pow(c,.5)}function p(t){for(var e=[],n=0;n<t.length-1;n++)for(var r=n+1;r<t.length;r++)2==t[0].length?e.push(l(t[n][0],t[n][1],t[r][0],t[r][1])):3==t[0].length&&e.push(h(t[n][0],t[n][1],t[n][2],t[r][0],t[r][1],t[r][2]));return e}e.name="distance",e.factory=r},function(t,e,n){t.exports=[n(592),n(590)]},function(t,e,n){"use strict";function r(t,e,r,i){function o(t){return 2===t.length&&"number"==typeof t[0]&&"number"==typeof t[1]}function a(t){return 3===t.length&&"number"==typeof t[0]&&"number"==typeof t[1]&&"number"==typeof t[2]}function s(t){return 4===t.length&&"number"==typeof t[0]&&"number"==typeof t[1]&&"number"==typeof t[2]&&"number"==typeof t[3]}function u(t,n,r,i){var o=t,a=r,s=m(o,n),u=m(a,i),c=s[0]*u[1]-u[0]*s[1];if(l(c)<e.epsilon)return null;var f=(u[0]*o[1]-u[1]*o[0]-u[0]*a[1]+u[1]*a[0])/c;return h(d(s,f),o)}function c(t,e,n,r,i,o,a,s,u,c,f,l){var h=(t-a)*(c-a)+(e-s)*(f-s)+(n-u)*(l-u),p=(c-a)*(r-t)+(f-s)*(i-e)+(l-u)*(o-n),d=(t-a)*(r-t)+(e-s)*(i-e)+(n-u)*(o-n),m=(c-a)*(c-a)+(f-s)*(f-s)+(l-u)*(l-u),g=(r-t)*(r-t)+(i-e)*(i-e)+(o-n)*(o-n),v=(h*p-d*m)/(g*m-p*p),y=(h+v*p)/m,x=t+v*(r-t),w=e+v*(i-e),b=n+v*(o-n),_=a+y*(c-a),N=s+y*(f-s),E=u+y*(l-u);return x===_&&w===N&&b===E?[x,w,b]:null}function f(t,e,n,r,i,o,a,s,u,c){var f=(c-t*a-e*s-n*u)/(r*a+i*s+o*u-t-e-n);return[t+f*(r-t),e+f*(i-e),n+f*(o-n)]}var l=r(n(37)),h=r(n(19)),p=r(n(0)),d=r(n(13)),m=r(n(23)),g=i("intersect",{"Array, Array, Array":function(t,e,n){if(!a(t))throw new TypeError("Array with 3 numbers expected for first argument");if(!a(e))throw new TypeError("Array with 3 numbers expected for second argument");if(!s(n))throw new TypeError("Array with 4 numbers expected as third argument");return f(t[0],t[1],t[2],e[0],e[1],e[2],n[0],n[1],n[2],n[3])},"Array, Array, Array, Array":function(t,e,n,r){if(2===t.length){if(!o(t))throw new TypeError("Array with 2 numbers expected for first argument");if(!o(e))throw new TypeError("Array with 2 numbers expected for second argument");if(!o(n))throw new TypeError("Array with 2 numbers expected for third argument");if(!o(r))throw new TypeError("Array with 2 numbers expected for fourth argument");return u(t,e,n,r)}if(3===t.length){if(!a(t))throw new TypeError("Array with 3 numbers expected for first argument");if(!a(e))throw new TypeError("Array with 3 numbers expected for second argument");if(!a(n))throw new TypeError("Array with 3 numbers expected for third argument");if(!a(r))throw new TypeError("Array with 3 numbers expected for fourth argument");return c(t[0],t[1],t[2],e[0],e[1],e[2],n[0],n[1],n[2],r[0],r[1],r[2])}throw new TypeError("Arrays with two or thee dimensional points expected")},"Matrix, Matrix, Matrix":function(t,e,n){return p(g(t.valueOf(),e.valueOf(),n.valueOf()))},"Matrix, Matrix, Matrix, Matrix":function(t,e,n,r){return p(g(t.valueOf(),e.valueOf(),n.valueOf(),r.valueOf()))}});return g}e.name="intersect",e.factory=r},function(t,e,n){t.exports=[n(538),n(564),n(578),n(585),n(588),n(591),n(595),n(602),n(610),n(619),n(622),n(623),n(629),n(649),n(656),n(658)]},function(t,e,n){"use strict";function r(t,e,r,i){var o=n(4),a=r(n(0)),s=r(n(48)),u=r(n(185)),c=(r(n(125)),r(n(27))),f=r(n(95)),l=r(n(16)),h=r(n(9)),p=r(n(6)),d=i("and",{"number, number":function(t,e){return!(!t||!e)},"Complex, Complex":function(t,e){return!(0===t.re&&0===t.im||0===e.re&&0===e.im)},"BigNumber, BigNumber":function(t,e){return!(t.isZero()||e.isZero()||t.isNaN()||e.isNaN())},"Unit, Unit":function(t,e){return d(t.value,e.value)},"Matrix, Matrix":function(t,e){var n;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":n=f(t,e,d,!1);break;default:n=c(e,t,d,!0)}break;default:switch(e.storage()){case"sparse":n=c(t,e,d,!1);break;default:n=h(t,e,d)}}return n},"Array, Array":function(t,e){return d(a(t),a(e)).valueOf()},"Array, Matrix":function(t,e){return d(a(t),e)},"Matrix, Array":function(t,e){return d(t,a(e))},"Matrix, any":function(t,e){if(u(e))return s(t.size(),t.storage());var n;switch(t.storage()){case"sparse":n=l(t,e,d,!1);break;default:n=p(t,e,d,!1)}return n},"any, Matrix":function(t,e){if(u(t))return s(t.size(),t.storage());var n;switch(e.storage()){case"sparse":n=l(e,t,d,!0);break;default:n=p(e,t,d,!0)}return n},"Array, any":function(t,e){return d(a(t),e).valueOf()},"any, Array":function(t,e){return d(t,a(e)).valueOf()}});return d.toTex={2:"\\left(${args[0]}"+o.operators.and+"${args[1]}\\right)"},d}e.name="and",e.factory=r},function(t,e,n){t.exports=[n(594),n(185),n(596),n(597)]},function(t,e,n){"use strict";function r(t,e,r,i){var o=n(4),a=r(n(0)),s=r(n(15)),u=r(n(94)),c=r(n(17)),f=r(n(9)),l=r(n(6)),h=i("or",{"number, number":function(t,e){return!(!t&&!e)},"Complex, Complex":function(t,e){return 0!==t.re||0!==t.im||0!==e.re||0!==e.im},"BigNumber, BigNumber":function(t,e){return!t.isZero()&&!t.isNaN()||!e.isZero()&&!e.isNaN()},"Unit, Unit":function(t,e){return h(t.value,e.value)},"Matrix, Matrix":function(t,e){var n;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":n=u(t,e,h);break;default:n=s(e,t,h,!0)}break;default:switch(e.storage()){case"sparse":n=s(t,e,h,!1);break;default:n=f(t,e,h)}}return n},"Array, Array":function(t,e){return h(a(t),a(e)).valueOf()},"Array, Matrix":function(t,e){return h(a(t),e)},"Matrix, Array":function(t,e){return h(t,a(e))},"Matrix, any":function(t,e){var n;switch(t.storage()){case"sparse":n=c(t,e,h,!1);break;default:n=l(t,e,h,!1)}return n},"any, Matrix":function(t,e){var n;switch(e.storage()){case"sparse":n=c(e,t,h,!0);break;default:n=l(e,t,h,!0)}return n},"Array, any":function(t,e){return l(a(t),e,h,!1).valueOf()},"any, Array":function(t,e){return l(a(e),t,h,!0).valueOf()}});return h.toTex={2:"\\left(${args[0]}"+o.operators.or+"${args[1]}\\right)"},h}e.name="or",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,i){var o=n(4),a=r(n(0)),s=r(n(15)),u=r(n(32)),c=r(n(17)),f=r(n(9)),l=r(n(6)),h=i("xor",{"number, number":function(t,e){return!!(!!t^!!e)},"Complex, Complex":function(t,e){return(0!==t.re||0!==t.im)!=(0!==e.re||0!==e.im)},"BigNumber, BigNumber":function(t,e){return(!t.isZero()&&!t.isNaN())!=(!e.isZero()&&!e.isNaN())},"Unit, Unit":function(t,e){return h(t.value,e.value)},"Matrix, Matrix":function(t,e){var n;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":n=u(t,e,h);break;default:n=s(e,t,h,!0)}break;default:switch(e.storage()){case"sparse":n=s(t,e,h,!1);break;default:n=f(t,e,h)}}return n},"Array, Array":function(t,e){return h(a(t),a(e)).valueOf()},"Array, Matrix":function(t,e){return h(a(t),e)},"Matrix, Array":function(t,e){return h(t,a(e))},"Matrix, any":function(t,e){var n;switch(t.storage()){case"sparse":n=c(t,e,h,!1);break;default:n=l(t,e,h,!1)}return n},"any, Matrix":function(t,e){var n;switch(e.storage()){case"sparse":n=c(e,t,h,!0);break;default:n=l(e,t,h,!0)}return n},"Array, any":function(t,e){return l(a(t),e,h,!1).valueOf()},"any, Array":function(t,e){return l(a(e),t,h,!0).valueOf()}});return h.toTex={2:"\\left(${args[0]}"+o.operators.xor+"${args[1]}\\right)"},h}e.name="xor",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,o){function a(t,e){var n=Math.max(i.size(t).length,i.size(e).length);t=i.squeeze(t),e=i.squeeze(e);var r=i.size(t),o=i.size(e);if(1!=r.length||1!=o.length||3!=r[0]||3!=o[0])throw new RangeError("Vectors with length 3 expected (Size A = ["+r.join(", ")+"], B = ["+o.join(", ")+"])");var a=[u(c(t[1],e[2]),c(t[2],e[1])),u(c(t[2],e[0]),c(t[0],e[2])),u(c(t[0],e[1]),c(t[1],e[0]))];return n>1?[a]:a}var s=r(n(0)),u=r(n(23)),c=r(n(13)),f=o("cross",{"Matrix, Matrix":function(t,e){return s(a(t.toArray(),e.toArray()))},"Matrix, Array":function(t,e){return s(a(t.toArray(),e))},"Array, Matrix":function(t,e){return s(a(t,e.toArray()))},"Array, Array":a});return f.toTex={2:"\\left(${args[0]}\\right)\\times\\left(${args[1]}\\right)"},f}var i=n(3);e.name="cross",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,a){function s(t,e,n,r){if(!o(e))throw new TypeError("Second parameter in function diag must be an integer");var i=e>0?e:0,a=e<0?-e:0;switch(n.length){case 1:return u(t,e,r,n[0],a,i);case 2:return c(t,e,r,n,a,i)}throw new RangeError("Matrix for function diag must be 2 dimensional")}function u(e,n,r,i,o,a){var s=[i+o,i+a],u=t.Matrix.storage(r||"dense"),c=u.diagonal(s,e,n);return null!==r?c:c.valueOf()}function c(t,e,n,r,i,o){if(t&&!0===t.isMatrix){var a=t.diagonal(e);return null!==n?n!==a.storage()?f(a,n):a:a.valueOf()}for(var s=Math.min(r[0]-i,r[1]-o),u=[],c=0;c<s;c++)u[c]=t[c+i][c+o];return null!==n?f(u):u}var f=r(n(0)),l=a("diag",{Array:function(t){return s(t,0,i.size(t),null)},"Array, number":function(t,e){return s(t,e,i.size(t),null)},"Array, BigNumber":function(t,e){return s(t,e.toNumber(),i.size(t),null)},"Array, string":function(t,e){return s(t,0,i.size(t),e)},"Array, number, string":function(t,e,n){return s(t,e,i.size(t),n)},"Array, BigNumber, string":function(t,e,n){return s(t,e.toNumber(),i.size(t),n)},Matrix:function(t){return s(t,0,t.size(),t.storage())},"Matrix, number":function(t,e){return s(t,e,t.size(),t.storage())},"Matrix, BigNumber":function(t,e){return s(t,e.toNumber(),t.size(),t.storage())},"Matrix, string":function(t,e){return s(t,0,t.size(),e)},"Matrix, number, string":function(t,e,n){return s(t,e,t.size(),n)},"Matrix, BigNumber, string":function(t,e,n){return s(t,e.toNumber(),t.size(),n)}});return l.toTex=void 0,l}var i=n(3),o=(n(5).clone,n(2).isInteger);e.name="diag",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,o){function a(t,e){var n=i(t),r=i(e),o=n[0];if(1!==n.length||1!==r.length)throw new RangeError("Vector expected");if(n[0]!=r[0])throw new RangeError("Vectors must have equal length ("+n[0]+" != "+r[0]+")");if(0==o)throw new RangeError("Cannot calculate the dot product of empty vectors");for(var a=0,c=0;c<o;c++)a=s(a,u(t[c],e[c]));return a}var s=r(n(19)),u=r(n(13)),c=o("dot",{"Matrix, Matrix":function(t,e){return a(t.toArray(),e.toArray())},"Matrix, Array":function(t,e){return a(t.toArray(),e)},"Array, Matrix":function(t,e){return a(t,e.toArray())},"Array, Array":a});return c.toTex={2:"\\left(${args[0]}\\cdot${args[1]}\\right)"},c}var i=n(3).size;e.name="dot",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,a){var s=r(n(0)),u=a("flatten",{Array:function(t){return o(i(t))},Matrix:function(t){var e=o(i(t.toArray()));return s(e)}});return u.toTex=void 0,u}var i=n(5).clone,o=n(3).flatten;e.name="flatten",e.factory=r},function(t,e,n){t.exports=[n(186),n(598),n(187),n(599),n(600),n(89),n(188),n(601),n(189),n(190),n(603),n(191),n(604),n(121),n(192),n(605),n(606),n(607),n(608),n(609),n(90),n(193),n(91),n(48)]},function(t,e,n){"use strict";function r(t,e,r,o){function a(t,e){if(1===i(t).length&&(t=[t]),1===i(e).length&&(e=[e]),i(t).length>2||i(e).length>2)throw new RangeError("Vectors with dimensions greater then 2 are not supported expected (Size x = "+JSON.stringify(t.length)+", y = "+JSON.stringify(e.length)+")");var n=[],r=[];return t.map(function(t){return e.map(function(e){return t.map(function(t){return e.map(function(e){return r.push(u(t,e))})},n.push(r=[]))})},n=[])&&n}var s=r(n(0)),u=r(n(25));return o("kron",{"Matrix, Matrix":function(t,e){return s(a(t.toArray(),e.toArray()))},"Matrix, Array":function(t,e){return s(a(t.toArray(),e))},"Array, Matrix":function(t,e){return s(a(t,e.toArray()))},"Array, Array":a})}var i=n(3).size;e.name="kron",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,a){function s(e,n){var r=u(e),i=r?new t.BigNumber(1):1;if(c(e),n){var a=f(n);return e.length>0?a.resize(e,i):a}var s=[];return e.length>0?o(s,e,i):s}function u(t){var e=!1;return t.forEach(function(t,n,r){t&&!0===t.isBigNumber&&(e=!0,r[n]=t.toNumber())}),e}function c(t){t.forEach(function(t){if("number"!=typeof t||!i(t)||t<0)throw new Error("Parameters in function ones must be positive integers")})}var f=r(n(0)),l=a("ones",{"":function(){return"Array"===e.matrix?s([]):s([],"default")},"...number | BigNumber | string":function(t){if("string"==typeof t[t.length-1])return s(t,t.pop());return"Array"===e.matrix?s(t):s(t,"default")},Array:s,Matrix:function(t){var e=t.storage();return s(t.valueOf(),e)},"Array | Matrix, string":function(t,e){return s(t.valueOf(),e)}});return l.toTex=void 0,l}var i=n(2).isInteger,o=n(3).resize;e.name="ones",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,a){var s=r(n(0)),u=a("reshape",{"Matrix, Array":function(t,e){return t.reshape?t.reshape(e):s(o.reshape(t.valueOf(),e))},"Array, Array":function(t,e){return e.forEach(function(t){if(!i(t))throw new TypeError("Invalid size for dimension: "+t)}),o.reshape(t,e)}});return u.toTex=void 0,u}var i=(n(10),n(2).isInteger),o=n(3);e.name="reshape",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,f){function l(t,e,n){if(void 0!==n){if("string"!=typeof n||1!==n.length)throw new TypeError("Single character expected as defaultValue")}else n=" ";if(1!==e.length)throw new i(e.length,1);var r=e[0];if("number"!=typeof r||!a(r))throw new TypeError("Invalid size, must contain positive integers (size: "+s(e)+")");if(t.length>r)return t.substring(0,r);if(t.length<r){for(var o=t,u=0,c=r-t.length;u<c;u++)o+=n;return o}return t}var h=r(n(0)),p=function(t,n,r){if(2!=arguments.length&&3!=arguments.length)throw new o("resize",arguments.length,2,3);if(n&&!0===n.isMatrix&&(n=n.valueOf()),n.length&&n[0]&&!0===n[0].isBigNumber&&(n=n.map(function(t){return t&&!0===t.isBigNumber?t.toNumber():t})),t&&!0===t.isMatrix)return t.resize(n,r,!0);if("string"==typeof t)return l(t,n,r);var i=!Array.isArray(t)&&"Array"!==e.matrix;if(0==n.length){for(;Array.isArray(t);)t=t[0];return u(t)}Array.isArray(t)||(t=[t]),t=u(t);var a=c.resize(t,n,r);return i?h(a):a};return p.toTex=void 0,p}var i=n(10),o=n(67),a=n(2).isInteger,s=n(12).format,u=n(5).clone,c=n(3);e.name="resize",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,o){var a=r(n(0)),s=o("size",{Matrix:function(t){return a(t.size())},Array:i.size,string:function(t){return"Array"===e.matrix?[t.length]:a([t.length])},"number | Complex | BigNumber | Unit | boolean | null":function(t){return"Array"===e.matrix?[]:a([])}});return s.toTex=void 0,s}var i=n(3);e.name="size",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,o){function a(t){if("asc"===t)return f;if("desc"===t)return l;throw new Error('String "asc" or "desc" expected')}function s(t){if(1!==i(t).length)throw new Error("One dimensional array expected")}function u(t){if(1!==t.size().length)throw new Error("One dimensional matrix expected")}var c=r(n(0)),f=r(n(73)),l=function(t,e){return-f(t,e)},h=o("sort",{Array:function(t){return s(t),t.sort(f)},Matrix:function(t){return u(t),c(t.toArray().sort(f),t.storage())},"Array, function":function(t,e){return s(t),t.sort(e)},"Matrix, function":function(t,e){return u(t),c(t.toArray().sort(e),t.storage())},"Array, string":function(t,e){return s(t),t.sort(a(e))},"Matrix, string":function(t,e){return u(t),c(t.toArray().sort(a(e)),t.storage())}});return h.toTex=void 0,h}var i=n(3).size;e.name="sort",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,a){var s=r(n(0)),u=a("squeeze",{Array:function(t){return o.squeeze(i.clone(t))},Matrix:function(t){var e=o.squeeze(t.toArray());return Array.isArray(e)?s(e):e},any:function(t){return i.clone(t)}});return u.toTex=void 0,u}var i=n(5),o=n(3);e.name="squeeze",e.factory=r},function(t,e,n){t.exports=[n(92),n(93),n(194),n(611),n(612),n(613),n(614),n(615),n(616)]},function(t,e,n){"use strict";function r(t,e,r,i){function o(t,e){var n=e.size().length,r=t.size().length;if(n>1)throw new Error("first object must be one dimensional");if(r>1)throw new Error("second object must be one dimensional");if(n!==r)throw new Error("Length of two vectors must be equal");if(0===u(t))throw new Error("Sum of elements in first object must be non zero");if(0===u(e))throw new Error("Sum of elements in second object must be non zero");var i=s(t,u(t)),o=s(e,u(e)),a=u(c(i,l(f(i,o))));return h(a)?a:Number.NaN}var a=r(n(0)),s=r(n(57)),u=r(n(201)),c=r(n(13)),f=r(n(179)),l=r(n(181)),h=r(n(124));return i("kldivergence",{"Array, Array":function(t,e){return o(a(t),a(e))},"Matrix, Array":function(t,e){return o(t,a(e))},"Array, Matrix":function(t,e){return o(a(t),e)},"Matrix, Matrix":function(t,e){return o(t,e)}})}e.name="kldivergence",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,o){var a=r(n(19)),s=r(n(13)),u=r(n(57)),c=r(n(93)),f=r(n(60)),l=r(n(75));return o("multinomial",{"Array | Matrix":function(t){var e=0,n=1;return i(t,function(t){if(!f(t)||!l(t))throw new TypeError("Positive integer value expected in function multinomial");e=a(e,t),n=s(n,c(t))}),u(c(e),n)}})}var i=n(51);e.name="multinomial",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,a){var s=r(n(93)),u=a("permutations",{"number | BigNumber":s,"number, number":function(t,e){var n,r;if(!o(t)||t<0)throw new TypeError("Positive integer value expected in function permutations");if(!o(e)||e<0)throw new TypeError("Positive integer value expected in function permutations");if(e>t)throw new TypeError("second argument k must be less than or equal to first argument n");for(n=1,r=t-e+1;r<=t;r++)n*=r;return n},"BigNumber, BigNumber":function(e,n){var r,o;if(!i(e)||!i(n))throw new TypeError("Positive integer value expected in function permutations");if(n.gt(e))throw new TypeError("second argument k must be less than or equal to first argument n");for(r=new t.BigNumber(1),o=e.minus(n).plus(1);o.lte(e);o=o.plus(1))r=r.times(o);return r}});return u.toTex=void 0,u}function i(t){return t.isInteger()&&t.gte(0)}var o=n(2).isInteger;e.name="permutations",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,i){var o=r(n(122)),a=o("uniform").pickRandom;return a.toTex=void 0,a}e.name="pickRandom",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,i){var o=r(n(122)),a=o("uniform").random;return a.toTex=void 0,a}e.name="random",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,i){var o=r(n(122)),a=o("uniform").randomInt;return a.toTex=void 0,a}e.name="randomInt",e.factory=r},function(t,e,n){"use strict";function r(t,e,n,r,a){function s(t){c=null===t?o:i(String(t))}function u(){return c()}var c;return s(e.randomSeed),a.on("config",function(t,e,n){void 0!==n.randomSeed&&s(t.randomSeed)}),u}var i=n(700),o=i();e.factory=r,e.math=!0},function(t,e,n){"use strict";function r(t,e,r,i){function o(t,e){if(Array.isArray(t)){if(Array.isArray(e)){var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++)if(!o(t[r],e[r]))return!1;return!0}return!1}return!Array.isArray(e)&&a(t,e)}var a=r(n(123)),s=i("deepEqual",{"any, any":function(t,e){return o(t.valueOf(),e.valueOf())}});return s.toTex=void 0,s}e.name="deepEqual",e.factory=r},function(t,e,n){t.exports=[n(73),n(618),n(123),n(41),n(195),n(59),n(620),n(196)]},function(t,e,n){"use strict";function r(t,e,r,a){var s=r(n(0)),u=r(n(15)),c=r(n(32)),f=r(n(17)),l=r(n(9)),h=r(n(6)),p=n(4),d=a("smallerEq",{"boolean, boolean":function(t,e){return t<=e},"number, number":function(t,n){return t<=n||i(t,n,e.epsilon)},"BigNumber, BigNumber":function(t,n){return t.lte(n)||o(t,n,e.epsilon)},"Fraction, Fraction":function(t,e){return 1!==t.compare(e)},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return d(t.value,e.value)},"string, string":function(t,e){return t<=e},"Matrix, Matrix":function(t,e){var n;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":n=c(t,e,d);break;default:n=u(e,t,d,!0)}break;default:switch(e.storage()){case"sparse":n=u(t,e,d,!1);break;default:n=l(t,e,d)}}return n},"Array, Array":function(t,e){return d(s(t),s(e)).valueOf()},"Array, Matrix":function(t,e){return d(s(t),e)},"Matrix, Array":function(t,e){return d(t,s(e))},"Matrix, any":function(t,e){var n;switch(t.storage()){case"sparse":n=f(t,e,d,!1);break;default:n=h(t,e,d,!1)}return n},"any, Matrix":function(t,e){var n;switch(e.storage()){case"sparse":n=f(e,t,d,!0);break;default:n=h(e,t,d,!0)}return n},"Array, any":function(t,e){return h(s(t),e,d,!1).valueOf()},"any, Array":function(t,e){return h(s(e),t,d,!0).valueOf()}});return d.toTex={2:"\\left(${args[0]}"+p.operators.smallerEq+"${args[1]}\\right)"},d}var i=n(2).nearlyEqual,o=n(50);e.name="smallerEq",e.factory=r},function(t,e,n){"use strict";function r(t,e,n,r){function l(t){var e,n=t*t,r=u[0][4]*n,i=n;for(e=0;e<3;e+=1)r=(r+u[0][e])*n,i=(i+c[0][e])*n;return t*(r+u[0][3])/(i+c[0][3])}function h(t){var e,n=u[1][8]*t,r=t;for(e=0;e<7;e+=1)n=(n+u[1][e])*t,r=(r+c[1][e])*t;var i=(n+u[1][7])/(r+c[1][7]),o=parseInt(16*t)/16,a=(t-o)*(t+o);return Math.exp(-o*o)*Math.exp(-a)*i}function p(t){var e,n=1/(t*t),r=u[2][5]*n,i=n;for(e=0;e<4;e+=1)r=(r+u[2][e])*n,i=(i+c[2][e])*n;var o=n*(r+u[2][4])/(i+c[2][4]);o=(s-o)/t,n=parseInt(16*t)/16;var a=(t-n)*(t+n);return Math.exp(-n*n)*Math.exp(-a)*o}var d=r("erf",{number:function(t){var e=Math.abs(t);return e>=f?o(t):e<=a?o(t)*l(e):e<=4?o(t)*(1-h(e)):o(t)*(1-p(e))},BigNumber:function(e){return new t.BigNumber(d(e.toNumber()))},"Array | Matrix":function(t){return i(t,d)}});return d.toTex={1:"erf\\left(${args[0]}\\right)"},d}var i=n(1),o=n(2).sign,a=.46875,s=.5641895835477563,u=[[3.1611237438705655,113.86415415105016,377.485237685302,3209.3775891384694,.18577770618460315],[.5641884969886701,8.883149794388377,66.11919063714163,298.6351381974001,881.952221241769,1712.0476126340707,2051.0783778260716,1230.3393547979972,2.1531153547440383e-8],[.30532663496123236,.36034489994980445,.12578172611122926,.016083785148742275,.0006587491615298378,.016315387137302097]],c=[[23.601290952344122,244.02463793444417,1282.6165260773723,2844.236833439171],[15.744926110709835,117.6939508913125,537.1811018620099,1621.3895745666903,3290.7992357334597,4362.619090143247,3439.3676741437216,1230.3393548037495],[2.568520192289822,1.8729528499234604,.5279051029514285,.06051834131244132,.0023352049762686918]],f=Math.pow(2,53);e.name="erf",e.factory=r},function(t,e,n){t.exports=[n(621)]},function(t,e,n){t.exports=[n(624),n(197),n(198),n(199),n(200),n(625),n(626),n(627),n(628),n(201),n(202)]},function(t,e,n){"use strict";function r(t,e,r,o){function a(t){if(t=i(t.valueOf()),0===t.length)throw new Error("Cannot calculate median absolute deviation of an empty array");var e=c(t);return c(u(t,function(t){return s(f(t,e))}))}var s=r(n(37)),u=r(n(191)),c=r(n(199)),f=r(n(23)),l=o("mad",{"Array | Matrix":a,"...":function(t){return a(t)}});return l.toTex=void 0,l}var i=n(3).flatten;e.name="mad",e.factory=r},function(t,e,n){"use strict";function r(t,e,n,r){function o(t){if(t=i(t.valueOf()),0==t.length)throw new Error("Cannot calculate mode of an empty array");var e={},n=[],r=0;for(var o in t)t[o]in e||(e[t[o]]=0),e[t[o]]++,e[t[o]]==r?n.push(t[o]):e[t[o]]>r&&(r=e[t[o]],n=[t[o]]);return n}return r("mode",{"Array | Matrix":o,"...":function(t){return o(t)}})}var i=n(3).flatten;e.name="mode",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,o){function a(t){var e=void 0;if(i(t,function(t){e=void 0===e?t:s(e,t)}),void 0===e)throw new Error("Cannot calculate prod of an empty array");return e}var s=r(n(25)),u=o("prod",{"Array | Matrix":a,"Array | Matrix, number | BigNumber":function(t,e){throw new Error("prod(A, dim) is not yet supported")},"...":function(t){return a(t)}});return u.toTex=void 0,u}var i=n(51);e.name="prod",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,u){function c(e,n,r){var a,u,c;if(arguments.length<2||arguments.length>3)throw new SyntaxError("Function quantileSeq requires two or three parameters");if(s(e)){if("boolean"==typeof(r=r||!1)){if(u=e.valueOf(),o(n)){if(n<0)throw new Error("N/prob must be non-negative");if(n<=1)return f(u,n,r);if(n>1){if(!i(n))throw new Error("N must be a positive integer");var l=n+1;a=new Array(n);for(var h=0;h<n;)a[h]=f(u,++h/l,r);return a}}if(n&&n.isBigNumber){if(n.isNegative())throw new Error("N/prob must be non-negative");if(c=new n.constructor(1),n.lte(c))return f(u,n,r);if(n.gt(c)){if(!n.isInteger())throw new Error("N must be a positive integer");var p=n.toNumber();if(p>4294967295)throw new Error("N must be less than or equal to 2^32-1, as that is the maximum length of an Array");var l=new t.BigNumber(p+1);a=new Array(p);for(var h=0;h<p;)a[h]=f(u,new t.BigNumber(++h).div(l),r);return a}}if(Array.isArray(n)){a=new Array(n.length);for(var h=0;h<a.length;++h){var d=n[h];if(o(d)){if(d<0||d>1)throw new Error("Probability must be between 0 and 1, inclusive")}else{if(!d||!d.isBigNumber)throw new TypeError("Unexpected type of argument in function quantileSeq");if(c=new d.constructor(1),d.isNegative()||d.gt(c))throw new Error("Probability must be between 0 and 1, inclusive")}a[h]=f(u,d,r)}return a}throw new TypeError("Unexpected type of argument in function quantileSeq")}throw new TypeError("Unexpected type of argument in function quantileSeq")}throw new TypeError("Unexpected type of argument in function quantileSeq")}function f(t,e,n){var r=a(t),i=r.length;if(0===i)throw new Error("Cannot calculate quantile of an empty sequence");if(o(e)){var s=e*(i-1),u=s%1;if(0===u){var c=n?r[s]:p(r,s);return m(c),c}var f,g,v=Math.floor(s);if(n)f=r[v],g=r[v+1];else{g=p(r,v+1),f=r[v];for(var y=0;y<v;++y)d(r[y],f)>0&&(f=r[y])}return m(f),m(g),l(h(f,1-u),h(g,u))}var s=e.times(i-1);if(s.isInteger()){s=s.toNumber();var c=n?r[s]:p(r,s);return m(c),c}var f,g,v=s.floor(),u=s.minus(v),x=v.toNumber();if(n)f=r[x],g=r[x+1];else{g=p(r,x+1),f=r[x];for(var y=0;y<x;++y)d(r[y],f)>0&&(f=r[y])}m(f),m(g);var w=new u.constructor(1);return l(h(f,w.minus(u)),h(g,u))}var l=r(n(19)),h=r(n(13)),p=r(n(121)),d=r(n(73)),m=u({"number | BigNumber | Unit":function(t){return t}});return c}var i=n(2).isInteger,o=n(2).isNumber,a=n(3).flatten,s=n(61);e.name="quantileSeq",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,i){function o(t,e){if(0==t.length)throw new SyntaxError("Function std requires one or more parameters (0 provided)");return a(s.apply(null,arguments))}var a=r(n(72)),s=r(n(202)),u=i("std",{"Array | Matrix":o,"Array | Matrix, string":o,"...":function(t){return o(t)}});return u.toTex=void 0,u}e.name="std",e.factory=r},function(t,e,n){t.exports=[n(203),n(630)]},function(t,e,n){"use strict";function r(t,e,n,r){var o=r("print",{"string, Object":i,"string, Object, number | Object":i});return o.toTex=void 0,o}function i(t,e,n){return t.replace(/\$([\w\.]+)/g,function(t,r){for(var i=r.split("."),s=e[i.shift()];i.length&&void 0!==s;){var u=i.shift();s=u?s[u]:s+"."}return void 0!==s?o(s)?s:a(s,n):t})}var o=n(12).isString,a=n(12).format;e.name="print",e.factory=r},function(t,e,n){"use strict";function r(t,e,n,r){var o=r("acos",{number:function(n){return n>=-1&&n<=1||e.predictable?Math.acos(n):new t.Complex(n,0).acos()},Complex:function(t){return t.acos()},BigNumber:function(t){return t.acos()},"Array | Matrix":function(t){return i(t,o)}});return o.toTex={1:"\\cos^{-1}\\left(${args[0]}\\right)"},o}var i=n(1);e.name="acos",e.factory=r},function(t,e,n){"use strict";function r(t,e,n,r){var o=r("acot",{number:function(t){return Math.atan(1/t)},Complex:function(t){return t.acot()},BigNumber:function(e){return new t.BigNumber(1).div(e).atan()},"Array | Matrix":function(t){return i(t,o)}});return o.toTex={1:"\\cot^{-1}\\left(${args[0]}\\right)"},o}var i=n(1);e.name="acot",e.factory=r},function(t,e,n){"use strict";function r(t,e,n,r){var o=r("acoth",{number:function(n){return n>=1||n<=-1||e.predictable?isFinite(n)?(Math.log((n+1)/n)+Math.log(n/(n-1)))/2:0:new t.Complex(n,0).acoth()},Complex:function(t){return t.acoth()},BigNumber:function(e){return new t.BigNumber(1).div(e).atanh()},"Array | Matrix":function(t){return i(t,o)}});return o.toTex={1:"\\coth^{-1}\\left(${args[0]}\\right)"},o}var i=n(1);e.name="acoth",e.factory=r},function(t,e,n){"use strict";function r(t,e,n,r){var o=r("acsc",{number:function(n){return n<=-1||n>=1||e.predictable?Math.asin(1/n):new t.Complex(n,0).acsc()},Complex:function(t){return t.acsc()},BigNumber:function(e){return new t.BigNumber(1).div(e).asin()},"Array | Matrix":function(t){return i(t,o)}});return o.toTex={1:"\\csc^{-1}\\left(${args[0]}\\right)"},o}var i=n(1);e.name="acsc",e.factory=r},function(t,e,n){"use strict";function r(t,e,n,r){var o=r("acsch",{number:function(t){return t=1/t,Math.log(t+Math.sqrt(t*t+1))},Complex:function(t){return t.acsch()},BigNumber:function(e){return new t.BigNumber(1).div(e).asinh()},"Array | Matrix":function(t){return i(t,o)}});return o.toTex={1:"\\mathrm{csch}^{-1}\\left(${args[0]}\\right)"},o}var i=n(1);e.name="acsch",e.factory=r},function(t,e,n){"use strict";function r(t,e,n,r){var o=r("asec",{number:function(n){return n<=-1||n>=1||e.predictable?Math.acos(1/n):new t.Complex(n,0).asec()},Complex:function(t){return t.asec()},BigNumber:function(e){return new t.BigNumber(1).div(e).acos()},"Array | Matrix":function(t){return i(t,o)}});return o.toTex={1:"\\sec^{-1}\\left(${args[0]}\\right)"},o}var i=n(1);e.name="asec",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,o){var a=(o.find(r(n(204)),["Complex"]),o("asech",{number:function(n){if(n<=1&&n>=-1||e.predictable){n=1/n;var r=Math.sqrt(n*n-1);return n>0||e.predictable?Math.log(r+n):new t.Complex(Math.log(r-n),Math.PI)}return new t.Complex(n,0).asech()},Complex:function(t){return t.asech()},BigNumber:function(e){return new t.BigNumber(1).div(e).acosh()},"Array | Matrix":function(t){return i(t,a)}}));return a.toTex={1:"\\mathrm{sech}^{-1}\\left(${args[0]}\\right)"},a}var i=n(1);e.name="asech",e.factory=r},function(t,e,n){"use strict";function r(t,e,n,r){var o=r("asin",{number:function(n){return n>=-1&&n<=1||e.predictable?Math.asin(n):new t.Complex(n,0).asin()},Complex:function(t){return t.asin()},BigNumber:function(t){return t.asin()},"Array | Matrix":function(t){return i(t,o,!0)}});return o.toTex={1:"\\sin^{-1}\\left(${args[0]}\\right)"},o}var i=n(1);e.name="asin",e.factory=r},function(t,e,n){"use strict";function r(t,e,n,r){var o=r("asinh",{number:Math.asinh||function(t){return Math.log(Math.sqrt(t*t+1)+t)},Complex:function(t){return t.asinh()},BigNumber:function(t){return t.asinh()},"Array | Matrix":function(t){return i(t,o,!0)}});return o.toTex={1:"\\sinh^{-1}\\left(${args[0]}\\right)"},o}var i=n(1);e.name="asinh",e.factory=r},function(t,e,n){"use strict";function r(t,e,n,r){var o=r("atan",{number:function(t){return Math.atan(t)},Complex:function(t){return t.atan()},BigNumber:function(t){return t.atan()},"Array | Matrix":function(t){return i(t,o,!0)}});return o.toTex={1:"\\tan^{-1}\\left(${args[0]}\\right)"},o}var i=n(1);e.name="atan",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,i){var o=r(n(0)),a=r(n(27)),s=r(n(15)),u=r(n(211)),c=r(n(16)),f=r(n(17)),l=r(n(9)),h=r(n(6)),p=i("atan2",{"number, number":Math.atan2,"BigNumber, BigNumber":function(e,n){return t.BigNumber.atan2(e,n)},"Matrix, Matrix":function(t,e){var n;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":n=u(t,e,p,!1);break;default:n=a(e,t,p,!0)}break;default:switch(e.storage()){case"sparse":n=s(t,e,p,!1);break;default:n=l(t,e,p)}}return n},"Array, Array":function(t,e){return p(o(t),o(e)).valueOf()},"Array, Matrix":function(t,e){return p(o(t),e)},"Matrix, Array":function(t,e){return p(t,o(e))},"Matrix, number | BigNumber":function(t,e){var n;switch(t.storage()){case"sparse":n=c(t,e,p,!1);break;default:n=h(t,e,p,!1)}return n},"number | BigNumber, Matrix":function(t,e){var n;switch(e.storage()){case"sparse":n=f(e,t,p,!0);break;default:n=h(e,t,p,!0)}return n},"Array, number | BigNumber":function(t,e){return h(o(t),e,p,!1).valueOf()},"number | BigNumber, Array":function(t,e){return h(o(e),t,p,!0).valueOf()}});return p.toTex={2:"\\mathrm{atan2}\\left(${args}\\right)"},p}e.name="atan2",e.factory=r},function(t,e,n){"use strict";function r(t,e,n,r){var a=r("atanh",{number:function(n){return n<=1&&n>=-1||e.predictable?o(n):new t.Complex(n,0).atanh()},Complex:function(t){return t.atanh()},BigNumber:function(t){return t.atanh()},"Array | Matrix":function(t){return i(t,a,!0)}});return a.toTex={1:"\\tanh^{-1}\\left(${args[0]}\\right)"},a}var i=n(1),o=Math.atanh||function(t){return Math.log((1+t)/(1-t))/2};e.name="atanh",e.factory=r},function(t,e,n){"use strict";function r(t,e,n,r){var o=r("cos",{number:Math.cos,Complex:function(t){return t.cos()},BigNumber:function(t){return t.cos()},Unit:function(e){if(!e.hasBase(t.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cos is no angle");return o(e.value)},"Array | Matrix":function(t){return i(t,o)}});return o.toTex={1:"\\cos\\left(${args[0]}\\right)"},o}var i=n(1);e.name="cos",e.factory=r},function(t,e,n){"use strict";function r(t,e,n,r){var a=r("cosh",{number:o,Complex:function(t){return t.cosh()},BigNumber:function(t){return t.cosh()},Unit:function(e){if(!e.hasBase(t.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cosh is no angle");return a(e.value)},"Array | Matrix":function(t){return i(t,a)}});return a.toTex={1:"\\cosh\\left(${args[0]}\\right)"},a}var i=n(1),o=Math.cosh||function(t){return(Math.exp(t)+Math.exp(-t))/2};e.name="cosh",e.factory=r},function(t,e,n){"use strict";function r(t,e,n,r){var o=r("cot",{number:function(t){return 1/Math.tan(t)},Complex:function(t){return t.cot()},BigNumber:function(e){return new t.BigNumber(1).div(e.tan())},Unit:function(e){if(!e.hasBase(t.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cot is no angle");return o(e.value)},"Array | Matrix":function(t){return i(t,o)}});return o.toTex={1:"\\cot\\left(${args[0]}\\right)"},o}var i=n(1);e.name="cot",e.factory=r},function(t,e,n){"use strict";function r(t,e,n,r){var a=r("coth",{number:i,Complex:function(t){return t.coth()},BigNumber:function(e){return new t.BigNumber(1).div(e.tanh())},Unit:function(e){if(!e.hasBase(t.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function coth is no angle");return a(e.value)},"Array | Matrix":function(t){return o(t,a)}});return a.toTex={1:"\\coth\\left(${args[0]}\\right)"},a}function i(t){var e=Math.exp(2*t);return(e+1)/(e-1)}var o=n(1);e.name="coth",e.factory=r},function(t,e,n){"use strict";function r(t,e,n,r){var o=r("csc",{number:function(t){return 1/Math.sin(t)},Complex:function(t){return t.csc()},BigNumber:function(e){return new t.BigNumber(1).div(e.sin())},Unit:function(e){if(!e.hasBase(t.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function csc is no angle");return o(e.value)},"Array | Matrix":function(t){return i(t,o)}});return o.toTex={1:"\\csc\\left(${args[0]}\\right)"},o}var i=n(1);e.name="csc",e.factory=r},function(t,e,n){"use strict";function r(t,e,n,r){var a=r("csch",{number:i,Complex:function(t){return t.csch()},BigNumber:function(e){return new t.BigNumber(1).div(e.sinh())},Unit:function(e){if(!e.hasBase(t.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function csch is no angle");return a(e.value)},"Array | Matrix":function(t){return o(t,a)}});return a.toTex={1:"\\mathrm{csch}\\left(${args[0]}\\right)"},a}function i(t){return 0==t?Number.POSITIVE_INFINITY:Math.abs(2/(Math.exp(t)-Math.exp(-t)))*a(t)}var o=n(1),a=n(2).sign;e.name="csch",e.factory=r},function(t,e,n){t.exports=[n(631),n(204),n(632),n(633),n(634),n(635),n(636),n(637),n(638),n(639),n(640),n(641),n(642),n(643),n(644),n(645),n(646),n(647),n(648),n(650),n(651),n(652),n(653),n(654),n(655)]},function(t,e,n){"use strict";function r(t,e,n,r){var o=r("sec",{number:function(t){return 1/Math.cos(t)},Complex:function(t){return t.sec()},BigNumber:function(e){return new t.BigNumber(1).div(e.cos())},Unit:function(e){if(!e.hasBase(t.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sec is no angle");return o(e.value)},"Array | Matrix":function(t){return i(t,o)}});return o.toTex={1:"\\sec\\left(${args[0]}\\right)"},o}var i=n(1);e.name="sec",e.factory=r},function(t,e,n){"use strict";function r(t,e,n,r){var a=r("sech",{number:i,Complex:function(t){return t.sech()},BigNumber:function(e){return new t.BigNumber(1).div(e.cosh())},Unit:function(e){if(!e.hasBase(t.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sech is no angle");return a(e.value)},"Array | Matrix":function(t){return o(t,a)}});return a.toTex={1:"\\mathrm{sech}\\left(${args[0]}\\right)"},a}function i(t){return 2/(Math.exp(t)+Math.exp(-t))}var o=n(1);e.name="sech",e.factory=r},function(t,e,n){"use strict";function r(t,e,n,r){var o=r("sin",{number:Math.sin,Complex:function(t){return t.sin()},BigNumber:function(t){return t.sin()},Unit:function(e){if(!e.hasBase(t.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sin is no angle");return o(e.value)},"Array | Matrix":function(t){return i(t,o,!0)}});return o.toTex={1:"\\sin\\left(${args[0]}\\right)"},o}var i=n(1);e.name="sin",e.factory=r},function(t,e,n){"use strict";function r(t,e,n,r){var a=r("sinh",{number:o,Complex:function(t){return t.sinh()},BigNumber:function(t){return t.sinh()},Unit:function(e){if(!e.hasBase(t.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sinh is no angle");return a(e.value)},"Array | Matrix":function(t){return i(t,a,!0)}});return a.toTex={1:"\\sinh\\left(${args[0]}\\right)"},a}var i=n(1),o=Math.sinh||function(t){return(Math.exp(t)-Math.exp(-t))/2};e.name="sinh",e.factory=r},function(t,e,n){"use strict";function r(t,e,n,r){var o=r("tan",{number:Math.tan,Complex:function(t){return t.tan()},BigNumber:function(t){return t.tan()},Unit:function(e){if(!e.hasBase(t.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function tan is no angle");return o(e.value)},"Array | Matrix":function(t){return i(t,o,!0)}});return o.toTex={1:"\\tan\\left(${args[0]}\\right)"},o}var i=n(1);e.name="tan",e.factory=r},function(t,e,n){"use strict";function r(t,e,n,r){var a=r("tanh",{number:o,Complex:function(t){return t.tanh()},BigNumber:function(t){return t.tanh()},Unit:function(e){if(!e.hasBase(t.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function tanh is no angle");return a(e.value)},"Array | Matrix":function(t){return i(t,a,!0)}});return a.toTex={1:"\\tanh\\left(${args[0]}\\right)"},a}var i=n(1),o=Math.tanh||function(t){var e=Math.exp(2*t);return(e-1)/(e+1)};e.name="tanh",e.factory=r},function(t,e,n){t.exports=[n(657)]},function(t,e,n){"use strict";function r(t,e,r,i){var o=n(4),a=r(n(0)),s=r(n(9)),u=r(n(6)),c=i("to",{"Unit, Unit | string":function(t,e){return t.to(e)},"Matrix, Matrix":function(t,e){return s(t,e,c)},"Array, Array":function(t,e){return c(a(t),a(e)).valueOf()},"Array, Matrix":function(t,e){return c(a(t),e)},"Matrix, Array":function(t,e){return c(t,a(e))},"Matrix, any":function(t,e){return u(t,e,c,!1)},"any, Matrix":function(t,e){return u(e,t,c,!0)},"Array, any":function(t,e){return u(a(t),e,c,!1).valueOf()},"any, Array":function(t,e){return u(a(e),t,c,!0).valueOf()}});return c.toTex={2:"\\left(${args[0]}"+o.operators.to+"${args[1]}\\right)"},c}e.name="to",e.factory=r},function(t,e,n){t.exports=[n(205),n(60),n(74),n(124),n(75),n(660),n(125),n(659),n(206)]},function(t,e,n){"use strict";function r(t,e,n,r){return r("isNaN",{number:function(t){return Number.isNaN(t)},BigNumber:function(t){return t.isNaN()},Fraction:function(t){return!1},Complex:function(t){return Number.isNaN(t.re)&&Number.isNaN(t.im)},Unit:function(t){return Number.isNaN(t.value)},"Array | Matrix":function(t){return i(t,Number.isNaN)}})}var i=n(1);n(2);e.name="isNaN",e.factory=r},function(t,e,n){"use strict";function r(t,e,n,r){var o=r("isPrime",{number:function(t){if(t<2)return!1;if(2==t)return!0;if(t%2==0)return!1;for(var e=3;e*e<=t;e+=2)if(t%e==0)return!1;return!0},BigNumber:function(e){if(e.lt(2))return!1;if(e.equals(2))return!0;if(e.mod(2).isZero())return!1;for(var n=t.BigNumber(3);n.times(n).lte(e);n=n.plus(1))if(e.mod(n).isZero())return!1;return!0},"Array | Matrix":function(t){return i(t,o)}});return o}var i=n(1);e.name="isPrime",e.factory=r},function(t,e,n){t.exports=[n(675),n(329),n(521),n(593),n(662),n(334)]},function(t,e,n){t.exports=[n(663)]},function(t,e,n){"use strict";function r(t,e,n,r){return function(e,n){var r=t[n&&n.mathjs];return r&&"function"==typeof r.fromJSON?r.fromJSON(n):n}}e.name="reviver",e.path="json",e.factory=r},function(t,e,n){function r(t,e,n,r,o){var a=i.clone({precision:e.precision});return a.prototype.type="BigNumber",a.prototype.isBigNumber=!0,a.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},a.fromJSON=function(t){return new a(t.value)},o.on("config",function(t,e){t.precision!==e.precision&&a.config({precision:t.precision})}),a}var i=n(284);e.name="BigNumber",e.path="type",e.factory=r,e.math=!0},function(t,e,n){"use strict";function r(t,e,n,r){var o=r("bignumber",{"":function(){return new t.BigNumber(0)},number:function(e){return new t.BigNumber(e+"")},string:function(e){return new t.BigNumber(e)},BigNumber:function(t){return t},Fraction:function(e){return new t.BigNumber(e.n).div(e.d)},"Array | Matrix":function(t){return i(t,o)}});return o.toTex={0:"0",1:"\\left(${args[0]}\\right)"},o}var i=n(1);e.name="bignumber",e.factory=r},function(t,e,n){t.exports=[n(664),n(665)]},function(t,e,n){"use strict";function r(t,e,n,r){var o=r("bool",{"":function(){return!1},boolean:function(t){return t},number:function(t){return!!t},BigNumber:function(t){return!t.isZero()},string:function(t){var e=t.toLowerCase();if("true"===e)return!0;if("false"===e)return!1;var n=Number(t);if(""!=t&&!isNaN(n))return!!n;throw new Error('Cannot convert "'+t+'" to a boolean')},"Array | Matrix":function(t){return i(t,o)}});return o}var i=n(1);e.name="boolean",e.factory=r},function(t,e,n){"use strict";function r(t,e,n,r,a){function s(t){if(!(this instanceof s))throw new SyntaxError("Constructor must be called with the new operator");t&&t.isChain?this.value=t.value:this.value=t}function u(t,e){"function"==typeof e&&(s.prototype[t]=f(e))}function c(t,e){o(s.prototype,t,function(){var t=e();if("function"==typeof t)return f(t)})}function f(t){return function(){for(var e=[this.value],n=0;n<arguments.length;n++)e[n+1]=arguments[n];return new s(t.apply(t,e))}}return s.prototype.type="Chain",s.prototype.isChain=!0,s.prototype.done=function(){return this.value},s.prototype.valueOf=function(){return this.value},s.prototype.toString=function(){return i(this.value)},s.createProxy=function(t,e){if("string"==typeof t)u(t,e);else for(var n in t)t.hasOwnProperty(n)&&u(n,t[n])},s.createProxy(a),a.on("import",function(t,e,n){void 0===n&&c(t,e)}),s}var i=n(12).format,o=n(5).lazy;e.name="Chain",e.path="type",e.factory=r,e.math=!0,e.lazy=!1},function(t,e,n){"use strict";function r(t,e,n,r){return r("chain",{"":function(){return new t.Chain},any:function(e){return new t.Chain(e)}})}e.name="chain",e.factory=r},function(t,e,n){t.exports=[n(668),n(669)]},function(t,e,n){"use strict";function r(t,e,r,o){var a=n(4),s=o("complex",{"":function(){return t.Complex.ZERO},number:function(e){return new t.Complex(e,0)},"number, number":function(e,n){return new t.Complex(e,n)},"BigNumber, BigNumber":function(e,n){return new t.Complex(e.toNumber(),n.toNumber())},Complex:function(t){return t.clone()},string:function(e){return t.Complex(e)},Object:function(e){if("re"in e&&"im"in e)return new t.Complex(e.re,e.im);if("r"in e&&"phi"in e)return new t.Complex(e);throw new Error("Expected object with either properties re and im, or properties r and phi.")},"Array | Matrix":function(t){return i(t,s)}});return s.toTex={0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)+"+a.symbols.i+"\\cdot\\left(${args[1]}\\right)\\right)"},s}var i=n(1);e.name="complex",e.factory=r},function(t,e,n){t.exports=[n(207),n(671)]},function(t,e,n){function r(t,e,n,r){return i}var i=n(285);i.prototype.type="Fraction",i.prototype.isFraction=!0,i.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},i.fromJSON=function(t){return new i(t)},e.name="Fraction",e.path="type",e.factory=r},function(t,e,n){t.exports=[n(673),n(208)]},function(t,e,n){t.exports=[n(666),n(667),n(670),n(672),n(674),n(683),n(129),n(684),n(685),n(689)]},function(t,e,n){"use strict";function r(t,e,r,i){function o(){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}var a=r(n(59)),s=r(n(41)),u=1/Math.log((1+Math.sqrt(5))/2);o.prototype.type="FibonacciHeap",o.prototype.isFibonacciHeap=!0,o.prototype.insert=function(t,e){var n={key:t,value:e,degree:0};if(this._minimum){var r=this._minimum;n.left=r,n.right=r.right,r.right=n,n.right.left=n,a(t,r.key)&&(this._minimum=n)}else n.left=n,n.right=n,this._minimum=n;return this._size++,n},o.prototype.size=function(){return this._size},o.prototype.clear=function(){this._minimum=null,this._size=0},o.prototype.isEmpty=function(){return!!this._minimum},o.prototype.extractMinimum=function(){var t=this._minimum;if(null===t)return t;for(var e=this._minimum,n=t.degree,r=t.child;n>0;){var i=r.right;r.left.right=r.right,r.right.left=r.left,r.left=e,r.right=e.right,e.right=r,r.right.left=r,r.parent=null,r=i,n--}return t.left.right=t.right,t.right.left=t.left,t==t.right?e=null:(e=t.right,e=p(e,this._size)),this._size--,this._minimum=e,t},o.prototype.remove=function(t){this._minimum=c(this._minimum,t,-1),this.extractMinimum()};var c=function(t,e,n){e.key=n;var r=e.parent;return r&&a(e.key,r.key)&&(f(t,e,r),l(t,r)),a(e.key,t.key)&&(t=e),t},f=function(t,e,n){e.left.right=e.right,e.right.left=e.left,n.degree--,n.child==e&&(n.child=e.right),0===n.degree&&(n.child=null),e.left=t,e.right=t.right,t.right=e,e.right.left=e,e.parent=null,e.mark=!1},l=function(t,e){var n=e.parent;n&&(e.mark?(f(t,e,n),l(n)):e.mark=!0)},h=function(t,e){t.left.right=t.right,t.right.left=t.left,t.parent=e,e.child?(t.left=e.child,t.right=e.child.right,e.child.right=t,t.right.left=t):(e.child=t,t.right=t,t.left=t),e.degree++,t.mark=!1},p=function(t,e){var n=Math.floor(Math.log(e)*u)+1,r=new Array(n),i=0,o=t;if(o)for(i++,o=o.right;o!==t;)i++,o=o.right;for(var c;i>0;){for(var f=o.degree,l=o.right;;){if(!(c=r[f]))break;if(s(o.key,c.key)){var p=c;c=o,o=p}h(c,o),r[f]=null,f++}r[f]=o,o=l,i--}t=null;for(var d=0;d<n;d++)(c=r[d])&&(t?(c.left.right=c.right,c.right.left=c.left,c.left=t,c.right=t.right,t.right=c,c.right.left=c,a(c.key,t.key)&&(t=c)):t=c);return t};return o}e.name="FibonacciHeap",e.path="type",e.factory=r},function(t,e,n){"use strict";function r(t,e,r){function o(t,e){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");if(e&&!u(e))throw new Error("Invalid datatype: "+e);if(t&&!0===t.isMatrix||s(t)){var n=new c(t,e);this._data=n._data,this._size=n._size,this._datatype=n._datatype,this._min=null,this._max=null}else if(t&&s(t.data)&&s(t.size))this._data=t.data,this._size=t.size,this._datatype=t.datatype,this._min=void 0!==t.min?t.min:null,this._max=void 0!==t.max?t.max:null;else{if(t)throw new TypeError("Unsupported type of data ("+i.types.type(t)+")");this._data=[],this._size=[0],this._datatype=e,this._min=null,this._max=null}}var c=r(n(209)),f=r(n(59));return o.prototype=new c,o.prototype.type="ImmutableDenseMatrix",o.prototype.isImmutableDenseMatrix=!0,o.prototype.subset=function(t){switch(arguments.length){case 1:var e=c.prototype.subset.call(this,t);return e.isMatrix?new o({data:e._data,size:e._size,datatype:e._datatype}):e;case 2:case 3:throw new Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw new SyntaxError("Wrong number of arguments")}},o.prototype.set=function(){throw new Error("Cannot invoke set on an Immutable Matrix instance")},o.prototype.resize=function(){throw new Error("Cannot invoke resize on an Immutable Matrix instance")},o.prototype.reshape=function(){throw new Error("Cannot invoke reshape on an Immutable Matrix instance")},o.prototype.clone=function(){return new o({data:a.clone(this._data),size:a.clone(this._size),datatype:this._datatype})},o.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},o.fromJSON=function(t){return new o(t)},o.prototype.swapRows=function(){throw new Error("Cannot invoke swapRows on an Immutable Matrix instance")},o.prototype.min=function(){if(null===this._min){var t=null;this.forEach(function(e){(null===t||f(e,t))&&(t=e)}),this._min=null!==t?t:void 0}return this._min},o.prototype.max=function(){if(null===this._max){var t=null;this.forEach(function(e){(null===t||f(t,e))&&(t=e)}),this._max=null!==t?t:void 0}return this._max},o}var i=n(33),o=i.string,a=i.object,s=Array.isArray,u=o.isString;e.name="ImmutableDenseMatrix",e.path="type",e.factory=r},function(t,e,n){"use strict";function r(t){function e(t){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._isScalar=!0;for(var r=0,i=arguments.length;r<i;r++){var o=arguments[r];if(o&&!0===o.isRange)this._dimensions.push(o),this._isScalar=!1;else if(o&&(Array.isArray(o)||!0===o.isMatrix)){var a=n(o.valueOf());this._dimensions.push(a);var s=a.size();1===s.length&&1===s[0]||(this._isScalar=!1)}else if("number"==typeof o)this._dimensions.push(n([o]));else{if("string"!=typeof o)throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");this._dimensions.push(o)}}}function n(e){for(var n=0,r=e.length;n<r;n++)if("number"!=typeof e[n]||!o(e[n]))throw new TypeError("Index parameters must be positive integer numbers");return new t.ImmutableDenseMatrix(e)}return e.prototype.type="Index",e.prototype.isIndex=!0,e.prototype.clone=function(){var t=new e;return t._dimensions=i(this._dimensions),t._isScalar=this._isScalar,t},e.create=function(t){var n=new e;return e.apply(n,t),n},e.prototype.size=function(){for(var t=[],e=0,n=this._dimensions.length;e<n;e++){var r=this._dimensions[e];t[e]="string"==typeof r?1:r.size()[0]}return t},e.prototype.max=function(){for(var t=[],e=0,n=this._dimensions.length;e<n;e++){var r=this._dimensions[e];t[e]="string"==typeof r?r:r.max()}return t},e.prototype.min=function(){for(var t=[],e=0,n=this._dimensions.length;e<n;e++){var r=this._dimensions[e];t[e]="string"==typeof r?r:r.min()}return t},e.prototype.forEach=function(t){for(var e=0,n=this._dimensions.length;e<n;e++)t(this._dimensions[e],e,this)},e.prototype.dimension=function(t){return this._dimensions[t]||null},e.prototype.isObjectProperty=function(){return 1===this._dimensions.length&&"string"==typeof this._dimensions[0]},e.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null},e.prototype.isScalar=function(){return this._isScalar},e.prototype.toArray=function(){for(var t=[],e=0,n=this._dimensions.length;e<n;e++){var r=this._dimensions[e];t.push("string"==typeof r?r:r.toArray())}return t},e.prototype.valueOf=e.prototype.toArray,e.prototype.toString=function(){for(var t=[],e=0,n=this._dimensions.length;e<n;e++){var r=this._dimensions[e];"string"==typeof r?t.push(JSON.stringify(r)):t.push(r.toString())}return"["+t.join(", ")+"]"},e.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions}},e.fromJSON=function(t){return e.create(t.dimensions)},e}var i=n(5).clone,o=n(2).isInteger;e.name="Index",e.path="type",e.factory=r},function(t,e,n){"use strict";function r(t,e,r){function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new t.FibonacciHeap}var o=r(n(19)),a=r(n(11));return i.prototype.type="Spa",i.prototype.isSpa=!0,i.prototype.set=function(t,e){if(this._values[t])this._values[t].value=e;else{var n=this._heap.insert(t,e);this._values[t]=n}},i.prototype.get=function(t){var e=this._values[t];return e?e.value:0},i.prototype.accumulate=function(t,e){var n=this._values[t];n?n.value=o(n.value,e):(n=this._heap.insert(t,e),this._values[t]=n)},i.prototype.forEach=function(t,e,n){var r=this._heap,i=this._values,o=[],s=r.extractMinimum();for(s&&o.push(s);s&&s.key<=e;)s.key>=t&&(a(s.value,0)||n(s.key,s.value,this)),(s=r.extractMinimum())&&o.push(s);for(var u=0;u<o.length;u++){var c=o[u];s=r.insert(c.key,c.value),i[s.key]=s}},i.prototype.swap=function(t,e){var n=this._values[t],r=this._values[e];if(!n&&r)n=this._heap.insert(t,r.value),this._heap.remove(r),this._values[t]=n,this._values[e]=void 0;else if(n&&!r)r=this._heap.insert(e,n.value),this._heap.remove(n),this._values[e]=r,this._values[t]=void 0;else if(n&&r){var i=n.value;n.value=r.value,r.value=i}},i}e.name="Spa",e.path="type",e.factory=r},function(t,e,n){"use strict";function r(t,e,r,m){function g(t,e){if(!(this instanceof g))throw new SyntaxError("Constructor must be called with the new operator");if(e&&!p(e))throw new Error("Invalid datatype: "+e);if(t&&!0===t.isMatrix)x(this,t,e);else if(t&&f(t.index)&&f(t.ptr)&&f(t.size))this._values=t.values,this._index=t.index,this._ptr=t.ptr,this._size=t.size,this._datatype=e||t.datatype;else if(f(t))w(this,t,e);else{if(t)throw new TypeError("Unsupported type of data ("+i.types.type(t)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=e}}var v=r(n(126)),y=r(n(11)),x=function(t,e,n){"SparseMatrix"===e.type?(t._values=e._values?s.clone(e._values):void 0,t._index=s.clone(e._index),t._ptr=s.clone(e._ptr),t._size=s.clone(e._size),t._datatype=n||e._datatype):w(t,e.valueOf(),n||e._datatype)},w=function(t,e,n){t._values=[],t._index=[],t._ptr=[],t._datatype=n;var r=e.length,i=0,o=y,a=0;if(p(n)&&(o=m.find(y,[n,n])||y,a=m.convert(0,n)),r>0){var s=0;do{t._ptr.push(t._index.length);for(var u=0;u<r;u++){var c=e[u];if(f(c)){if(0===s&&i<c.length&&(i=c.length),s<c.length){var l=c[s];o(l,a)||(t._values.push(l),t._index.push(u))}}else 0===s&&i<1&&(i=1),o(c,a)||(t._values.push(c),t._index.push(u))}s++}while(s<i)}t._ptr.push(t._index.length),t._size=[r,i]};g.prototype=new v,g.prototype.type="SparseMatrix",g.prototype.isSparseMatrix=!0,g.prototype.storage=function(){return"sparse"},g.prototype.datatype=function(){return this._datatype},g.prototype.create=function(t,e){return new g(t,e)},g.prototype.density=function(){var t=this._size[0],e=this._size[1];return 0!==t&&0!==e?this._index.length/(t*e):0},g.prototype.subset=function(t,e,n){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return b(this,t);case 2:case 3:return _(this,t,e,n);default:throw new SyntaxError("Wrong number of arguments")}};var b=function(t,e){if(!e||!0!==e.isIndex)throw new TypeError("Invalid index");if(e.isScalar())return t.get(e.min());var n=e.size();if(n.length!=t._size.length)throw new o(n.length,t._size.length);var r,i,a,s,u=e.min(),c=e.max();for(r=0,i=t._size.length;r<i;r++)d(u[r],t._size[r]),d(c[r],t._size[r]);var f=t._values,l=t._index,h=t._ptr,p=e.dimension(0),m=e.dimension(1),v=[],y=[];p.forEach(function(t,e){y[t]=e[0],v[t]=!0});var x=f?[]:void 0,w=[],b=[];return m.forEach(function(t){for(b.push(w.length),a=h[t],s=h[t+1];a<s;a++)r=l[a],!0===v[r]&&(w.push(y[r]),x&&x.push(f[a]))}),b.push(w.length),new g({values:x,index:w,ptr:b,size:n,datatype:t._datatype})},_=function(t,e,n,r){if(!e||!0!==e.isIndex)throw new TypeError("Invalid index");var i,u=e.size(),c=e.isScalar();if(n&&!0===n.isMatrix?(i=n.size(),n=n.toArray()):i=a.size(n),c){if(0!==i.length)throw new TypeError("Scalar expected");t.set(e.min(),n,r)}else{if(1!==u.length&&2!==u.length)throw new o(u.length,t._size.length,"<");if(i.length<u.length){for(var f=0,l=0;1===u[f]&&1===i[f];)f++;for(;1===u[f];)l++,f++;n=a.unsqueeze(n,u.length,l,i)}if(!s.deepEqual(u,i))throw new o(u,i,">");for(var h=e.min()[0],p=e.min()[1],d=i[0],m=i[1],g=0;g<d;g++)for(var v=0;v<m;v++){var y=n[g][v];t.set([g+h,v+p],y,r)}}return t};g.prototype.get=function(t){if(!f(t))throw new TypeError("Array expected");if(t.length!=this._size.length)throw new o(t.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var e=t[0],n=t[1];d(e,this._size[0]),d(n,this._size[1]);var r=N(e,this._ptr[n],this._ptr[n+1],this._index);return r<this._ptr[n+1]&&this._index[r]===e?this._values[r]:0},g.prototype.set=function(t,e,n){if(!f(t))throw new TypeError("Array expected");if(t.length!=this._size.length)throw new o(t.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var r=t[0],i=t[1],a=this._size[0],s=this._size[1],u=y,c=0;p(this._datatype)&&(u=m.find(y,[this._datatype,this._datatype])||y,c=m.convert(0,this._datatype)),(r>a-1||i>s-1)&&(S(this,Math.max(r+1,a),Math.max(i+1,s),n),a=this._size[0],s=this._size[1]),d(r,a),d(i,s);var l=N(r,this._ptr[i],this._ptr[i+1],this._index);return l<this._ptr[i+1]&&this._index[l]===r?u(e,c)?E(l,i,this._values,this._index,this._ptr):this._values[l]=e:M(l,r,i,e,this._values,this._index,this._ptr),this};var N=function(t,e,n,r){if(n-e==0)return n;for(var i=e;i<n;i++)if(r[i]===t)return i;return e},E=function(t,e,n,r,i){n.splice(t,1),r.splice(t,1);for(var o=e+1;o<i.length;o++)i[o]--},M=function(t,e,n,r,i,o,a){i.splice(t,0,r),o.splice(t,0,e);for(var s=n+1;s<a.length;s++)a[s]++};g.prototype.resize=function(t,e,n){if(!f(t))throw new TypeError("Array expected");if(2!==t.length)throw new Error("Only two dimensions matrix are supported");t.forEach(function(e){if(!c.isNumber(e)||!c.isInteger(e)||e<0)throw new TypeError("Invalid size, must contain positive integers (size: "+u.format(t)+")")});var r=n?this.clone():this;return S(r,t[0],t[1],e)};var S=function(t,e,n,r){var i=r||0,o=y,a=0;p(t._datatype)&&(o=m.find(y,[t._datatype,t._datatype])||y,a=m.convert(0,t._datatype),i=m.convert(i,t._datatype));var s,u,c,f=!o(i,a),l=t._size[0],h=t._size[1];if(n>h){for(u=h;u<n;u++)if(t._ptr[u]=t._values.length,f)for(s=0;s<l;s++)t._values.push(i),t._index.push(s);t._ptr[n]=t._values.length}else n<h&&(t._ptr.splice(n+1,h-n),t._values.splice(t._ptr[n],t._values.length),t._index.splice(t._ptr[n],t._index.length));if(h=n,e>l){if(f){var d=0;for(u=0;u<h;u++){t._ptr[u]=t._ptr[u]+d,c=t._ptr[u+1]+d;var g=0;for(s=l;s<e;s++,g++)t._values.splice(c+g,0,i),t._index.splice(c+g,0,s),d++}t._ptr[h]=t._values.length}}else if(e<l){var v=0;for(u=0;u<h;u++){t._ptr[u]=t._ptr[u]-v;var x=t._ptr[u],w=t._ptr[u+1]-v;for(c=x;c<w;c++)(s=t._index[c])>e-1&&(t._values.splice(c,1),t._index.splice(c,1),v++)}t._ptr[u]=t._values.length}return t._size[0]=e,t._size[1]=n,t};g.prototype.reshape=function(t,e){if(!f(t))throw new TypeError("Array expected");if(2!==t.length)throw new Error("Sparse matrices can only be reshaped in two dimensions");if(t.forEach(function(e){if(!c.isNumber(e)||!c.isInteger(e)||e<0)throw new TypeError("Invalid size, must contain positive integers (size: "+u.format(t)+")")}),this._size[0]*this._size[1]!=t[0]*t[1])throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var n=e?this.clone():this;if(this._size[0]===t[0]&&this._size[1]===t[1])return n;for(var r=[],i=0;i<n._ptr.length;i++)for(var o=0;o<n._ptr[i+1]-n._ptr[i];o++)r.push(i);for(var a=n._values.slice(),s=n._index.slice(),i=0;i<n._index.length;i++){var l=s[i],h=r[i],p=l*n._size[1]+h;r[i]=p%t[1],s[i]=Math.floor(p/t[1])}n._values.length=0,n._index.length=0,n._ptr.length=t[1]+1,n._size=t.slice();for(var i=0;i<n._ptr.length;i++)n._ptr[i]=0;for(var d=0;d<a.length;d++){var i=s[d],o=r[d],m=a[d],g=N(i,n._ptr[o],n._ptr[o+1],n._index);M(g,i,o,m,n._values,n._index,n._ptr)}return n},g.prototype.clone=function(){return new g({values:this._values?s.clone(this._values):void 0,index:s.clone(this._index),ptr:s.clone(this._ptr),size:s.clone(this._size),datatype:this._datatype})},g.prototype.size=function(){return this._size.slice(0)},g.prototype.map=function(t,e){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var n=this,r=this._size[0],i=this._size[1];return A(this,0,r-1,0,i-1,function(e,r,i){return t(e,[r,i],n)},e)};var A=function(t,e,n,r,i,o,a){var s=[],u=[],c=[],f=y,l=0;p(t._datatype)&&(f=m.find(y,[t._datatype,t._datatype])||y,l=m.convert(0,t._datatype));for(var h=function(t,e,n){t=o(t,e,n),f(t,l)||(s.push(t),u.push(e))},d=r;d<=i;d++){c.push(s.length);for(var v=t._ptr[d],x=t._ptr[d+1],w=e,b=v;b<x;b++){var _=t._index[b];if(_>=e&&_<=n){if(!a)for(var N=w;N<_;N++)h(0,N-e,d-r);h(t._values[b],_-e,d-r)}w=_+1}if(!a)for(var E=w;E<=n;E++)h(0,E-e,d-r)}return c.push(s.length),new g({values:s,index:u,ptr:c,size:[n-e+1,i-r+1]})};g.prototype.forEach=function(t,e){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var n=this,r=this._size[0],i=this._size[1],o=0;o<i;o++){for(var a=this._ptr[o],s=this._ptr[o+1],u=0,c=a;c<s;c++){var f=this._index[c];if(!e)for(var l=u;l<f;l++)t(0,[l,o],n);t(this._values[c],[f,o],n),u=f+1}if(!e)for(var h=u;h<r;h++)t(0,[h,o],n)}},g.prototype.toArray=function(){return O(this._values,this._index,this._ptr,this._size,!0)},g.prototype.valueOf=function(){return O(this._values,this._index,this._ptr,this._size,!1)};var O=function(t,e,n,r,i){var o,a,u=r[0],c=r[1],f=[];for(o=0;o<u;o++)for(f[o]=[],a=0;a<c;a++)f[o][a]=0;for(a=0;a<c;a++)for(var l=n[a],h=n[a+1],p=l;p<h;p++)o=e[p],f[o][a]=t?i?s.clone(t[p]):t[p]:1;return f};return g.prototype.format=function(t){for(var e=this._size[0],n=this._size[1],r=this.density(),i="Sparse Matrix ["+u.format(e,t)+" x "+u.format(n,t)+"] density: "+u.format(r,t)+"\n",o=0;o<n;o++)for(var a=this._ptr[o],s=this._ptr[o+1],c=a;c<s;c++){var f=this._index[c];i+="\n    ("+u.format(f,t)+", "+u.format(o,t)+") ==> "+(this._values?u.format(this._values[c],t):"X")}return i},g.prototype.toString=function(){return u.format(this.toArray())},g.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},g.prototype.diagonal=function(t){if(t){if(!0===t.isBigNumber&&(t=t.toNumber()),!l(t)||!h(t))throw new TypeError("The parameter k must be an integer number")}else t=0;var e=t>0?t:0,n=t<0?-t:0,r=this._size[0],i=this._size[1],o=Math.min(r-n,i-e),a=[],s=[],u=[];u[0]=0;for(var c=e;c<i&&a.length<o;c++)for(var f=this._ptr[c],p=this._ptr[c+1],d=f;d<p;d++){var m=this._index[d];if(m===c-e+n){a.push(this._values[d]),s[a.length-1]=m-n;break}}return u.push(a.length),new g({values:a,index:s,ptr:u,size:[o,1]})},g.fromJSON=function(t){return new g(t)},g.diagonal=function(t,e,n,r,i){if(!f(t))throw new TypeError("Array expected, size parameter");if(2!==t.length)throw new Error("Only two dimensions matrix are supported");if(t=t.map(function(t){if(t&&!0===t.isBigNumber&&(t=t.toNumber()),!l(t)||!h(t)||t<1)throw new Error("Size values must be positive integers");return t}),n){if(!0===n.isBigNumber&&(n=n.toNumber()),!l(n)||!h(n))throw new TypeError("The parameter k must be an integer number")}else n=0;var o=y,a=0;p(i)&&(o=m.find(y,[i,i])||y,a=m.convert(0,i));var s,u=n>0?n:0,c=n<0?-n:0,d=t[0],v=t[1],x=Math.min(d-c,v-u);if(f(e)){if(e.length!==x)throw new Error("Invalid value array length");s=function(t){return e[t]}}else if(e&&!0===e.isMatrix){var w=e.size();if(1!==w.length||w[0]!==x)throw new Error("Invalid matrix length");s=function(t){return e.get([t])}}else s=function(){return e};for(var b=[],_=[],N=[],E=0;E<v;E++){N.push(b.length);var M=E-u;if(M>=0&&M<x){var S=s(M);o(S,a)||(_.push(M+c),b.push(S))}}return N.push(b.length),new g({values:b,index:_,ptr:N,size:[d,v]})},g.prototype.swapRows=function(t,e){if(!(l(t)&&h(t)&&l(e)&&h(e)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return d(t,this._size[0]),d(e,this._size[0]),g._swapRows(t,e,this._size[1],this._values,this._index,this._ptr),this},g._forEachRow=function(t,e,n,r,i){for(var o=r[t],a=r[t+1],s=o;s<a;s++)i(n[s],e[s])},g._swapRows=function(t,e,n,r,i,o){for(var a=0;a<n;a++){var s=o[a],u=o[a+1],c=N(t,s,u,i),f=N(e,s,u,i);if(c<u&&f<u&&i[c]===t&&i[f]===e){if(r){var l=r[c];r[c]=r[f],r[f]=l}}else if(c<u&&i[c]===t&&(f>=u||i[f]!==e)){var h=r?r[c]:void 0;i.splice(f,0,e),r&&r.splice(f,0,h),i.splice(f<=c?c+1:c,1),r&&r.splice(f<=c?c+1:c,1)}else if(f<u&&i[f]===e&&(c>=u||i[c]!==t)){var p=r?r[f]:void 0;i.splice(c,0,t),r&&r.splice(c,0,p),i.splice(c<=f?f+1:f,1),r&&r.splice(c<=f?f+1:f,1)}}},t.Matrix._storage.sparse=g,g}var i=n(33),o=n(10),a=i.array,s=i.object,u=i.string,c=i.number,f=Array.isArray,l=c.isNumber,h=c.isInteger,p=u.isString,d=a.validateIndex;e.name="SparseMatrix",e.path="type",e.factory=r,e.lazy=!1},function(t,e,n){"use strict";function r(t,e,n,r){return r("index",{"...number | string | BigNumber | Range | Array | Matrix":function(e){var n=e.map(function(t){return t&&!0===t.isBigNumber?t.toNumber():t&&(Array.isArray(t)||!0===t.isMatrix)?t.map(function(t){return t&&!0===t.isBigNumber?t.toNumber():t}):t}),r=new t.Index;return t.Index.apply(r,n),r}})}e.name="index",e.factory=r},function(t,e,n){"use strict";function r(t,e,n,r){var i=t.SparseMatrix,o=r("sparse",{"":function(){return new i([])},string:function(t){return new i([],t)},"Array | Matrix":function(t){return new i(t)},"Array | Matrix, string":function(t,e){return new i(t,e)}});return o.toTex={0:"\\begin{bsparse}\\end{bsparse}",1:"\\left(${args[0]}\\right)"},o}e.name="sparse",e.factory=r},function(t,e,n){t.exports=[n(126),n(209),n(680),n(679),n(676),n(677),n(678),n(210),n(681),n(0),n(682)]},function(t,e,n){t.exports=[n(212)]},function(t,e,n){"use strict";function r(t,e,n,r){var a=r("string",{"":function(){return""},number:o.format,null:function(t){return"null"},boolean:function(t){return t+""},string:function(t){return t},"Array | Matrix":function(t){return i(t,a)},any:function(t){return String(t)}});return a.toTex={0:'\\mathtt{""}',1:"\\mathrm{string}\\left(${args[0]}\\right)"},a}var i=n(1),o=n(2);e.name="string",e.factory=r},function(t,e,n){"use strict";function r(t,e,n,r){return r("createUnit",{"Object, Object":function(e,n){return t.Unit.createUnit(e,n)},Object:function(e){return t.Unit.createUnit(e,{})},"string, Unit | string | Object, Object":function(e,n,r){var i={};return i[e]=n,t.Unit.createUnit(i,r)},"string, Unit | string | Object":function(e,n){var r={};return r[e]=n,t.Unit.createUnit(r,{})},string:function(e){var n={};return n[e]={},t.Unit.createUnit(n,{})}})}n(1);e.name="createUnit",e.factory=r},function(t,e,n){"use strict";function r(t,e,n,r){return r("splitUnit",{"Unit, Array":function(t,e){return t.splitUnit(e)}})}n(1);e.name="splitUnit",e.factory=r},function(t,e,n){"use strict";function r(t,e,n,r){var o=r("unit",{Unit:function(t){return t.clone()},string:function(e){return t.Unit.isValuelessUnit(e)?new t.Unit(null,e):t.Unit.parse(e)},"number | BigNumber | Fraction | Complex, string":function(e,n){return new t.Unit(e,n)},"Array | Matrix":function(t){return i(t,o)}});return o.toTex={1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},o}var i=n(1);e.name="unit",e.factory=r},function(t,e,n){t.exports=[n(213),n(688),n(686),n(687),n(690)]},function(t,e,n){function r(t,e,n,r,o){function a(e){var n=t.Unit.parse(e);return n.fixPrefix=!0,n}i(o,"speedOfLight",function(){return a("299792458 m s^-1")}),i(o,"gravitationConstant",function(){return a("6.6738480e-11 m^3 kg^-1 s^-2")}),i(o,"planckConstant",function(){return a("6.626069311e-34 J s")}),i(o,"reducedPlanckConstant",function(){return a("1.05457172647e-34 J s")}),i(o,"magneticConstant",function(){return a("1.2566370614e-6 N A^-2")}),i(o,"electricConstant",function(){return a("8.854187817e-12 F m^-1")}),i(o,"vacuumImpedance",function(){return a("376.730313461 ohm")}),i(o,"coulomb",function(){return a("8.9875517873681764e9 N m^2 C^-2")}),i(o,"elementaryCharge",function(){return a("1.60217656535e-19 C")}),i(o,"bohrMagneton",function(){return a("9.2740096820e-24 J T^-1")}),i(o,"conductanceQuantum",function(){return a("7.748091734625e-5 S")}),i(o,"inverseConductanceQuantum",function(){return a("12906.403721742 ohm")}),i(o,"magneticFluxQuantum",function(){return a("2.06783375846e-15 Wb")}),i(o,"nuclearMagneton",function(){return a("5.0507835311e-27 J T^-1")}),i(o,"klitzing",function(){return a("25812.807443484 ohm")}),i(o,"bohrRadius",function(){return a("5.291772109217e-11 m")}),i(o,"classicalElectronRadius",function(){return a("2.817940326727e-15 m")}),i(o,"electronMass",function(){return a("9.1093829140e-31 kg")}),i(o,"fermiCoupling",function(){return a("1.1663645e-5 GeV^-2")}),i(o,"fineStructure",function(){return.007297352569824}),i(o,"hartreeEnergy",function(){return a("4.3597443419e-18 J")}),i(o,"protonMass",function(){return a("1.67262177774e-27 kg")}),i(o,"deuteronMass",function(){return a("3.3435830926e-27 kg")}),i(o,"neutronMass",function(){return a("1.6749271613e-27 kg")}),i(o,"quantumOfCirculation",function(){return a("3.636947552024e-4 m^2 s^-1")}),i(o,"rydberg",function(){return a("10973731.56853955 m^-1")}),i(o,"thomsonCrossSection",function(){return a("6.65245873413e-29 m^2")}),i(o,"weakMixingAngle",function(){return.222321}),i(o,"efimovFactor",function(){return 22.7}),i(o,"atomicMass",function(){return a("1.66053892173e-27 kg")}),i(o,"avogadro",function(){return a("6.0221412927e23 mol^-1")}),i(o,"boltzmann",function(){return a("1.380648813e-23 J K^-1")}),i(o,"faraday",function(){return a("96485.336521 C mol^-1")}),i(o,"firstRadiation",function(){return a("3.7417715317e-16 W m^2")}),i(o,"loschmidt",function(){return a("2.686780524e25 m^-3")}),i(o,"gasConstant",function(){return a("8.314462175 J K^-1 mol^-1")}),i(o,"molarPlanckConstant",function(){return a("3.990312717628e-10 J s mol^-1")}),i(o,"molarVolume",function(){return a("2.241396820e-10 m^3 mol^-1")}),i(o,"sackurTetrode",function(){return-1.164870823}),i(o,"secondRadiation",function(){return a("1.438777013e-2 m K")}),i(o,"stefanBoltzmann",function(){return a("5.67037321e-8 W m^-2 K^-4")}),i(o,"wienDisplacement",function(){return a("2.897772126e-3 m K")}),i(o,"molarMass",function(){return a("1e-3 kg mol^-1")}),i(o,"molarMassC12",function(){return a("1.2e-2 kg mol^-1")}),i(o,"gravity",function(){return a("9.80665 m s^-2")}),i(o,"planckLength",function(){return a("1.61619997e-35 m")}),i(o,"planckMass",function(){return a("2.1765113e-8 kg")}),i(o,"planckTime",function(){return a("5.3910632e-44 s")}),i(o,"planckCharge",function(){return a("1.87554595641e-18 C")}),i(o,"planckTemperature",function(){return a("1.41683385e+32 K")})}var i=n(5).lazy;e.factory=r,e.lazy=!1,e.math=!0},function(t,e,n){var r=n(131);t.exports=function(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitAnd");var n=t.constructor;if(t.isNaN()||e.isNaN())return new n(NaN);if(t.isZero()||e.eq(-1)||t.eq(e))return t;if(e.isZero()||t.eq(-1))return e;if(!t.isFinite()||!e.isFinite()){if(!t.isFinite()&&!e.isFinite())return t.isNegative()==e.isNegative()?t:new n(0);if(!t.isFinite())return e.isNegative()?t:t.isNegative()?new n(0):e;if(!e.isFinite())return t.isNegative()?e:e.isNegative()?new n(0):t}return r(t,e,function(t,e){return t&e})}},function(t,e,n){var r=n(131);t.exports=function(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitOr");var n=t.constructor;if(t.isNaN()||e.isNaN())return new n(NaN);var i=new n(-1);return t.isZero()||e.eq(i)||t.eq(e)?e:e.isZero()||t.eq(i)?t:t.isFinite()&&e.isFinite()?r(t,e,function(t,e){return t|e}):!t.isFinite()&&!t.isNegative()&&e.isNegative()||t.isNegative()&&!e.isNegative()&&!e.isFinite()?i:t.isNegative()&&e.isNegative()?t.isFinite()?t:e:t.isFinite()?e:t}},function(t,e,n){var r=n(131),i=n(130);t.exports=function(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitXor");var n=t.constructor;if(t.isNaN()||e.isNaN())return new n(NaN);if(t.isZero())return e;if(e.isZero())return t;if(t.eq(e))return new n(0);var o=new n(-1);return t.eq(o)?i(e):e.eq(o)?i(t):t.isFinite()&&e.isFinite()?r(t,e,function(t,e){return t^e}):t.isFinite()||e.isFinite()?new n(t.isNegative()==e.isNegative()?1/0:-1/0):o}},function(t,e){e.format=function(t,n){if("function"==typeof n)return n(t);if(!t.isFinite())return t.isNaN()?"NaN":t.gt(0)?"Infinity":"-Infinity";var r="auto",i=void 0;switch(void 0!==n&&(n.notation&&(r=n.notation),"number"==typeof n?i=n:n.precision&&(i=n.precision)),r){case"fixed":return e.toFixed(t,i);case"exponential":return e.toExponential(t,i);case"auto":var o=.001,a=1e5;n&&n.exponential&&(void 0!==n.exponential.lower&&(o=n.exponential.lower),void 0!==n.exponential.upper&&(a=n.exponential.upper));t.constructor.toExpNeg,t.constructor.toExpPos;if(t.constructor.config({toExpNeg:Math.round(Math.log(o)/Math.LN10),toExpPos:Math.round(Math.log(a)/Math.LN10)}),t.isZero())return"0";var s,u=t.abs();return s=u.gte(o)&&u.lt(a)?t.toSignificantDigits(i).toFixed():e.toExponential(t,i),s.replace(/((\.\d*?)(0+))($|e)/,function(){var t=arguments[2],e=arguments[4];return"."!==t?t+e:e});default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", or "fixed".')}},e.toExponential=function(t,e){return void 0!==e?t.toExponential(e-1):t.toExponential()},e.toFixed=function(t,e){return t.toFixed(e||0)}},function(t,e){t.exports=function(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function leftShift");var n=t.constructor;return t.isNaN()||e.isNaN()||e.isNegative()&&!e.isZero()?new n(NaN):t.isZero()||e.isZero()?t:t.isFinite()||e.isFinite()?e.lt(55)?t.times(Math.pow(2,e.toNumber())+""):t.times(new n(2).pow(e)):new n(NaN)}},function(t,e){t.exports=function(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function rightArithShift");var n=t.constructor;return t.isNaN()||e.isNaN()||e.isNegative()&&!e.isZero()?new n(NaN):t.isZero()||e.isZero()?t:e.isFinite()?e.lt(55)?t.div(Math.pow(2,e.toNumber())+"").floor():t.div(new n(2).pow(e)).floor():new n(t.isNegative()?-1:t.isFinite()?0:NaN)}},function(t,e,n){"use strict";e.isBoolean=function(t){return"boolean"==typeof t}},function(t,e,n){"use strict";t.exports=function(t,e,n,r,i,o,a,s,u,c,f){var l,h,p,d,m=t._values,g=t._index,v=t._ptr,y=a._index;if(r)for(h=v[e],p=v[e+1],l=h;l<p;l++)d=g[l],n[d]!==o?(n[d]=o,y.push(d),c?(r[d]=u?s(m[l],f):s(f,m[l]),i[d]=o):r[d]=m[l]):(r[d]=u?s(m[l],r[d]):s(r[d],m[l]),i[d]=o);else for(h=v[e],p=v[e+1],l=h;l<p;l++)d=g[l],n[d]!==o?(n[d]=o,y.push(d)):i[d]=o}},function(t,e){t.exports="3.13.1"},function(t,e,n){"use strict";(function(e){function n(t){var e,n=t.length,r=this,i=0,o=r.i=r.j=0,a=r.S=[];for(n||(t=[n++]);i<s;)a[i]=i++;for(i=0;i<s;i++)a[i]=a[o=p&o+t[i%n]+(e=a[i])],a[o]=e;(r.g=function(t){for(var e,n=0,i=r.i,o=r.j,a=r.S;t--;)e=a[i=p&i+1],n=n*s+a[p&(a[i]=a[o=p&o+e])+(a[o]=e)];return r.i=i,r.j=o,n})(s)}function r(t,e){var n,i=[],o=(typeof t)[0];if(e&&"o"==o)for(n in t)try{i.push(r(t[n],e-1))}catch(t){}return i.length?i:"s"==o?t:t+"\0"}function i(t,e){for(var n,r=t+"",i=0;i<r.length;)e[p&i]=p&(n^=19*e[p&i])+r.charCodeAt(i++);return a(e)}function o(t){try{return c.crypto.getRandomValues(t=new Uint8Array(s)),a(t)}catch(t){return[+new Date,c,c.navigator&&c.navigator.plugins,c.screen,a(u)]}}function a(t){return String.fromCharCode.apply(0,t)}var s=256,u=[],c=void 0===e?window:e,f=Math.pow(s,6),l=Math.pow(2,52),h=2*l,p=s-1,d=Math.random;t.exports=function(e,c){if(c&&!0===c.global)return c.global=!1,Math.random=t.exports(e,c),c.global=!0,Math.random;var p=c&&c.entropy||!1,d=[],m=(i(r(p?[e,a(u)]:0 in arguments?e:o(),3),d),new n(d));return i(a(m.S),u),function(){for(var t=m.g(6),e=f,n=0;t<l;)t=(t+n)*s,e*=s,n=m.g(1);for(;t>=h;)t/=2,e/=2,n>>>=1;return(t+n)/e}},t.exports.resetGlobal=function(){Math.random=d},i(Math.random(),u)}).call(e,n(216))},function(t,e){function n(){}n.prototype={on:function(t,e,n){var r=this.e||(this.e={});return(r[t]||(r[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){function r(){i.off(t,r),e.apply(n,arguments)}var i=this;return r._=e,this.on(t,r,n)},emit:function(t){var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),r=0,i=n.length;for(r;r<i;r++)n[r].fn.apply(n[r].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),r=n[t],i=[];if(r&&e)for(var o=0,a=r.length;o<a;o++)r[o].fn!==e&&r[o].fn._!==e&&i.push(r[o]);return i.length?n[t]=i:delete n[t],this}},t.exports=n},function(t,e,n){"use strict";var r,i,o;!function(n,a){i=[],r=a,void 0!==(o="function"==typeof r?r.apply(e,i):r)&&(t.exports=o)}(0,function(){function t(){function e(t){for(var e,n=0;n<E.types.length;n++){var r=E.types[n];if(r.name===t){e=r.test;break}}if(!e){var i;for(n=0;n<E.types.length;n++)if(r=E.types[n],r.name.toLowerCase()==t.toLowerCase()){i=r.name;break}throw new Error('Unknown type "'+t+'"'+(i?'. Did you mean "'+i+'"?':""))}return e}function n(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(r.signatures&&""!=r.name)if(""==e)e=r.name;else if(e!=r.name){var i=new Error("Function names do not match (expected: "+e+", actual: "+r.name+")");throw i.data={actual:r.name,expected:e},i}}return e}function r(t,e,n,r,i){var o,a=m(r),s=i?i.split(","):null,u=t||"unnamed",c=s&&g(s,"any"),f={fn:t,index:n,actual:r,expected:s};o=s?e>n&&!c?"Unexpected type of argument in function "+u+" (expected: "+s.join(" or ")+", actual: "+a+", index: "+n+")":"Too few arguments in function "+u+" (expected: "+s.join(" or ")+", index: "+n+")":"Too many arguments in function "+u+" (expected: "+n+", actual: "+e+")";var l=new TypeError(o);return l.data=f,l}function i(t){this.name=t||"refs",this.categories={}}function o(t,e){if("string"==typeof t){var n=t.trim(),r="..."===n.substr(0,3);if(r&&(n=n.substr(3)),""===n)this.types=["any"];else{this.types=n.split("|");for(var i=0;i<this.types.length;i++)this.types[i]=this.types[i].trim()}}else{if(!Array.isArray(t)){if(t instanceof o)return t.clone();throw new Error("String or Array expected")}this.types=t}this.conversions=[],this.varArgs=r||e||!1,this.anyType=-1!==this.types.indexOf("any")}function a(t,e){var n;if("string"==typeof t)n=""!==t?t.split(","):[];else{if(!Array.isArray(t))throw new Error("string or Array expected");n=t}this.params=new Array(n.length),this.anyType=!1,this.varArgs=!1;for(var r=0;r<n.length;r++){var i=new o(n[r]);if(this.params[r]=i,i.anyType&&(this.anyType=!0),r===n.length-1)this.varArgs=i.varArgs;else if(i.varArgs)throw new SyntaxError('Unexpected variable arguments operator "..."')}this.fn=e}function s(t,e,n,r){this.path=t||[],this.param=t[t.length-1]||null,this.signature=e||null,this.childs=n||[],this.fallThrough=r||!1}function u(t){var e,n,r={},i=[];for(var o in t)if(t.hasOwnProperty(o)){var s=t[o];if(e=new a(o,s),e.ignore())continue;var u=e.expand();for(n=0;n<u.length;n++){var c=u[n],f=c.toString(),l=r[f];if(l){var h=a.compare(c,l);if(h<0)r[f]=c;else if(0===h)throw new Error('Signature "'+f+'" is defined twice')}else r[f]=c}}for(f in r)r.hasOwnProperty(f)&&i.push(r[f]);for(i.sort(function(t,e){return a.compare(t,e)}),n=0;n<i.length;n++)if(e=i[n],e.varArgs)for(var p=e.params.length-1,d=e.params[p],m=0;m<d.types.length;){if(d.conversions[m])for(var v=d.types[m],y=0;y<i.length;y++){var x=i[y],w=x.params[p];if(x!==e&&w&&g(w.types,v)&&!w.conversions[p]){d.types.splice(m,1),d.conversions.splice(m,1),m--;break}}m++}return i}function c(t){for(var e=[],n=0;n<t.length;n++)t[n].anyType&&e.push(t[n]);return e}function f(t){for(var e={},n=0;n<t.length;n++){var r=t[n];if(r.fn&&!r.hasConversions()){e[r.params.join(",")]=r.fn}}return e}function l(t,e,n){var r,i,a,u=e.length,c=[];for(r=0;r<t.length;r++)i=t[r],i.params.length!==u||a||(a=i),void 0!=i.params[u]&&c.push(i);c.sort(function(t,e){return o.compare(t.params[u],e.params[u])});var f=[];for(r=0;r<c.length;r++){i=c[r];var h=i.params[u],p=f.filter(function(t){return t.param.overlapping(h)})[0];if(p){if(p.param.varArgs)throw new Error('Conflicting types "'+p.param+'" and "'+h+'"');p.signatures.push(i)}else f.push({param:h,signatures:[i]})}var d=[];for(r=0;r<n.length;r++)n[r].paramsStartWith(e)&&d.push(n[r]);var m=!1;for(r=0;r<d.length;r++)if(!g(t,d[r])){m=!0;break}var v=new Array(f.length);for(r=0;r<f.length;r++){var y=f[r];v[r]=l(y.signatures,e.concat(y.param),d)}return new s(e,a,v,m)}function h(t){for(var e=[],n=0;n<t;n++)e[n]="arg"+n;return e}function p(t,e){var n=new i,o=u(e);if(0==o.length)throw new Error("No signatures provided");var a=c(o),s=l(o,[],a),p=[],m=t||"",g=h(d(o));p.push("function "+m+"("+g.join(", ")+") {"),p.push('  "use strict";'),p.push("  var name = '"+m+"';"),p.push(s.toCode(n,"  ",!1)),p.push("}");var v=[n.toCode(),"return "+p.join("\n")].join("\n"),y=new Function(n.name,"createError",v),x=y(n,r);return x.signatures=f(o),x}function d(t){for(var e=0,n=0;n<t.length;n++){var r=t[n].params.length;r>e&&(e=r)}return e}function m(t){for(var e,n=0;n<E.types.length;n++){var r=E.types[n];if("Object"===r.name)e=r;else if(r.test(t))return r.name}return e&&e.test(t)?e.name:"unknown"}function g(t,e){return-1!==t.indexOf(e)}function v(t){return t[t.length-1]}function y(t,e){if(!t.signatures)throw new TypeError("Function is no typed-function");var n;if("string"==typeof e){n=e.split(",");for(var r=0;r<n.length;r++)n[r]=n[r].trim()}else{if(!Array.isArray(e))throw new TypeError("String array or a comma separated string expected");n=e}var i=n.join(","),o=t.signatures[i];if(o)return o;throw new TypeError("Signature not found (signature: "+(t.name||"unnamed")+"("+n.join(", ")+"))")}function x(t,e){var n=m(t);if(e===n)return t;for(var r=0;r<E.conversions.length;r++){var i=E.conversions[r];if(i.from===n&&i.to===e)return i.convert(t)}throw new Error("Cannot convert from "+n+" to "+e)}i.prototype.add=function(t,e){var n=e||"fn";this.categories[n]||(this.categories[n]=[]);var r=this.categories[n].indexOf(t);return-1==r&&(r=this.categories[n].length,this.categories[n].push(t)),n+r},i.prototype.toCode=function(){var t=[],e=this.name+".categories",n=this.categories;for(var r in n)if(n.hasOwnProperty(r))for(var i=n[r],o=0;o<i.length;o++)t.push("var "+r+o+" = "+e+"['"+r+"']["+o+"];");return t.join("\n")},o.compare=function(t,e){if(t.anyType)return 1;if(e.anyType)return-1;if(g(t.types,"Object"))return 1;if(g(e.types,"Object"))return-1;if(t.hasConversions()){if(e.hasConversions()){var n,r,i;for(n=0;n<t.conversions.length;n++)if(void 0!==t.conversions[n]){r=t.conversions[n];break}for(n=0;n<e.conversions.length;n++)if(void 0!==e.conversions[n]){i=e.conversions[n];break}return E.conversions.indexOf(r)-E.conversions.indexOf(i)}return 1}if(e.hasConversions())return-1;var o,a;for(n=0;n<E.types.length;n++)if(E.types[n].name===t.types[0]){o=n;break}for(n=0;n<E.types.length;n++)if(E.types[n].name===e.types[0]){a=n;break}return o-a},o.prototype.overlapping=function(t){for(var e=0;e<this.types.length;e++)if(g(t.types,this.types[e]))return!0;return!1},o.prototype.matches=function(t){return this.anyType||t.anyType||this.overlapping(t)},o.prototype.clone=function(){var t=new o(this.types.slice(),this.varArgs);return t.conversions=this.conversions.slice(),t},o.prototype.hasConversions=function(){return this.conversions.length>0},o.prototype.contains=function(t){for(var e=0;e<this.types.length;e++)if(t[this.types[e]])return!0;return!1},o.prototype.toString=function(t){for(var e=[],n={},r=0;r<this.types.length;r++){var i=this.conversions[r],o=t&&i?i.to:this.types[r];o in n||(n[o]=!0,e.push(o))}return(this.varArgs?"...":"")+e.join("|")},a.prototype.clone=function(){return new a(this.params.slice(),this.fn)},a.prototype.expand=function(){function t(n,r){if(r.length<n.params.length){var i,s,u,c=n.params[r.length];if(c.varArgs){for(s=c.clone(),i=0;i<E.conversions.length;i++)if(u=E.conversions[i],!g(c.types,u.from)&&g(c.types,u.to)){var f=s.types.length;s.types[f]=u.from,s.conversions[f]=u}t(n,r.concat(s))}else{for(i=0;i<c.types.length;i++)t(n,r.concat(new o(c.types[i])));for(i=0;i<E.conversions.length;i++)u=E.conversions[i],!g(c.types,u.from)&&g(c.types,u.to)&&(s=new o(u.from),s.conversions[0]=u,t(n,r.concat(s)))}}else e.push(new a(r,n.fn))}var e=[];return t(this,[]),e},a.compare=function(t,e){if(t.params.length>e.params.length)return 1;if(t.params.length<e.params.length)return-1;var n,r=t.params.length,i=0,a=0;for(n=0;n<r;n++)t.params[n].hasConversions()&&i++,e.params[n].hasConversions()&&a++;if(i>a)return 1;if(i<a)return-1;for(n=0;n<t.params.length;n++){var s=o.compare(t.params[n],e.params[n]);if(0!==s)return s}return 0},a.prototype.hasConversions=function(){for(var t=0;t<this.params.length;t++)if(this.params[t].hasConversions())return!0;return!1},a.prototype.ignore=function(){for(var t={},e=0;e<E.ignore.length;e++)t[E.ignore[e]]=!0;for(e=0;e<this.params.length;e++)if(this.params[e].contains(t))return!0;return!1},a.prototype.paramsStartWith=function(t){if(0===t.length)return!0;for(var e=v(this.params),n=v(t),r=0;r<t.length;r++){var i=this.params[r]||(e.varArgs?e:null),o=t[r]||(n.varArgs?n:null);if(!i||!o||!i.matches(o))return!1}return!0},a.prototype.toCode=function(t,e){for(var n=[],r=new Array(this.params.length),i=0;i<this.params.length;i++){var o=this.params[i],a=o.conversions[0];o.varArgs?r[i]="varArgs":r[i]=a?t.add(a.convert,"convert")+"(arg"+i+")":"arg"+i}var s=this.fn?t.add(this.fn,"signature"):void 0;return s?e+"return "+s+"("+r.join(", ")+"); // signature: "+this.params.join(", "):n.join("\n")},a.prototype.toString=function(){return this.params.join(", ")},s.prototype.toCode=function(t,n){var r=[];if(this.param){var i=this.path.length-1,o=this.param.conversions[0],a="// type: "+(o?o.from+" (convert to "+o.to+")":this.param);if(this.param.varArgs)if(this.param.anyType)r.push(n+"if (arguments.length > "+i+") {"),r.push(n+"  var varArgs = [];"),r.push(n+"  for (var i = "+i+"; i < arguments.length; i++) {"),r.push(n+"    varArgs.push(arguments[i]);"),r.push(n+"  }"),r.push(this.signature.toCode(t,n+"  ")),r.push(n+"}");else{for(var s=function(n,r){for(var i=[],o=0;o<n.length;o++)i[o]=t.add(e(n[o]),"test")+"("+r+")";return i.join(" || ")}.bind(this),u=this.param.types,c=[],f=0;f<u.length;f++)void 0===this.param.conversions[f]&&c.push(u[f]);r.push(n+"if ("+s(u,"arg"+i)+") { "+a),r.push(n+"  var varArgs = [arg"+i+"];"),r.push(n+"  for (var i = "+(i+1)+"; i < arguments.length; i++) {"),r.push(n+"    if ("+s(c,"arguments[i]")+") {"),r.push(n+"      varArgs.push(arguments[i]);");for(var f=0;f<u.length;f++){var l=this.param.conversions[f];if(l){var h=t.add(e(u[f]),"test"),p=t.add(l.convert,"convert");r.push(n+"    }"),r.push(n+"    else if ("+h+"(arguments[i])) {"),r.push(n+"      varArgs.push("+p+"(arguments[i]));")}}r.push(n+"    } else {"),r.push(n+"      throw createError(name, arguments.length, i, arguments[i], '"+c.join(",")+"');"),r.push(n+"    }"),r.push(n+"  }"),r.push(this.signature.toCode(t,n+"  ")),r.push(n+"}")}else if(this.param.anyType)r.push(n+"// type: any"),r.push(this._innerCode(t,n));else{var d=this.param.types[0],h="any"!==d?t.add(e(d),"test"):null;r.push(n+"if ("+h+"(arg"+i+")) { "+a),r.push(this._innerCode(t,n+"  ")),r.push(n+"}")}}else r.push(this._innerCode(t,n));return r.join("\n")},s.prototype._innerCode=function(t,e){var n,r=[];for(this.signature&&(r.push(e+"if (arguments.length === "+this.path.length+") {"),r.push(this.signature.toCode(t,e+"  ")),r.push(e+"}")),n=0;n<this.childs.length;n++)r.push(this.childs[n].toCode(t,e));if(!this.fallThrough||this.param&&this.param.anyType){var i=this._exceptions(t,e);i&&r.push(i)}return r.join("\n")},s.prototype._exceptions=function(t,e){var n=this.path.length;if(0===this.childs.length)return[e+"if (arguments.length > "+n+") {",e+"  throw createError(name, arguments.length, "+n+", arguments["+n+"]);",e+"}"].join("\n");for(var r={},i=[],o=0;o<this.childs.length;o++){var a=this.childs[o];if(a.param)for(var s=0;s<a.param.types.length;s++){var u=a.param.types[s];u in r||a.param.conversions[s]||(r[u]=!0,i.push(u))}}return e+"throw createError(name, arguments.length, "+n+", arguments["+n+"], '"+i.join(",")+"');"};var w=[{name:"number",test:function(t){return"number"==typeof t}},{name:"string",test:function(t){return"string"==typeof t}},{name:"boolean",test:function(t){return"boolean"==typeof t}},{name:"Function",test:function(t){return"function"==typeof t}},{name:"Array",test:Array.isArray},{name:"Date",test:function(t){return t instanceof Date}},{name:"RegExp",test:function(t){return t instanceof RegExp}},{name:"Object",test:function(t){return"object"==typeof t}},{name:"null",test:function(t){return null===t}},{name:"undefined",test:function(t){return void 0===t}}],b={},_=[],N=[],E={config:b,types:w,conversions:_,ignore:N};return E=p("typed",{Object:function(t){var e=[];for(var r in t)t.hasOwnProperty(r)&&e.push(t[r]);return p(n(e),t)},"string, Object":p,"...Function":function(t){for(var e,r=n(t),i={},o=0;o<t.length;o++){var a=t[o];if("object"!=typeof a.signatures)throw e=new TypeError("Function is no typed-function (index: "+o+")"),e.data={index:o},e;for(var s in a.signatures)if(a.signatures.hasOwnProperty(s))if(i.hasOwnProperty(s)){if(a.signatures[s]!==i[s])throw e=new Error('Signature "'+s+'" is defined twice'),e.data={signature:s},e}else i[s]=a.signatures[s]}return p(r,i)}}),E.config=b,E.types=w,E.conversions=_,E.ignore=N,E.create=t,E.find=y,E.convert=x,E.addType=function(t){if(!t||"string"!=typeof t.name||"function"!=typeof t.test)throw new TypeError("Object with properties {name: string, test: function} expected");E.types.push(t)},E.addConversion=function(t){if(!t||"string"!=typeof t.from||"string"!=typeof t.to||"function"!=typeof t.convert)throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");E.conversions.push(t)},E}return t()})},function(t,e){},function(t,e){},function(t,e,n){n(218),t.exports=n(219)}]);